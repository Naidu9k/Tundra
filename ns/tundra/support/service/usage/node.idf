<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.support.service.usage</value>
  <value name="is_public">false</value>
  <value name="shared">Ly8gcmVwcmVzZW50cyBhIHNpbmdsZSBjdXJyZW50bHkgZXhlY3V0aW5nIGludm9jYXRpb24gb2Yg
YSBzZXJ2aWNlCnB1YmxpYyBzdGF0aWMgY2xhc3MgU2VydmljZUV4ZWN1dGlvbiBpbXBsZW1lbnRz
IGNvbS53bS51dGlsLmNvZGVyLklEYXRhQ29kYWJsZSB7CiAgcHJpdmF0ZSBsb25nIHN0YXJ0VGlt
ZTsKICBwcml2YXRlIGNvbS53bS5hcHAuYjJiLnNlcnZlci5CYXNlU2VydmljZSBzZXJ2aWNlOwog
IHByaXZhdGUgSURhdGEgcGlwZWxpbmU7CiAgcHJpdmF0ZSBTdHJpbmcgdXNlciwgc2Vzc2lvbjsK
CiAgcHVibGljIFNlcnZpY2VFeGVjdXRpb24oU3RyaW5nIHNlcnZpY2UsIElEYXRhIHBpcGVsaW5l
LCBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuSW52b2tlU3RhdGUgc3RhdGUpIHsKICAgIHRoaXMoY29t
LndtLmxhbmcubnMuTlNOYW1lLmNyZWF0ZShzZXJ2aWNlKSwgcGlwZWxpbmUsIHN0YXRlKTsKICB9
CgogIHB1YmxpYyBTZXJ2aWNlRXhlY3V0aW9uKGNvbS53bS5sYW5nLm5zLk5TTmFtZSBzZXJ2aWNl
LCBJRGF0YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVyLkludm9rZVN0YXRlIHN0YXRl
KSB7CiAgICB0aGlzKGNvbS53bS5hcHAuYjJiLnNlcnZlci5ucy5OYW1lc3BhY2UuZ2V0U2Vydmlj
ZShzZXJ2aWNlKSwgcGlwZWxpbmUsIHN0YXRlKTsKICB9CgogIHB1YmxpYyBTZXJ2aWNlRXhlY3V0
aW9uKGNvbS53bS5hcHAuYjJiLnNlcnZlci5CYXNlU2VydmljZSBzZXJ2aWNlLCBJRGF0YSBwaXBl
bGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVyLkludm9rZVN0YXRlIHN0YXRlKSB7CiAgICB0aGlz
LnNlcnZpY2UgPSBzZXJ2aWNlOwogICAgdGhpcy5waXBlbGluZSA9IHBpcGVsaW5lID09IG51bGwg
PyBJRGF0YUZhY3RvcnkuY3JlYXRlKCkgOiBJRGF0YVV0aWwuY2xvbmUocGlwZWxpbmUpOwogICAg
dGhpcy5zdGFydFRpbWUgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTsKICAgIHRoaXMuc2Vz
c2lvbiA9IHN0YXRlLmdldFNlc3Npb24oKS5nZXRTZXNzaW9uSUQoKTsKICAgIHRoaXMudXNlciA9
IHN0YXRlLmdldFVzZXIoKS5nZXROYW1lKCk7CiAgfQoKICAvLyByZXR1cm5zIHRoZSBuYW1lIG9m
IHRoZSBzZXJ2aWNlIGJlaW5nIGludm9rZWQKICBwdWJsaWMgU3RyaW5nIGdldFNlcnZpY2VOYW1l
KCkgewogICAgcmV0dXJuIHNlcnZpY2UuZ2V0TlNOYW1lKCkuZ2V0RnVsbE5hbWUoKTsKICB9Cgog
IC8vIHJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHBhY2thZ2UgaW4gd2hpY2ggdGhlIHNlcnZpY2Ug
YmVpbmcgaW52b2tlZCByZXNpZGVzCiAgcHVibGljIFN0cmluZyBnZXRQYWNrYWdlTmFtZSgpIHsK
ICAgIHJldHVybiBzZXJ2aWNlLmdldFBhY2thZ2VOYW1lKCk7CiAgfQoKICAvLyByZXR1cm5zIHRo
ZSBuYW1lIG9mIHRoZSB1c2VyIGludm9raW5nIHRoZSBzZXJ2aWNlCiAgcHVibGljIFN0cmluZyBn
ZXRVc2VyKCkgewogICAgcmV0dXJuIHVzZXI7CiAgfQoKICAvLyByZXR1cm5zIHRoZSBzZXNzaW9u
IG5hbWUgaW52b2tpbmcgdGhlIHNlcnZpY2UKICBwdWJsaWMgU3RyaW5nIGdldFNlc3Npb24oKSB7
CiAgICByZXR1cm4gc2Vzc2lvbjsKICB9CgogIC8vIHJldHVybnMgdGhlIHBpcGVsaW5lIGFzc29j
aWF0ZWQgd2l0aCB0aGlzIGludm9jYXRpb24KICBwdWJsaWMgSURhdGEgZ2V0UGlwZWxpbmUoKSB7
CiAgICByZXR1cm4gcGlwZWxpbmU7CiAgfQoKICAvLyByZXR1cm5zIHRoZSBwaXBlbGluZSBhc3Nv
Y2lhdGVkIHdpdGggdGhpcyBpbnZvY2F0aW9uCiAgcHVibGljIGludCBnZXRQaXBlbGluZVNpemUo
KSB7CiAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKICAgIGlu
dCBzaXplID0gSURhdGFVdGlsLnNpemUoY3Vyc29yKTsKICAgIGN1cnNvci5kZXN0cm95KCk7CiAg
ICByZXR1cm4gc2l6ZTsKICB9CgogIC8vIHJldHVybnMgdGhlIGludm9jYXRpb24gZHVyYXRpb24g
aW4gbWlsbGlzZWNvbmRzCiAgcHVibGljIGxvbmcgZ2V0RHVyYXRpb24oKSB7CiAgICByZXR1cm4g
U3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkgLSBzdGFydFRpbWU7CiAgfQoKICAvLyByZXR1cm5z
IGFuIElEYXRhIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0CiAgcHVibGljIElEYXRhIGdl
dElEYXRhKCkgewogICAgSURhdGEgb3V0cHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogICAg
SURhdGFDdXJzb3IgY3Vyc29yID0gb3V0cHV0LmdldEN1cnNvcigpOwoKICAgIElEYXRhVXRpbC5w
dXQoY3Vyc29yLCAic2VydmljZSIsIGdldFNlcnZpY2VOYW1lKCkpOwogICAgSURhdGFVdGlsLnB1
dChjdXJzb3IsICJwYWNrYWdlIiwgZ2V0UGFja2FnZU5hbWUoKSk7CiAgICBJRGF0YVV0aWwucHV0
KGN1cnNvciwgInBpcGVsaW5lIiwgZ2V0UGlwZWxpbmUoKSk7CiAgICBJRGF0YVV0aWwucHV0KGN1
cnNvciwgInBpcGVsaW5lLmxlbmd0aCIsIGdldFBpcGVsaW5lU2l6ZSgpKTsKICAgIElEYXRhVXRp
bC5wdXQoY3Vyc29yLCAic3RhcnQiLCB0dW5kcmEuZGF0ZXRpbWUuZm9ybWF0KCIiICsgc3RhcnRU
aW1lLCAibWlsbGlzZWNvbmRzIiwgImRhdGV0aW1lIikpOwogICAgSURhdGFVdGlsLnB1dChjdXJz
b3IsICJkdXJhdGlvbiIsIHR1bmRyYS5kdXJhdGlvbi5mb3JtYXQoIiIgKyBnZXREdXJhdGlvbigp
LCAibWlsbGlzZWNvbmRzIiwgInhtbCIpKTsKICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAic2Vz
c2lvbiIsIGdldFNlc3Npb24oKSk7CiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgInVzZXIiLCBn
ZXRVc2VyKCkpOwogICAgY3Vyc29yLmRlc3Ryb3koKTsKCiAgICByZXR1cm4gb3V0cHV0OwogIH0K
CiAgLy8gc2V0cyB2YWx1ZXMgZnJvbSB0aGUgZ2l2ZW4gSURhdGEgLSBub3QgaW1wbGVtZW50ZWQK
ICBwdWJsaWMgdm9pZCBzZXRJRGF0YShJRGF0YSBpbnB1dCkgewogICAgdGhyb3cgbmV3IFVuc3Vw
cG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCJzZXRJRGF0YSBub3QgaW1wbGVtZW50ZWQiKTsKICB9
Cn0KCi8vIHJlcHJlc2VudHMgYSBzaW5nbGUgY3VycmVudGx5IGV4ZWN1dGluZyBpbnZvY2F0aW9u
IGNhbGwgc3RhY2sKcHVibGljIHN0YXRpYyBjbGFzcyBTZXJ2aWNlRXhlY3V0aW9uVGhyZWFkIGlt
cGxlbWVudHMgY29tLndtLnV0aWwuY29kZXIuSURhdGFDb2RhYmxlIHsKICBwcml2YXRlIFRocmVh
ZCB0aHJlYWQgPSBudWxsOwogIHByaXZhdGUgamF2YS51dGlsLkRlcXVlPFNlcnZpY2VFeGVjdXRp
b24+IHN0YWNrID0gbnVsbDsKICBsb25nIHN0YXJ0VGltZTsKCiAgLy8gY3JlYXRlcyBhIG5ldyBT
ZXJ2aWNlRXhlY3V0aW9uVGhyZWFkCiAgcHVibGljIFNlcnZpY2VFeGVjdXRpb25UaHJlYWQoVGhy
ZWFkIHRocmVhZCkgewogICAgdGhpcy50aHJlYWQgPSB0aHJlYWQ7CiAgICB0aGlzLnN0YWNrID0g
bmV3IGphdmEudXRpbC5BcnJheURlcXVlPFNlcnZpY2VFeGVjdXRpb24+KCk7CiAgICB0aGlzLnN0
YXJ0VGltZSA9IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwogIH0KCiAgcHVibGljIHZvaWQg
cHVzaChTZXJ2aWNlRXhlY3V0aW9uIGludm9jYXRpb24pIHsKICAgIHN0YWNrLnB1c2goaW52b2Nh
dGlvbik7CiAgfQoKICBwdWJsaWMgU2VydmljZUV4ZWN1dGlvbiBwb3AoKSB7CiAgICByZXR1cm4g
c3RhY2sucG9wKCk7CiAgfQoKICBwdWJsaWMgaW50IHNpemUoKSB7CiAgICByZXR1cm4gc3RhY2su
c2l6ZSgpOwogIH0KCiAgLy8gcmV0dXJucyB0aGUgaW52b2NhdGlvbiBkdXJhdGlvbiBpbiBtaWxs
aXNlY29uZHMKICBwdWJsaWMgbG9uZyBnZXREdXJhdGlvbigpIHsKICAgIHJldHVybiBTeXN0ZW0u
Y3VycmVudFRpbWVNaWxsaXMoKSAtIHN0YXJ0VGltZTsKICB9CgogIC8vIHJldHVybnMgYW4gSURh
dGEgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBpbnZvY2F0aW9uIHRyZWUKICBwdWJsaWMgSURhdGEg
Z2V0SURhdGEoKSB7CiAgICBJRGF0YSBvdXRwdXQgPSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7CiAg
ICBJRGF0YUN1cnNvciBjdXJzb3IgPSBvdXRwdXQuZ2V0Q3Vyc29yKCk7CgogICAgSURhdGFVdGls
LnB1dChjdXJzb3IsICJ0aHJlYWQuaWQiLCB0aHJlYWQuZ2V0SWQoKSk7CiAgICBJRGF0YVV0aWwu
cHV0KGN1cnNvciwgInRocmVhZC5uYW1lIiwgdGhyZWFkLmdldE5hbWUoKSk7CiAgICBJRGF0YVV0
aWwucHV0KGN1cnNvciwgInRocmVhZC5vYmplY3QiLCB0aHJlYWQpOwogICAgSURhdGFVdGlsLnB1
dChjdXJzb3IsICJ0aHJlYWQuc3RhcnQiLCB0dW5kcmEuZGF0ZXRpbWUuZm9ybWF0KCIiICsgc3Rh
cnRUaW1lLCAibWlsbGlzZWNvbmRzIiwgImRhdGV0aW1lIikpOwogICAgSURhdGFVdGlsLnB1dChj
dXJzb3IsICJ0aHJlYWQuZHVyYXRpb24iLCB0dW5kcmEuZHVyYXRpb24uZm9ybWF0KCIiICsgZ2V0
RHVyYXRpb24oKSwgIm1pbGxpc2Vjb25kcyIsICJ4bWwiKSk7CgogICAgU2VydmljZUV4ZWN1dGlv
bltdIGxpc3QgPSBzdGFjay50b0FycmF5KG5ldyBTZXJ2aWNlRXhlY3V0aW9uWzBdKTsKICAgIElE
YXRhW10gc2VydmljZXMgPSBuZXcgSURhdGFbbGlzdC5sZW5ndGhdOwogICAgZm9yKGludCBpID0g
MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHNlcnZpY2VzW2ldID0gbGlzdFtpXS5nZXRJRGF0YSgp
OwogICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJjYWxsc3RhY2siLCBzZXJ2aWNlcyk7CiAgICBJ
RGF0YVV0aWwucHV0KGN1cnNvciwgImNhbGxzdGFjay5sZW5ndGgiLCBzZXJ2aWNlcy5sZW5ndGgp
OwoKICAgIGN1cnNvci5kZXN0cm95KCk7CgogICAgcmV0dXJuIG91dHB1dDsKICB9CgogIC8vIHNl
dHMgdmFsdWVzIGZyb20gdGhlIGdpdmVuIElEYXRhIC0gbm90IGltcGxlbWVudGVkCiAgcHVibGlj
IHZvaWQgc2V0SURhdGEoSURhdGEgaW5wdXQpIHsKICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9w
ZXJhdGlvbkV4Y2VwdGlvbigic2V0SURhdGEgbm90IGltcGxlbWVudGVkIik7CiAgfQp9CgpwdWJs
aWMgZmluYWwgc3RhdGljIGNsYXNzIFNlcnZpY2VFeGVjdXRpb25Db250ZXh0IGltcGxlbWVudHMg
Y29tLndtLmFwcC5iMmIuc2VydmVyLmludm9rZS5JbnZva2VDaGFpblByb2Nlc3NvciwgY29tLndt
LnV0aWwuY29kZXIuSURhdGFDb2RhYmxlIHsKICBwcml2YXRlIHN0YXRpYyBTZXJ2aWNlRXhlY3V0
aW9uQ29udGV4dCBpbnN0YW5jZSA9IG51bGw7CiAgcHJpdmF0ZSBsb25nIHN0YXJ0VGltZSA9IDA7
CiAgcHJpdmF0ZSBqYXZhLnV0aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljTG9uZyB0b3RhbElu
dm9jYXRpb25zID0gbmV3IGphdmEudXRpbC5jb25jdXJyZW50LmF0b21pYy5BdG9taWNMb25nKDAp
OwogIHByaXZhdGUgamF2YS51dGlsLmNvbmN1cnJlbnQuYXRvbWljLkF0b21pY0xvbmcgdG90YWxF
cnJvcnMgPSBuZXcgamF2YS51dGlsLmNvbmN1cnJlbnQuYXRvbWljLkF0b21pY0xvbmcoMCk7CiAg
cHJpdmF0ZSBib29sZWFuIHN0YXJ0ZWQgPSBmYWxzZTsKICBwcml2YXRlIGphdmEudXRpbC5NYXA8
TG9uZywgU2VydmljZUV4ZWN1dGlvblRocmVhZD4gY3VycmVudFRocmVhZHMgPSBuZXcgamF2YS51
dGlsLmNvbmN1cnJlbnQuQ29uY3VycmVudEhhc2hNYXA8TG9uZywgU2VydmljZUV4ZWN1dGlvblRo
cmVhZD4oKTsKCiAgLy8gY3JlYXRlcyBhIG5ldyBTZXJ2aWNlRXhlY3V0aW9uQ29udGV4dCBvYmpl
Y3QKICBwcml2YXRlIFNlcnZpY2VFeGVjdXRpb25Db250ZXh0KCkgewogIH0KCiAgLy8gcmV0dXJu
cyB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MKICBwdWJsaWMgc3RhdGljIFNl
cnZpY2VFeGVjdXRpb25Db250ZXh0IGdldEluc3RhbmNlKCkgewogICAgaWYgKGluc3RhbmNlID09
IG51bGwpIGluc3RhbmNlID0gbmV3IFNlcnZpY2VFeGVjdXRpb25Db250ZXh0KCk7CiAgICByZXR1
cm4gaW5zdGFuY2U7CiAgfQoKICAvLyByZWNvcmRzIGVhY2ggY3VycmVudGx5IGV4ZWN1dGluZyBp
bnZvY2F0aW9uCiAgcHVibGljIHZvaWQgcHJvY2VzcyhqYXZhLnV0aWwuSXRlcmF0b3IgY2hhaW4s
IGNvbS53bS5hcHAuYjJiLnNlcnZlci5CYXNlU2VydmljZSBzZXJ2aWNlLCBJRGF0YSBwaXBlbGlu
ZSwgY29tLndtLmFwcC5iMmIuc2VydmVyLmludm9rZS5TZXJ2aWNlU3RhdHVzIHN0YXR1cykgdGhy
b3dzIGNvbS53bS51dGlsLlNlcnZlckV4Y2VwdGlvbiB7CiAgICBUaHJlYWQgY3VycmVudFRocmVh
ZCA9IFRocmVhZC5jdXJyZW50VGhyZWFkKCk7CiAgICBMb25nIGlkID0gY3VycmVudFRocmVhZC5n
ZXRJZCgpOwoKICAgIHRyeSB7CiAgICAgIC8vIHJlZ2lzdGVyIHRoaXMgY2FsbCBpbiBhIHRyeS9j
YXRjaCBzbyB0aGF0IGFueSBmYWlsdXJlcyBkbyBub3Qgc3RvcCBzZXJ2aWNlIGludm9jYXRpb24K
ICAgICAgdHJ5IHsKICAgICAgICBTZXJ2aWNlRXhlY3V0aW9uVGhyZWFkIHNlcnZpY2VUaHJlYWQg
PSBjdXJyZW50VGhyZWFkcy5nZXQoaWQpOwoKICAgICAgICBpZiAoc2VydmljZVRocmVhZCA9PSBu
dWxsKSB7CiAgICAgICAgICBzZXJ2aWNlVGhyZWFkID0gbmV3IFNlcnZpY2VFeGVjdXRpb25UaHJl
YWQoY3VycmVudFRocmVhZCk7CiAgICAgICAgICBjdXJyZW50VGhyZWFkcy5wdXQoaWQsIHNlcnZp
Y2VUaHJlYWQpOwogICAgICAgIH0KICAgICAgICBpZiAoc2VydmljZVRocmVhZCAhPSBudWxsKSBz
ZXJ2aWNlVGhyZWFkLnB1c2gobmV3IFNlcnZpY2VFeGVjdXRpb24oc2VydmljZSwgcGlwZWxpbmUs
IGNvbS53bS5hcHAuYjJiLnNlcnZlci5JbnZva2VTdGF0ZS5nZXRDdXJyZW50U3RhdGUoKSkpOwoK
ICAgICAgICB0b3RhbEludm9jYXRpb25zLmluY3JlbWVudEFuZEdldCgpOwogICAgICB9IGNhdGNo
IChUaHJvd2FibGUgZXgpIHsgCiAgICAgICAgLy8gZG8gbm90aGluZwogICAgICB9CgogICAgICBp
ZiAoY2hhaW4uaGFzTmV4dCgpKSAoKGNvbS53bS5hcHAuYjJiLnNlcnZlci5pbnZva2UuSW52b2tl
Q2hhaW5Qcm9jZXNzb3IpY2hhaW4ubmV4dCgpKS5wcm9jZXNzKGNoYWluLCBzZXJ2aWNlLCBwaXBl
bGluZSwgc3RhdHVzKTsKICAgIH0gY2F0Y2ggKGNvbS53bS51dGlsLlNlcnZlckV4Y2VwdGlvbiBl
eCkgewogICAgICB0b3RhbEVycm9ycy5pbmNyZW1lbnRBbmRHZXQoKTsKICAgICAgdGhyb3cgZXg7
CiAgICB9IGZpbmFsbHkgewogICAgICB0cnkgewogICAgICAgIFNlcnZpY2VFeGVjdXRpb25UaHJl
YWQgc2VydmljZVRocmVhZCA9IGN1cnJlbnRUaHJlYWRzLmdldChpZCk7CiAgICAgICAgaWYgKHNl
cnZpY2VUaHJlYWQgIT0gbnVsbCkgewogICAgICAgICAgc2VydmljZVRocmVhZC5wb3AoKTsgLy8g
aW52b2NhdGlvbiBmaW5pc2hlZCwgc28gcmVtb3ZlIGZyb20gY2FsbCBzdGFjawogICAgICAgICAg
aWYgKHNlcnZpY2VUaHJlYWQuc2l6ZSgpID09IDApIGN1cnJlbnRUaHJlYWRzLnJlbW92ZShpZCk7
IC8vIHRvcC1sZXZlbCBpbnZvY2F0aW9uIGZpbmlzaGVkLCBzbyByZW1vdmUgZnJvbSBjdXJyZW50
bHkgZXhlY3V0aW5nIHRocmVhZHMKICAgICAgICB9CiAgICAgIH0gY2F0Y2goVGhyb3dhYmxlIGV4
KSB7CiAgICAgICAgLy8gZG8gbm90aGluZwogICAgICB9CiAgICB9CiAgfQoKICAvLyByZXR1cm5z
IHRoZSBjdXJyZW50IGludm9jYXRpb24gY29udGV4dCBvZiB0aGUgc2VydmVyIGFzIGFuIElEYXRh
W10gZG9jdW1lbnQgbGlzdAogIHB1YmxpYyBJRGF0YSBnZXRJRGF0YSgpIHsKICAgIElEYXRhIG91
dHB1dCA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsKICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9IG91
dHB1dC5nZXRDdXJzb3IoKTsKCiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgIm1vbml0b3Jpbmcu
c3RhcnRlZD8iLCAiIiArIHN0YXJ0ZWQpOwogICAgaWYgKHN0YXJ0ZWQpIHsKICAgICAgSURhdGFV
dGlsLnB1dChjdXJzb3IsICJtb25pdG9yaW5nLnN0YXJ0IiwgdHVuZHJhLmRhdGV0aW1lLmZvcm1h
dCgiIiArIHN0YXJ0VGltZSwgIm1pbGxpc2Vjb25kcyIsICJkYXRldGltZSIpKTsKICAgICAgSURh
dGFVdGlsLnB1dChjdXJzb3IsICJtb25pdG9yaW5nLmR1cmF0aW9uIiwgdHVuZHJhLmR1cmF0aW9u
LmZvcm1hdCgiIiArIGdldER1cmF0aW9uKCksICJtaWxsaXNlY29uZHMiLCAieG1sIikpOwogICAg
fQogICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJpbnZvY2F0aW9ucy5zdGFydGVkIiwgdG90YWxJ
bnZvY2F0aW9ucy5sb25nVmFsdWUoKSk7CiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImludm9j
YXRpb25zLmVycm9yZWQiLCB0b3RhbEVycm9ycy5sb25nVmFsdWUoKSk7CgogICAgamF2YS51dGls
Lkxpc3Q8SURhdGE+IHRocmVhZHMgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxJRGF0YT4oY3Vy
cmVudFRocmVhZHMuc2l6ZSgpKTsKICAgIGphdmEudXRpbC5JdGVyYXRvcjxMb25nPiBpdGVyYXRv
ciA9IGN1cnJlbnRUaHJlYWRzLmtleVNldCgpLml0ZXJhdG9yKCk7CiAgICB3aGlsZShpdGVyYXRv
ci5oYXNOZXh0KCkpIHsKICAgICAgTG9uZyBrZXkgPSBpdGVyYXRvci5uZXh0KCk7CiAgICAgIFNl
cnZpY2VFeGVjdXRpb25UaHJlYWQgdGhyZWFkID0gY3VycmVudFRocmVhZHMuZ2V0KGtleSk7CiAg
ICAgIGlmICh0aHJlYWQuc2l6ZSgpID4gMCkgewogICAgICAgIHRocmVhZHMuYWRkKHRocmVhZC5n
ZXRJRGF0YSgpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjdXJyZW50VGhyZWFkcy5yZW1vdmUo
a2V5KTsgLy8gcmVtb3ZlIHRocmVhZHMgd2l0aCBubyBpdGVtcyBpbiB0aGUgY2FsbCBzdGFjawog
ICAgICB9CiAgICB9CiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImludm9jYXRpb25zLmN1cnJl
bnQiLCAoSURhdGFbXSl0aHJlYWRzLnRvQXJyYXkobmV3IElEYXRhWzBdKSk7CiAgICBJRGF0YVV0
aWwucHV0KGN1cnNvciwgImludm9jYXRpb25zLmN1cnJlbnQubGVuZ3RoIiwgdGhyZWFkcy5zaXpl
KCkpOyAgICAgICAgICAgCgogICAgY3Vyc29yLmRlc3Ryb3koKTsKCiAgICByZXR1cm4gb3V0cHV0
OwogIH0KCiAgLy8gc2V0cyB2YWx1ZXMgZnJvbSB0aGUgZ2l2ZW4gSURhdGEgLSBub3QgaW1wbGVt
ZW50ZWQKICBwdWJsaWMgdm9pZCBzZXRJRGF0YShJRGF0YSBpbnB1dCkgewogICAgdGhyb3cgbmV3
IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCJzZXRJRGF0YSBub3QgaW1wbGVtZW50ZWQi
KTsKICB9CgogIC8vIHJldHVybnMgdGhlIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcyB0aGlzIGNv
bnRleHQgb2JqZWN0IGhhcyBiZWVuIG1vbml0b3JpbmcgdGhlIGV4ZWN1dGlvbiBzdGF0ZQogIHB1
YmxpYyBsb25nIGdldER1cmF0aW9uKCkgewogICAgcmV0dXJuIFN5c3RlbS5jdXJyZW50VGltZU1p
bGxpcygpIC0gc3RhcnRUaW1lOwogIH0KCiAgLy8gcmVnaXN0ZXJzIHRoaXMgcHJvY2Vzc29yIHdp
dGggdGhlIGludm9jYXRpb24gbWFuYWdlcgogIHB1YmxpYyB2b2lkIHN0YXJ0KCkgewogICAgc3lu
Y2hyb25pemVkKHRoaXMpIHsKICAgICAgaWYgKCFzdGFydGVkKSB7CiAgICAgICAgc3RhcnRUaW1l
ID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCk7CiAgICAgICAgc3RhcnRlZCA9IHRydWU7CiAg
ICAgICAgY29tLndtLmFwcC5iMmIuc2VydmVyLmludm9rZS5JbnZva2VNYW5hZ2VyIGludm9rZU1h
bmFnZXIgPSBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuaW52b2tlLkludm9rZU1hbmFnZXIuZ2V0RGVm
YXVsdCgpOwogICAgICAgIGludm9rZU1hbmFnZXIucmVnaXN0ZXJQcm9jZXNzb3IodGhpcyk7CiAg
ICAgIH0KICAgIH0KICB9CgogIC8vIGRlcmVnaXN0ZXJzIHRoaXMgcHJvY2Vzc29yIHdpdGggdGhl
IGludm9jYXRpb24gbWFuYWdlcgogIHB1YmxpYyB2b2lkIHN0b3AoKSB7CiAgICBzeW5jaHJvbml6
ZWQodGhpcykgewogICAgICBpZiAoc3RhcnRlZCkgewogICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTsK
ICAgICAgICBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuaW52b2tlLkludm9rZU1hbmFnZXIgaW52b2tl
TWFuYWdlciA9IGNvbS53bS5hcHAuYjJiLnNlcnZlci5pbnZva2UuSW52b2tlTWFuYWdlci5nZXRE
ZWZhdWx0KCk7CiAgICAgICAgaW52b2tlTWFuYWdlci51bnJlZ2lzdGVyUHJvY2Vzc29yKHRoaXMp
OwogICAgICAgIGluc3RhbmNlID0gbnVsbDsgLy8gZnJlZSB0aGUgc2luZ2xldG9uIGluc3RhbmNl
IGZvciBnYXJiYWdlIGNvbGxlY3Rpb24KICAgICAgfQogICAgfQogIH0KfQ==</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
  </array>
</Values>
