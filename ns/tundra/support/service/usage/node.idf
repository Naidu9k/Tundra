<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.support.service.usage</value>
  <value name="is_public">false</value>
  <value name="shared">Ly8gcmVwcmVzZW50cyBhIHNpbmdsZSBjdXJyZW50bHkgZXhlY3V0aW5nIGludm9jYXRpb24gb2Yg
YSBzZXJ2aWNlCnB1YmxpYyBzdGF0aWMgY2xhc3MgU2VydmljZUV4ZWN1dGlvbiBpbXBsZW1lbnRz
IGNvbS53bS51dGlsLmNvZGVyLklEYXRhQ29kYWJsZSB7CiAgICBwcml2YXRlIGxvbmcgc3RhcnRU
aW1lOwogICAgcHJpdmF0ZSBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuQmFzZVNlcnZpY2Ugc2Vydmlj
ZTsKICAgIHByaXZhdGUgSURhdGEgcGlwZWxpbmU7CiAgICBwcml2YXRlIFN0cmluZyB1c2VyLCBz
ZXNzaW9uOwoKICAgIHB1YmxpYyBTZXJ2aWNlRXhlY3V0aW9uKFN0cmluZyBzZXJ2aWNlLCBJRGF0
YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVyLkludm9rZVN0YXRlIHN0YXRlKSB7CiAg
ICAgICAgdGhpcyhjb20ud20ubGFuZy5ucy5OU05hbWUuY3JlYXRlKHNlcnZpY2UpLCBwaXBlbGlu
ZSwgc3RhdGUpOwogICAgfQoKICAgIHB1YmxpYyBTZXJ2aWNlRXhlY3V0aW9uKGNvbS53bS5sYW5n
Lm5zLk5TTmFtZSBzZXJ2aWNlLCBJRGF0YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVy
Lkludm9rZVN0YXRlIHN0YXRlKSB7CiAgICAgICAgdGhpcyhjb20ud20uYXBwLmIyYi5zZXJ2ZXIu
bnMuTmFtZXNwYWNlLmdldFNlcnZpY2Uoc2VydmljZSksIHBpcGVsaW5lLCBzdGF0ZSk7CiAgICB9
CgogICAgcHVibGljIFNlcnZpY2VFeGVjdXRpb24oY29tLndtLmFwcC5iMmIuc2VydmVyLkJhc2VT
ZXJ2aWNlIHNlcnZpY2UsIElEYXRhIHBpcGVsaW5lLCBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuSW52
b2tlU3RhdGUgc3RhdGUpIHsKICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlOwogICAgICAg
IHRoaXMucGlwZWxpbmUgPSBwaXBlbGluZSA9PSBudWxsID8gSURhdGFGYWN0b3J5LmNyZWF0ZSgp
IDogSURhdGFVdGlsLmNsb25lKHBpcGVsaW5lKTsKICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IFN5
c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwogICAgICAgIHRoaXMuc2Vzc2lvbiA9IHN0YXRlLmdl
dFNlc3Npb24oKS5nZXRTZXNzaW9uSUQoKTsKICAgICAgICB0aGlzLnVzZXIgPSBzdGF0ZS5nZXRV
c2VyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHNl
cnZpY2UgYmVpbmcgaW52b2tlZAogICAgcHVibGljIFN0cmluZyBnZXRTZXJ2aWNlTmFtZSgpIHsK
ICAgICAgICByZXR1cm4gc2VydmljZS5nZXROU05hbWUoKS5nZXRGdWxsTmFtZSgpOwogICAgfQoK
ICAgIC8vIHJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHBhY2thZ2UgaW4gd2hpY2ggdGhlIHNlcnZp
Y2UgYmVpbmcgaW52b2tlZCByZXNpZGVzCiAgICBwdWJsaWMgU3RyaW5nIGdldFBhY2thZ2VOYW1l
KCkgewogICAgICAgIHJldHVybiBzZXJ2aWNlLmdldFBhY2thZ2VOYW1lKCk7CiAgICB9CgogICAg
Ly8gcmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgdXNlciBpbnZva2luZyB0aGUgc2VydmljZQogICAg
cHVibGljIFN0cmluZyBnZXRVc2VyKCkgewogICAgICAgIHJldHVybiB1c2VyOwogICAgfQoKICAg
IC8vIHJldHVybnMgdGhlIHNlc3Npb24gbmFtZSBpbnZva2luZyB0aGUgc2VydmljZQogICAgcHVi
bGljIFN0cmluZyBnZXRTZXNzaW9uKCkgewogICAgICAgIHJldHVybiBzZXNzaW9uOwogICAgfQoK
ICAgIC8vIHJldHVybnMgdGhlIHBpcGVsaW5lIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGludm9jYXRp
b24KICAgIHB1YmxpYyBJRGF0YSBnZXRQaXBlbGluZSgpIHsKICAgICAgICByZXR1cm4gcGlwZWxp
bmU7CiAgICB9CgogICAgLy8gcmV0dXJucyB0aGUgcGlwZWxpbmUgYXNzb2NpYXRlZCB3aXRoIHRo
aXMgaW52b2NhdGlvbgogICAgcHVibGljIGludCBnZXRQaXBlbGluZVNpemUoKSB7CiAgICAgICAg
SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CiAgICAgICAgaW50IHNp
emUgPSBJRGF0YVV0aWwuc2l6ZShjdXJzb3IpOwogICAgICAgIGN1cnNvci5kZXN0cm95KCk7CiAg
ICAgICAgcmV0dXJuIHNpemU7CiAgICB9CgogICAgLy8gcmV0dXJucyB0aGUgaW52b2NhdGlvbiBk
dXJhdGlvbiBpbiBtaWxsaXNlY29uZHMKICAgIHB1YmxpYyBsb25nIGdldER1cmF0aW9uKCkgewog
ICAgICAgIHJldHVybiBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSAtIHN0YXJ0VGltZTsKICAg
IH0KCiAgICAvLyByZXR1cm5zIGFuIElEYXRhIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0
CiAgICBwdWJsaWMgSURhdGEgZ2V0SURhdGEoKSB7CiAgICAgICAgSURhdGEgb3V0cHV0ID0gSURh
dGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9IG91dHB1dC5n
ZXRDdXJzb3IoKTsKCiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJzZXJ2aWNlIiwgZ2V0
U2VydmljZU5hbWUoKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJwYWNrYWdlIiwg
Z2V0UGFja2FnZU5hbWUoKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJwaXBlbGlu
ZSIsIGdldFBpcGVsaW5lKCkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAicGlwZWxp
bmUubGVuZ3RoIiwgZ2V0UGlwZWxpbmVTaXplKCkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vy
c29yLCAic3RhcnQiLCBEYXRlVGltZUhlbHBlci5mb3JtYXQoc3RhcnRUaW1lKSk7CiAgICAgICAg
SURhdGFVdGlsLnB1dChjdXJzb3IsICJkdXJhdGlvbiIsIER1cmF0aW9uSGVscGVyLmZvcm1hdChn
ZXREdXJhdGlvbigpLCBEdXJhdGlvblBhdHRlcm4uWE1MKSk7CiAgICAgICAgSURhdGFVdGlsLnB1
dChjdXJzb3IsICJzZXNzaW9uIiwgZ2V0U2Vzc2lvbigpKTsKICAgICAgICBJRGF0YVV0aWwucHV0
KGN1cnNvciwgInVzZXIiLCBnZXRVc2VyKCkpOwogICAgICAgIGN1cnNvci5kZXN0cm95KCk7Cgog
ICAgICAgIHJldHVybiBvdXRwdXQ7CiAgICB9CgogICAgLy8gc2V0cyB2YWx1ZXMgZnJvbSB0aGUg
Z2l2ZW4gSURhdGEgLSBub3QgaW1wbGVtZW50ZWQKICAgIHB1YmxpYyB2b2lkIHNldElEYXRhKElE
YXRhIGlucHV0KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0
aW9uKCJzZXRJRGF0YSBub3QgaW1wbGVtZW50ZWQiKTsKICAgIH0KfQoKLy8gcmVwcmVzZW50cyBh
IHNpbmdsZSBjdXJyZW50bHkgZXhlY3V0aW5nIGludm9jYXRpb24gY2FsbCBzdGFjawpwdWJsaWMg
c3RhdGljIGNsYXNzIFNlcnZpY2VFeGVjdXRpb25UaHJlYWQgaW1wbGVtZW50cyBjb20ud20udXRp
bC5jb2Rlci5JRGF0YUNvZGFibGUgewogICAgcHJpdmF0ZSBUaHJlYWQgdGhyZWFkID0gbnVsbDsK
ICAgIHByaXZhdGUgamF2YS51dGlsLkRlcXVlPFNlcnZpY2VFeGVjdXRpb24+IHN0YWNrID0gbnVs
bDsKICAgIGxvbmcgc3RhcnRUaW1lOwoKICAgIC8vIGNyZWF0ZXMgYSBuZXcgU2VydmljZUV4ZWN1
dGlvblRocmVhZAogICAgcHVibGljIFNlcnZpY2VFeGVjdXRpb25UaHJlYWQoVGhyZWFkIHRocmVh
ZCkgewogICAgICAgIHRoaXMudGhyZWFkID0gdGhyZWFkOwogICAgICAgIHRoaXMuc3RhY2sgPSBu
ZXcgamF2YS51dGlsLkFycmF5RGVxdWU8U2VydmljZUV4ZWN1dGlvbj4oKTsKICAgICAgICB0aGlz
LnN0YXJ0VGltZSA9IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwogICAgfQoKICAgIHB1Ymxp
YyB2b2lkIHB1c2goU2VydmljZUV4ZWN1dGlvbiBpbnZvY2F0aW9uKSB7CiAgICAgICAgc3RhY2su
cHVzaChpbnZvY2F0aW9uKTsKICAgIH0KCiAgICBwdWJsaWMgU2VydmljZUV4ZWN1dGlvbiBwb3Ao
KSB7CiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgc2l6
ZSgpIHsKICAgICAgICByZXR1cm4gc3RhY2suc2l6ZSgpOwogICAgfQoKICAgIC8vIHJldHVybnMg
dGhlIGludm9jYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzCiAgICBwdWJsaWMgbG9uZyBn
ZXREdXJhdGlvbigpIHsKICAgICAgICByZXR1cm4gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkg
LSBzdGFydFRpbWU7CiAgICB9CgogICAgLy8gcmV0dXJucyBhbiBJRGF0YSByZXByZXNlbnRhdGlv
biBvZiB0aGlzIGludm9jYXRpb24gdHJlZQogICAgcHVibGljIElEYXRhIGdldElEYXRhKCkgewog
ICAgICAgIElEYXRhIG91dHB1dCA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsKICAgICAgICBJRGF0
YUN1cnNvciBjdXJzb3IgPSBvdXRwdXQuZ2V0Q3Vyc29yKCk7CgogICAgICAgIElEYXRhVXRpbC5w
dXQoY3Vyc29yLCAidGhyZWFkLmlkIiwgdGhyZWFkLmdldElkKCkpOwogICAgICAgIElEYXRhVXRp
bC5wdXQoY3Vyc29yLCAidGhyZWFkLm5hbWUiLCB0aHJlYWQuZ2V0TmFtZSgpKTsKICAgICAgICBJ
RGF0YVV0aWwucHV0KGN1cnNvciwgInRocmVhZC5vYmplY3QiLCB0aHJlYWQpOwogICAgICAgIElE
YXRhVXRpbC5wdXQoY3Vyc29yLCAidGhyZWFkLnN0YXJ0IiwgRGF0ZVRpbWVIZWxwZXIuZm9ybWF0
KHN0YXJ0VGltZSkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAidGhyZWFkLmR1cmF0
aW9uIiwgRHVyYXRpb25IZWxwZXIuZm9ybWF0KGdldER1cmF0aW9uKCksIER1cmF0aW9uUGF0dGVy
bi5YTUwpKTsKCiAgICAgICAgU2VydmljZUV4ZWN1dGlvbltdIGxpc3QgPSBzdGFjay50b0FycmF5
KG5ldyBTZXJ2aWNlRXhlY3V0aW9uWzBdKTsKICAgICAgICBJRGF0YVtdIHNlcnZpY2VzID0gbmV3
IElEYXRhW2xpc3QubGVuZ3RoXTsKICAgICAgICBmb3IoaW50IGkgPSAwOyBpIDwgbGlzdC5sZW5n
dGg7IGkrKykgc2VydmljZXNbaV0gPSBsaXN0W2ldLmdldElEYXRhKCk7CiAgICAgICAgSURhdGFV
dGlsLnB1dChjdXJzb3IsICJjYWxsc3RhY2siLCBzZXJ2aWNlcyk7CiAgICAgICAgSURhdGFVdGls
LnB1dChjdXJzb3IsICJjYWxsc3RhY2subGVuZ3RoIiwgc2VydmljZXMubGVuZ3RoKTsKCiAgICAg
ICAgY3Vyc29yLmRlc3Ryb3koKTsKCiAgICAgICAgcmV0dXJuIG91dHB1dDsKICAgIH0KCiAgICAv
LyBzZXRzIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBJRGF0YSAtIG5vdCBpbXBsZW1lbnRlZAogICAg
cHVibGljIHZvaWQgc2V0SURhdGEoSURhdGEgaW5wdXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5z
dXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oInNldElEYXRhIG5vdCBpbXBsZW1lbnRlZCIpOwog
ICAgfQp9CgpwdWJsaWMgZmluYWwgc3RhdGljIGNsYXNzIFNlcnZpY2VFeGVjdXRpb25Db250ZXh0
IGltcGxlbWVudHMgY29tLndtLmFwcC5iMmIuc2VydmVyLmludm9rZS5JbnZva2VDaGFpblByb2Nl
c3NvciwgY29tLndtLnV0aWwuY29kZXIuSURhdGFDb2RhYmxlIHsKICAgIHByaXZhdGUgc3RhdGlj
IFNlcnZpY2VFeGVjdXRpb25Db250ZXh0IGluc3RhbmNlID0gbnVsbDsKICAgIHByaXZhdGUgbG9u
ZyBzdGFydFRpbWUgPSAwOwogICAgcHJpdmF0ZSBqYXZhLnV0aWwuY29uY3VycmVudC5hdG9taWMu
QXRvbWljTG9uZyB0b3RhbEludm9jYXRpb25zID0gbmV3IGphdmEudXRpbC5jb25jdXJyZW50LmF0
b21pYy5BdG9taWNMb25nKDApOwogICAgcHJpdmF0ZSBqYXZhLnV0aWwuY29uY3VycmVudC5hdG9t
aWMuQXRvbWljTG9uZyB0b3RhbEVycm9ycyA9IG5ldyBqYXZhLnV0aWwuY29uY3VycmVudC5hdG9t
aWMuQXRvbWljTG9uZygwKTsKICAgIHByaXZhdGUgYm9vbGVhbiBzdGFydGVkID0gZmFsc2U7CiAg
ICBwcml2YXRlIGphdmEudXRpbC5NYXA8TG9uZywgU2VydmljZUV4ZWN1dGlvblRocmVhZD4gY3Vy
cmVudFRocmVhZHMgPSBuZXcgamF2YS51dGlsLmNvbmN1cnJlbnQuQ29uY3VycmVudEhhc2hNYXA8
TG9uZywgU2VydmljZUV4ZWN1dGlvblRocmVhZD4oKTsKCiAgICAvLyBjcmVhdGVzIGEgbmV3IFNl
cnZpY2VFeGVjdXRpb25Db250ZXh0IG9iamVjdAogICAgcHJpdmF0ZSBTZXJ2aWNlRXhlY3V0aW9u
Q29udGV4dCgpIHsKICAgIH0KCiAgICAvLyByZXR1cm5zIHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ug
b2YgdGhpcyBjbGFzcwogICAgcHVibGljIHN0YXRpYyBTZXJ2aWNlRXhlY3V0aW9uQ29udGV4dCBn
ZXRJbnN0YW5jZSgpIHsKICAgICAgICBpZiAoaW5zdGFuY2UgPT0gbnVsbCkgaW5zdGFuY2UgPSBu
ZXcgU2VydmljZUV4ZWN1dGlvbkNvbnRleHQoKTsKICAgICAgICByZXR1cm4gaW5zdGFuY2U7CiAg
ICB9CgogICAgLy8gcmVjb3JkcyBlYWNoIGN1cnJlbnRseSBleGVjdXRpbmcgaW52b2NhdGlvbgog
ICAgcHVibGljIHZvaWQgcHJvY2VzcyhqYXZhLnV0aWwuSXRlcmF0b3IgY2hhaW4sIGNvbS53bS5h
cHAuYjJiLnNlcnZlci5CYXNlU2VydmljZSBzZXJ2aWNlLCBJRGF0YSBwaXBlbGluZSwgY29tLndt
LmFwcC5iMmIuc2VydmVyLmludm9rZS5TZXJ2aWNlU3RhdHVzIHN0YXR1cykgdGhyb3dzIGNvbS53
bS51dGlsLlNlcnZlckV4Y2VwdGlvbiB7CiAgICAgICAgVGhyZWFkIGN1cnJlbnRUaHJlYWQgPSBU
aHJlYWQuY3VycmVudFRocmVhZCgpOwogICAgICAgIExvbmcgaWQgPSBjdXJyZW50VGhyZWFkLmdl
dElkKCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIHJlZ2lzdGVyIHRoaXMgY2FsbCBp
biBhIHRyeS9jYXRjaCBzbyB0aGF0IGFueSBmYWlsdXJlcyBkbyBub3Qgc3RvcCBzZXJ2aWNlIGlu
dm9jYXRpb24KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIFNlcnZpY2VFeGVjdXRp
b25UaHJlYWQgc2VydmljZVRocmVhZCA9IGN1cnJlbnRUaHJlYWRzLmdldChpZCk7CgogICAgICAg
ICAgICAgICAgaWYgKHNlcnZpY2VUaHJlYWQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAg
IHNlcnZpY2VUaHJlYWQgPSBuZXcgU2VydmljZUV4ZWN1dGlvblRocmVhZChjdXJyZW50VGhyZWFk
KTsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGhyZWFkcy5wdXQoaWQsIHNlcnZpY2VUaHJl
YWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VUaHJlYWQg
IT0gbnVsbCkgc2VydmljZVRocmVhZC5wdXNoKG5ldyBTZXJ2aWNlRXhlY3V0aW9uKHNlcnZpY2Us
IHBpcGVsaW5lLCBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuSW52b2tlU3RhdGUuZ2V0Q3VycmVudFN0
YXRlKCkpKTsKCiAgICAgICAgICAgICAgICB0b3RhbEludm9jYXRpb25zLmluY3JlbWVudEFuZEdl
dCgpOwogICAgICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgZXgpIHsKICAgICAgICAgICAgICAg
IC8vIGRvIG5vdGhpbmcKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGNoYWluLmhhc05l
eHQoKSkgKChjb20ud20uYXBwLmIyYi5zZXJ2ZXIuaW52b2tlLkludm9rZUNoYWluUHJvY2Vzc29y
KWNoYWluLm5leHQoKSkucHJvY2VzcyhjaGFpbiwgc2VydmljZSwgcGlwZWxpbmUsIHN0YXR1cyk7
CiAgICAgICAgfSBjYXRjaCAoY29tLndtLnV0aWwuU2VydmVyRXhjZXB0aW9uIGV4KSB7CiAgICAg
ICAgICAgIHRvdGFsRXJyb3JzLmluY3JlbWVudEFuZEdldCgpOwogICAgICAgICAgICB0aHJvdyBl
eDsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAg
U2VydmljZUV4ZWN1dGlvblRocmVhZCBzZXJ2aWNlVGhyZWFkID0gY3VycmVudFRocmVhZHMuZ2V0
KGlkKTsKICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlVGhyZWFkICE9IG51bGwpIHsKICAgICAg
ICAgICAgICAgICAgICBzZXJ2aWNlVGhyZWFkLnBvcCgpOyAvLyBpbnZvY2F0aW9uIGZpbmlzaGVk
LCBzbyByZW1vdmUgZnJvbSBjYWxsIHN0YWNrCiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZp
Y2VUaHJlYWQuc2l6ZSgpID09IDApIGN1cnJlbnRUaHJlYWRzLnJlbW92ZShpZCk7IC8vIHRvcC1s
ZXZlbCBpbnZvY2F0aW9uIGZpbmlzaGVkLCBzbyByZW1vdmUgZnJvbSBjdXJyZW50bHkgZXhlY3V0
aW5nIHRocmVhZHMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaChUaHJvd2Fi
bGUgZXgpIHsKICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcKICAgICAgICAgICAgfQogICAg
ICAgIH0KICAgIH0KCiAgICAvLyByZXR1cm5zIHRoZSBjdXJyZW50IGludm9jYXRpb24gY29udGV4
dCBvZiB0aGUgc2VydmVyIGFzIGFuIElEYXRhW10gZG9jdW1lbnQgbGlzdAogICAgcHVibGljIElE
YXRhIGdldElEYXRhKCkgewogICAgICAgIElEYXRhIG91dHB1dCA9IElEYXRhRmFjdG9yeS5jcmVh
dGUoKTsKICAgICAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBvdXRwdXQuZ2V0Q3Vyc29yKCk7Cgog
ICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAibW9uaXRvcmluZy5zdGFydGVkPyIsICIiICsg
c3RhcnRlZCk7CiAgICAgICAgaWYgKHN0YXJ0ZWQpIHsKICAgICAgICAgICAgSURhdGFVdGlsLnB1
dChjdXJzb3IsICJtb25pdG9yaW5nLnN0YXJ0IiwgRGF0ZVRpbWVIZWxwZXIuZm9ybWF0KHN0YXJ0
VGltZSkpOwogICAgICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgIm1vbml0b3JpbmcuZHVy
YXRpb24iLCBEdXJhdGlvbkhlbHBlci5mb3JtYXQoZ2V0RHVyYXRpb24oKSwgRHVyYXRpb25QYXR0
ZXJuLlhNTCkpOwogICAgICAgIH0KICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImludm9j
YXRpb25zLnN0YXJ0ZWQiLCB0b3RhbEludm9jYXRpb25zLmxvbmdWYWx1ZSgpKTsKICAgICAgICBJ
RGF0YVV0aWwucHV0KGN1cnNvciwgImludm9jYXRpb25zLmVycm9yZWQiLCB0b3RhbEVycm9ycy5s
b25nVmFsdWUoKSk7CgogICAgICAgIGphdmEudXRpbC5MaXN0PElEYXRhPiB0aHJlYWRzID0gbmV3
IGphdmEudXRpbC5BcnJheUxpc3Q8SURhdGE+KGN1cnJlbnRUaHJlYWRzLnNpemUoKSk7CiAgICAg
ICAgamF2YS51dGlsLkl0ZXJhdG9yPExvbmc+IGl0ZXJhdG9yID0gY3VycmVudFRocmVhZHMua2V5
U2V0KCkuaXRlcmF0b3IoKTsKICAgICAgICB3aGlsZShpdGVyYXRvci5oYXNOZXh0KCkpIHsKICAg
ICAgICAgICAgTG9uZyBrZXkgPSBpdGVyYXRvci5uZXh0KCk7CiAgICAgICAgICAgIFNlcnZpY2VF
eGVjdXRpb25UaHJlYWQgdGhyZWFkID0gY3VycmVudFRocmVhZHMuZ2V0KGtleSk7CiAgICAgICAg
ICAgIGlmICh0aHJlYWQuc2l6ZSgpID4gMCkgewogICAgICAgICAgICAgICAgdGhyZWFkcy5hZGQo
dGhyZWFkLmdldElEYXRhKCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAg
Y3VycmVudFRocmVhZHMucmVtb3ZlKGtleSk7IC8vIHJlbW92ZSB0aHJlYWRzIHdpdGggbm8gaXRl
bXMgaW4gdGhlIGNhbGwgc3RhY2sKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBJRGF0
YVV0aWwucHV0KGN1cnNvciwgImludm9jYXRpb25zLmN1cnJlbnQiLCAoSURhdGFbXSl0aHJlYWRz
LnRvQXJyYXkobmV3IElEYXRhWzBdKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJp
bnZvY2F0aW9ucy5jdXJyZW50Lmxlbmd0aCIsIHRocmVhZHMuc2l6ZSgpKTsKCiAgICAgICAgY3Vy
c29yLmRlc3Ryb3koKTsKCiAgICAgICAgcmV0dXJuIG91dHB1dDsKICAgIH0KCiAgICAvLyBzZXRz
IHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBJRGF0YSAtIG5vdCBpbXBsZW1lbnRlZAogICAgcHVibGlj
IHZvaWQgc2V0SURhdGEoSURhdGEgaW5wdXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0
ZWRPcGVyYXRpb25FeGNlcHRpb24oInNldElEYXRhIG5vdCBpbXBsZW1lbnRlZCIpOwogICAgfQoK
ICAgIC8vIHJldHVybnMgdGhlIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcyB0aGlzIGNvbnRleHQg
b2JqZWN0IGhhcyBiZWVuIG1vbml0b3JpbmcgdGhlIGV4ZWN1dGlvbiBzdGF0ZQogICAgcHVibGlj
IGxvbmcgZ2V0RHVyYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIFN5c3RlbS5jdXJyZW50VGltZU1p
bGxpcygpIC0gc3RhcnRUaW1lOwogICAgfQoKICAgIC8vIHJlZ2lzdGVycyB0aGlzIHByb2Nlc3Nv
ciB3aXRoIHRoZSBpbnZvY2F0aW9uIG1hbmFnZXIKICAgIHB1YmxpYyB2b2lkIHN0YXJ0KCkgewog
ICAgICAgIHN5bmNocm9uaXplZCh0aGlzKSB7CiAgICAgICAgICAgIGlmICghc3RhcnRlZCkgewog
ICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCk7CiAg
ICAgICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbS53bS5hcHAu
YjJiLnNlcnZlci5pbnZva2UuSW52b2tlTWFuYWdlciBpbnZva2VNYW5hZ2VyID0gY29tLndtLmFw
cC5iMmIuc2VydmVyLmludm9rZS5JbnZva2VNYW5hZ2VyLmdldERlZmF1bHQoKTsKICAgICAgICAg
ICAgICAgIGludm9rZU1hbmFnZXIucmVnaXN0ZXJQcm9jZXNzb3IodGhpcyk7CiAgICAgICAgICAg
IH0KICAgICAgICB9CiAgICB9CgogICAgLy8gZGVyZWdpc3RlcnMgdGhpcyBwcm9jZXNzb3Igd2l0
aCB0aGUgaW52b2NhdGlvbiBtYW5hZ2VyCiAgICBwdWJsaWMgdm9pZCBzdG9wKCkgewogICAgICAg
IHN5bmNocm9uaXplZCh0aGlzKSB7CiAgICAgICAgICAgIGlmIChzdGFydGVkKSB7CiAgICAgICAg
ICAgICAgICBzdGFydGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb20ud20uYXBwLmIyYi5z
ZXJ2ZXIuaW52b2tlLkludm9rZU1hbmFnZXIgaW52b2tlTWFuYWdlciA9IGNvbS53bS5hcHAuYjJi
LnNlcnZlci5pbnZva2UuSW52b2tlTWFuYWdlci5nZXREZWZhdWx0KCk7CiAgICAgICAgICAgICAg
ICBpbnZva2VNYW5hZ2VyLnVucmVnaXN0ZXJQcm9jZXNzb3IodGhpcyk7CiAgICAgICAgICAgICAg
ICBpbnN0YW5jZSA9IG51bGw7IC8vIGZyZWUgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBmb3IgZ2Fy
YmFnZSBjb2xsZWN0aW9uCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0=</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
    <value>permafrost.tundra.time.DateTimeHelper</value>
    <value>permafrost.tundra.time.DurationHelper</value>
    <value>permafrost.tundra.time.DurationPattern</value>
  </array>
</Values>
