<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.support.service.usage</value>
  <value name="is_public">false</value>
  <value name="shared">Ly8gcmVwcmVzZW50cyBhIHNpbmdsZSBjdXJyZW50bHkgZXhlY3V0aW5nIGludm9jYXRpb24gb2Yg
YSBzZXJ2aWNlCnB1YmxpYyBzdGF0aWMgY2xhc3MgU2VydmljZUV4ZWN1dGlvbiBpbXBsZW1lbnRz
IGNvbS53bS51dGlsLmNvZGVyLklEYXRhQ29kYWJsZSB7CiAgICBwcml2YXRlIGxvbmcgc3RhcnRU
aW1lOwogICAgcHJpdmF0ZSBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuQmFzZVNlcnZpY2Ugc2Vydmlj
ZTsKICAgIHByaXZhdGUgSURhdGEgcGlwZWxpbmU7CiAgICBwcml2YXRlIFN0cmluZyB1c2VyLCBz
ZXNzaW9uOwoKICAgIHB1YmxpYyBTZXJ2aWNlRXhlY3V0aW9uKFN0cmluZyBzZXJ2aWNlLCBJRGF0
YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVyLkludm9rZVN0YXRlIHN0YXRlKSB7CiAg
ICAgICAgdGhpcyhjb20ud20ubGFuZy5ucy5OU05hbWUuY3JlYXRlKHNlcnZpY2UpLCBwaXBlbGlu
ZSwgc3RhdGUpOwogICAgfQoKICAgIHB1YmxpYyBTZXJ2aWNlRXhlY3V0aW9uKGNvbS53bS5sYW5n
Lm5zLk5TTmFtZSBzZXJ2aWNlLCBJRGF0YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVy
Lkludm9rZVN0YXRlIHN0YXRlKSB7CiAgICAgICAgdGhpcyhjb20ud20uYXBwLmIyYi5zZXJ2ZXIu
bnMuTmFtZXNwYWNlLmdldFNlcnZpY2Uoc2VydmljZSksIHBpcGVsaW5lLCBzdGF0ZSk7CiAgICB9
CgogICAgcHVibGljIFNlcnZpY2VFeGVjdXRpb24oY29tLndtLmFwcC5iMmIuc2VydmVyLkJhc2VT
ZXJ2aWNlIHNlcnZpY2UsIElEYXRhIHBpcGVsaW5lLCBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuSW52
b2tlU3RhdGUgc3RhdGUpIHsKICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlOwogICAgICAg
IHRoaXMucGlwZWxpbmUgPSBwaXBlbGluZSA9PSBudWxsID8gSURhdGFGYWN0b3J5LmNyZWF0ZSgp
IDogSURhdGFVdGlsLmNsb25lKHBpcGVsaW5lKTsKICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IFN5
c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwogICAgICAgIHRoaXMuc2Vzc2lvbiA9IHN0YXRlLmdl
dFNlc3Npb24oKS5nZXRTZXNzaW9uSUQoKTsKICAgICAgICB0aGlzLnVzZXIgPSBzdGF0ZS5nZXRV
c2VyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHNl
cnZpY2UgYmVpbmcgaW52b2tlZAogICAgcHVibGljIFN0cmluZyBnZXRTZXJ2aWNlTmFtZSgpIHsK
ICAgICAgICByZXR1cm4gc2VydmljZS5nZXROU05hbWUoKS5nZXRGdWxsTmFtZSgpOwogICAgfQoK
ICAgIC8vIHJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHBhY2thZ2UgaW4gd2hpY2ggdGhlIHNlcnZp
Y2UgYmVpbmcgaW52b2tlZCByZXNpZGVzCiAgICBwdWJsaWMgU3RyaW5nIGdldFBhY2thZ2VOYW1l
KCkgewogICAgICAgIHJldHVybiBzZXJ2aWNlLmdldFBhY2thZ2VOYW1lKCk7CiAgICB9CgogICAg
Ly8gcmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgdXNlciBpbnZva2luZyB0aGUgc2VydmljZQogICAg
cHVibGljIFN0cmluZyBnZXRVc2VyKCkgewogICAgICAgIHJldHVybiB1c2VyOwogICAgfQoKICAg
IC8vIHJldHVybnMgdGhlIHNlc3Npb24gbmFtZSBpbnZva2luZyB0aGUgc2VydmljZQogICAgcHVi
bGljIFN0cmluZyBnZXRTZXNzaW9uKCkgewogICAgICAgIHJldHVybiBzZXNzaW9uOwogICAgfQoK
ICAgIC8vIHJldHVybnMgdGhlIHBpcGVsaW5lIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGludm9jYXRp
b24KICAgIHB1YmxpYyBJRGF0YSBnZXRQaXBlbGluZSgpIHsKICAgICAgICByZXR1cm4gcGlwZWxp
bmU7CiAgICB9CgogICAgLy8gcmV0dXJucyB0aGUgcGlwZWxpbmUgYXNzb2NpYXRlZCB3aXRoIHRo
aXMgaW52b2NhdGlvbgogICAgcHVibGljIGludCBnZXRQaXBlbGluZVNpemUoKSB7CiAgICAgICAg
SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CiAgICAgICAgaW50IHNp
emUgPSBJRGF0YVV0aWwuc2l6ZShjdXJzb3IpOwogICAgICAgIGN1cnNvci5kZXN0cm95KCk7CiAg
ICAgICAgcmV0dXJuIHNpemU7CiAgICB9CgogICAgLy8gcmV0dXJucyB0aGUgaW52b2NhdGlvbiBk
dXJhdGlvbiBpbiBtaWxsaXNlY29uZHMKICAgIHB1YmxpYyBsb25nIGdldER1cmF0aW9uKCkgewog
ICAgICAgIHJldHVybiBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSAtIHN0YXJ0VGltZTsKICAg
IH0KCiAgICAvLyByZXR1cm5zIGFuIElEYXRhIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0
CiAgICBwdWJsaWMgSURhdGEgZ2V0SURhdGEoKSB7CiAgICAgICAgSURhdGEgb3V0cHV0ID0gSURh
dGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9IG91dHB1dC5n
ZXRDdXJzb3IoKTsKCiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJzZXJ2aWNlIiwgZ2V0
U2VydmljZU5hbWUoKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJwYWNrYWdlIiwg
Z2V0UGFja2FnZU5hbWUoKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJwaXBlbGlu
ZSIsIGdldFBpcGVsaW5lKCkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAicGlwZWxp
bmUubGVuZ3RoIiwgZ2V0UGlwZWxpbmVTaXplKCkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vy
c29yLCAic3RhcnQiLCB0dW5kcmEuZGF0ZXRpbWUuZm9ybWF0KCIiICsgc3RhcnRUaW1lLCAibWls
bGlzZWNvbmRzIiwgImRhdGV0aW1lIikpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAi
ZHVyYXRpb24iLCB0dW5kcmEuZHVyYXRpb24uZm9ybWF0KCIiICsgZ2V0RHVyYXRpb24oKSwgIm1p
bGxpc2Vjb25kcyIsICJ4bWwiKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJzZXNz
aW9uIiwgZ2V0U2Vzc2lvbigpKTsKICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgInVzZXIi
LCBnZXRVc2VyKCkpOwogICAgICAgIGN1cnNvci5kZXN0cm95KCk7CgogICAgICAgIHJldHVybiBv
dXRwdXQ7CiAgICB9CgogICAgLy8gc2V0cyB2YWx1ZXMgZnJvbSB0aGUgZ2l2ZW4gSURhdGEgLSBu
b3QgaW1wbGVtZW50ZWQKICAgIHB1YmxpYyB2b2lkIHNldElEYXRhKElEYXRhIGlucHV0KSB7CiAg
ICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKCJzZXRJRGF0YSBu
b3QgaW1wbGVtZW50ZWQiKTsKICAgIH0KfQoKLy8gcmVwcmVzZW50cyBhIHNpbmdsZSBjdXJyZW50
bHkgZXhlY3V0aW5nIGludm9jYXRpb24gY2FsbCBzdGFjawpwdWJsaWMgc3RhdGljIGNsYXNzIFNl
cnZpY2VFeGVjdXRpb25UaHJlYWQgaW1wbGVtZW50cyBjb20ud20udXRpbC5jb2Rlci5JRGF0YUNv
ZGFibGUgewogICAgcHJpdmF0ZSBUaHJlYWQgdGhyZWFkID0gbnVsbDsKICAgIHByaXZhdGUgamF2
YS51dGlsLkRlcXVlPFNlcnZpY2VFeGVjdXRpb24+IHN0YWNrID0gbnVsbDsKICAgIGxvbmcgc3Rh
cnRUaW1lOwoKICAgIC8vIGNyZWF0ZXMgYSBuZXcgU2VydmljZUV4ZWN1dGlvblRocmVhZAogICAg
cHVibGljIFNlcnZpY2VFeGVjdXRpb25UaHJlYWQoVGhyZWFkIHRocmVhZCkgewogICAgICAgIHRo
aXMudGhyZWFkID0gdGhyZWFkOwogICAgICAgIHRoaXMuc3RhY2sgPSBuZXcgamF2YS51dGlsLkFy
cmF5RGVxdWU8U2VydmljZUV4ZWN1dGlvbj4oKTsKICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IFN5
c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHB1c2goU2Vy
dmljZUV4ZWN1dGlvbiBpbnZvY2F0aW9uKSB7CiAgICAgICAgc3RhY2sucHVzaChpbnZvY2F0aW9u
KTsKICAgIH0KCiAgICBwdWJsaWMgU2VydmljZUV4ZWN1dGlvbiBwb3AoKSB7CiAgICAgICAgcmV0
dXJuIHN0YWNrLnBvcCgpOwogICAgfQoKICAgIHB1YmxpYyBpbnQgc2l6ZSgpIHsKICAgICAgICBy
ZXR1cm4gc3RhY2suc2l6ZSgpOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIGludm9jYXRpb24g
ZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzCiAgICBwdWJsaWMgbG9uZyBnZXREdXJhdGlvbigpIHsK
ICAgICAgICByZXR1cm4gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkgLSBzdGFydFRpbWU7CiAg
ICB9CgogICAgLy8gcmV0dXJucyBhbiBJRGF0YSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGludm9j
YXRpb24gdHJlZQogICAgcHVibGljIElEYXRhIGdldElEYXRhKCkgewogICAgICAgIElEYXRhIG91
dHB1dCA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsKICAgICAgICBJRGF0YUN1cnNvciBjdXJzb3Ig
PSBvdXRwdXQuZ2V0Q3Vyc29yKCk7CgogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAidGhy
ZWFkLmlkIiwgdGhyZWFkLmdldElkKCkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAi
dGhyZWFkLm5hbWUiLCB0aHJlYWQuZ2V0TmFtZSgpKTsKICAgICAgICBJRGF0YVV0aWwucHV0KGN1
cnNvciwgInRocmVhZC5vYmplY3QiLCB0aHJlYWQpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vy
c29yLCAidGhyZWFkLnN0YXJ0IiwgdHVuZHJhLmRhdGV0aW1lLmZvcm1hdCgiIiArIHN0YXJ0VGlt
ZSwgIm1pbGxpc2Vjb25kcyIsICJkYXRldGltZSIpKTsKICAgICAgICBJRGF0YVV0aWwucHV0KGN1
cnNvciwgInRocmVhZC5kdXJhdGlvbiIsIHR1bmRyYS5kdXJhdGlvbi5mb3JtYXQoIiIgKyBnZXRE
dXJhdGlvbigpLCAibWlsbGlzZWNvbmRzIiwgInhtbCIpKTsKCiAgICAgICAgU2VydmljZUV4ZWN1
dGlvbltdIGxpc3QgPSBzdGFjay50b0FycmF5KG5ldyBTZXJ2aWNlRXhlY3V0aW9uWzBdKTsKICAg
ICAgICBJRGF0YVtdIHNlcnZpY2VzID0gbmV3IElEYXRhW2xpc3QubGVuZ3RoXTsKICAgICAgICBm
b3IoaW50IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgc2VydmljZXNbaV0gPSBsaXN0W2ld
LmdldElEYXRhKCk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJjYWxsc3RhY2siLCBz
ZXJ2aWNlcyk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJjYWxsc3RhY2subGVuZ3Ro
Iiwgc2VydmljZXMubGVuZ3RoKTsKCiAgICAgICAgY3Vyc29yLmRlc3Ryb3koKTsKCiAgICAgICAg
cmV0dXJuIG91dHB1dDsKICAgIH0KCiAgICAvLyBzZXRzIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBJ
RGF0YSAtIG5vdCBpbXBsZW1lbnRlZAogICAgcHVibGljIHZvaWQgc2V0SURhdGEoSURhdGEgaW5w
dXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oInNl
dElEYXRhIG5vdCBpbXBsZW1lbnRlZCIpOwogICAgfQp9CgpwdWJsaWMgZmluYWwgc3RhdGljIGNs
YXNzIFNlcnZpY2VFeGVjdXRpb25Db250ZXh0IGltcGxlbWVudHMgY29tLndtLmFwcC5iMmIuc2Vy
dmVyLmludm9rZS5JbnZva2VDaGFpblByb2Nlc3NvciwgY29tLndtLnV0aWwuY29kZXIuSURhdGFD
b2RhYmxlIHsKICAgIHByaXZhdGUgc3RhdGljIFNlcnZpY2VFeGVjdXRpb25Db250ZXh0IGluc3Rh
bmNlID0gbnVsbDsKICAgIHByaXZhdGUgbG9uZyBzdGFydFRpbWUgPSAwOwogICAgcHJpdmF0ZSBq
YXZhLnV0aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljTG9uZyB0b3RhbEludm9jYXRpb25zID0g
bmV3IGphdmEudXRpbC5jb25jdXJyZW50LmF0b21pYy5BdG9taWNMb25nKDApOwogICAgcHJpdmF0
ZSBqYXZhLnV0aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljTG9uZyB0b3RhbEVycm9ycyA9IG5l
dyBqYXZhLnV0aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljTG9uZygwKTsKICAgIHByaXZhdGUg
Ym9vbGVhbiBzdGFydGVkID0gZmFsc2U7CiAgICBwcml2YXRlIGphdmEudXRpbC5NYXA8TG9uZywg
U2VydmljZUV4ZWN1dGlvblRocmVhZD4gY3VycmVudFRocmVhZHMgPSBuZXcgamF2YS51dGlsLmNv
bmN1cnJlbnQuQ29uY3VycmVudEhhc2hNYXA8TG9uZywgU2VydmljZUV4ZWN1dGlvblRocmVhZD4o
KTsKCiAgICAvLyBjcmVhdGVzIGEgbmV3IFNlcnZpY2VFeGVjdXRpb25Db250ZXh0IG9iamVjdAog
ICAgcHJpdmF0ZSBTZXJ2aWNlRXhlY3V0aW9uQ29udGV4dCgpIHsKICAgIH0KCiAgICAvLyByZXR1
cm5zIHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcwogICAgcHVibGljIHN0YXRp
YyBTZXJ2aWNlRXhlY3V0aW9uQ29udGV4dCBnZXRJbnN0YW5jZSgpIHsKICAgICAgICBpZiAoaW5z
dGFuY2UgPT0gbnVsbCkgaW5zdGFuY2UgPSBuZXcgU2VydmljZUV4ZWN1dGlvbkNvbnRleHQoKTsK
ICAgICAgICByZXR1cm4gaW5zdGFuY2U7CiAgICB9CgogICAgLy8gcmVjb3JkcyBlYWNoIGN1cnJl
bnRseSBleGVjdXRpbmcgaW52b2NhdGlvbgogICAgcHVibGljIHZvaWQgcHJvY2VzcyhqYXZhLnV0
aWwuSXRlcmF0b3IgY2hhaW4sIGNvbS53bS5hcHAuYjJiLnNlcnZlci5CYXNlU2VydmljZSBzZXJ2
aWNlLCBJRGF0YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVyLmludm9rZS5TZXJ2aWNl
U3RhdHVzIHN0YXR1cykgdGhyb3dzIGNvbS53bS51dGlsLlNlcnZlckV4Y2VwdGlvbiB7CiAgICAg
ICAgVGhyZWFkIGN1cnJlbnRUaHJlYWQgPSBUaHJlYWQuY3VycmVudFRocmVhZCgpOwogICAgICAg
IExvbmcgaWQgPSBjdXJyZW50VGhyZWFkLmdldElkKCk7CgogICAgICAgIHRyeSB7CiAgICAgICAg
ICAgIC8vIHJlZ2lzdGVyIHRoaXMgY2FsbCBpbiBhIHRyeS9jYXRjaCBzbyB0aGF0IGFueSBmYWls
dXJlcyBkbyBub3Qgc3RvcCBzZXJ2aWNlIGludm9jYXRpb24KICAgICAgICAgICAgdHJ5IHsKICAg
ICAgICAgICAgICAgIFNlcnZpY2VFeGVjdXRpb25UaHJlYWQgc2VydmljZVRocmVhZCA9IGN1cnJl
bnRUaHJlYWRzLmdldChpZCk7CgogICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VUaHJlYWQgPT0g
bnVsbCkgewogICAgICAgICAgICAgICAgICAgIHNlcnZpY2VUaHJlYWQgPSBuZXcgU2VydmljZUV4
ZWN1dGlvblRocmVhZChjdXJyZW50VGhyZWFkKTsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50
VGhyZWFkcy5wdXQoaWQsIHNlcnZpY2VUaHJlYWQpOwogICAgICAgICAgICAgICAgfQogICAgICAg
ICAgICAgICAgaWYgKHNlcnZpY2VUaHJlYWQgIT0gbnVsbCkgc2VydmljZVRocmVhZC5wdXNoKG5l
dyBTZXJ2aWNlRXhlY3V0aW9uKHNlcnZpY2UsIHBpcGVsaW5lLCBjb20ud20uYXBwLmIyYi5zZXJ2
ZXIuSW52b2tlU3RhdGUuZ2V0Q3VycmVudFN0YXRlKCkpKTsKCiAgICAgICAgICAgICAgICB0b3Rh
bEludm9jYXRpb25zLmluY3JlbWVudEFuZEdldCgpOwogICAgICAgICAgICB9IGNhdGNoIChUaHJv
d2FibGUgZXgpIHsKICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcKICAgICAgICAgICAgfQoK
ICAgICAgICAgICAgaWYgKGNoYWluLmhhc05leHQoKSkgKChjb20ud20uYXBwLmIyYi5zZXJ2ZXIu
aW52b2tlLkludm9rZUNoYWluUHJvY2Vzc29yKWNoYWluLm5leHQoKSkucHJvY2VzcyhjaGFpbiwg
c2VydmljZSwgcGlwZWxpbmUsIHN0YXR1cyk7CiAgICAgICAgfSBjYXRjaCAoY29tLndtLnV0aWwu
U2VydmVyRXhjZXB0aW9uIGV4KSB7CiAgICAgICAgICAgIHRvdGFsRXJyb3JzLmluY3JlbWVudEFu
ZEdldCgpOwogICAgICAgICAgICB0aHJvdyBleDsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAg
ICAgICB0cnkgewogICAgICAgICAgICAgICAgU2VydmljZUV4ZWN1dGlvblRocmVhZCBzZXJ2aWNl
VGhyZWFkID0gY3VycmVudFRocmVhZHMuZ2V0KGlkKTsKICAgICAgICAgICAgICAgIGlmIChzZXJ2
aWNlVGhyZWFkICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlVGhyZWFkLnBv
cCgpOyAvLyBpbnZvY2F0aW9uIGZpbmlzaGVkLCBzbyByZW1vdmUgZnJvbSBjYWxsIHN0YWNrCiAg
ICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VUaHJlYWQuc2l6ZSgpID09IDApIGN1cnJlbnRU
aHJlYWRzLnJlbW92ZShpZCk7IC8vIHRvcC1sZXZlbCBpbnZvY2F0aW9uIGZpbmlzaGVkLCBzbyBy
ZW1vdmUgZnJvbSBjdXJyZW50bHkgZXhlY3V0aW5nIHRocmVhZHMKICAgICAgICAgICAgICAgIH0K
ICAgICAgICAgICAgfSBjYXRjaChUaHJvd2FibGUgZXgpIHsKICAgICAgICAgICAgICAgIC8vIGRv
IG5vdGhpbmcKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyByZXR1cm5zIHRo
ZSBjdXJyZW50IGludm9jYXRpb24gY29udGV4dCBvZiB0aGUgc2VydmVyIGFzIGFuIElEYXRhW10g
ZG9jdW1lbnQgbGlzdAogICAgcHVibGljIElEYXRhIGdldElEYXRhKCkgewogICAgICAgIElEYXRh
IG91dHB1dCA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsKICAgICAgICBJRGF0YUN1cnNvciBjdXJz
b3IgPSBvdXRwdXQuZ2V0Q3Vyc29yKCk7CgogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAi
bW9uaXRvcmluZy5zdGFydGVkPyIsICIiICsgc3RhcnRlZCk7CiAgICAgICAgaWYgKHN0YXJ0ZWQp
IHsKICAgICAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJtb25pdG9yaW5nLnN0YXJ0Iiwg
dHVuZHJhLmRhdGV0aW1lLmZvcm1hdCgiIiArIHN0YXJ0VGltZSwgIm1pbGxpc2Vjb25kcyIsICJk
YXRldGltZSIpKTsKICAgICAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJtb25pdG9yaW5n
LmR1cmF0aW9uIiwgdHVuZHJhLmR1cmF0aW9uLmZvcm1hdCgiIiArIGdldER1cmF0aW9uKCksICJt
aWxsaXNlY29uZHMiLCAieG1sIikpOwogICAgICAgIH0KICAgICAgICBJRGF0YVV0aWwucHV0KGN1
cnNvciwgImludm9jYXRpb25zLnN0YXJ0ZWQiLCB0b3RhbEludm9jYXRpb25zLmxvbmdWYWx1ZSgp
KTsKICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImludm9jYXRpb25zLmVycm9yZWQiLCB0
b3RhbEVycm9ycy5sb25nVmFsdWUoKSk7CgogICAgICAgIGphdmEudXRpbC5MaXN0PElEYXRhPiB0
aHJlYWRzID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8SURhdGE+KGN1cnJlbnRUaHJlYWRzLnNp
emUoKSk7CiAgICAgICAgamF2YS51dGlsLkl0ZXJhdG9yPExvbmc+IGl0ZXJhdG9yID0gY3VycmVu
dFRocmVhZHMua2V5U2V0KCkuaXRlcmF0b3IoKTsKICAgICAgICB3aGlsZShpdGVyYXRvci5oYXNO
ZXh0KCkpIHsKICAgICAgICAgICAgTG9uZyBrZXkgPSBpdGVyYXRvci5uZXh0KCk7CiAgICAgICAg
ICAgIFNlcnZpY2VFeGVjdXRpb25UaHJlYWQgdGhyZWFkID0gY3VycmVudFRocmVhZHMuZ2V0KGtl
eSk7CiAgICAgICAgICAgIGlmICh0aHJlYWQuc2l6ZSgpID4gMCkgewogICAgICAgICAgICAgICAg
dGhyZWFkcy5hZGQodGhyZWFkLmdldElEYXRhKCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAg
ICAgICAgICAgICAgY3VycmVudFRocmVhZHMucmVtb3ZlKGtleSk7IC8vIHJlbW92ZSB0aHJlYWRz
IHdpdGggbm8gaXRlbXMgaW4gdGhlIGNhbGwgc3RhY2sKICAgICAgICAgICAgfQogICAgICAgIH0K
ICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImludm9jYXRpb25zLmN1cnJlbnQiLCAoSURh
dGFbXSl0aHJlYWRzLnRvQXJyYXkobmV3IElEYXRhWzBdKSk7CiAgICAgICAgSURhdGFVdGlsLnB1
dChjdXJzb3IsICJpbnZvY2F0aW9ucy5jdXJyZW50Lmxlbmd0aCIsIHRocmVhZHMuc2l6ZSgpKTsK
CiAgICAgICAgY3Vyc29yLmRlc3Ryb3koKTsKCiAgICAgICAgcmV0dXJuIG91dHB1dDsKICAgIH0K
CiAgICAvLyBzZXRzIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBJRGF0YSAtIG5vdCBpbXBsZW1lbnRl
ZAogICAgcHVibGljIHZvaWQgc2V0SURhdGEoSURhdGEgaW5wdXQpIHsKICAgICAgICB0aHJvdyBu
ZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oInNldElEYXRhIG5vdCBpbXBsZW1lbnRl
ZCIpOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcyB0
aGlzIGNvbnRleHQgb2JqZWN0IGhhcyBiZWVuIG1vbml0b3JpbmcgdGhlIGV4ZWN1dGlvbiBzdGF0
ZQogICAgcHVibGljIGxvbmcgZ2V0RHVyYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIFN5c3RlbS5j
dXJyZW50VGltZU1pbGxpcygpIC0gc3RhcnRUaW1lOwogICAgfQoKICAgIC8vIHJlZ2lzdGVycyB0
aGlzIHByb2Nlc3NvciB3aXRoIHRoZSBpbnZvY2F0aW9uIG1hbmFnZXIKICAgIHB1YmxpYyB2b2lk
IHN0YXJ0KCkgewogICAgICAgIHN5bmNocm9uaXplZCh0aGlzKSB7CiAgICAgICAgICAgIGlmICgh
c3RhcnRlZCkgewogICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gU3lzdGVtLmN1cnJlbnRUaW1l
TWlsbGlzKCk7CiAgICAgICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAg
IGNvbS53bS5hcHAuYjJiLnNlcnZlci5pbnZva2UuSW52b2tlTWFuYWdlciBpbnZva2VNYW5hZ2Vy
ID0gY29tLndtLmFwcC5iMmIuc2VydmVyLmludm9rZS5JbnZva2VNYW5hZ2VyLmdldERlZmF1bHQo
KTsKICAgICAgICAgICAgICAgIGludm9rZU1hbmFnZXIucmVnaXN0ZXJQcm9jZXNzb3IodGhpcyk7
CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLy8gZGVyZWdpc3RlcnMgdGhpcyBw
cm9jZXNzb3Igd2l0aCB0aGUgaW52b2NhdGlvbiBtYW5hZ2VyCiAgICBwdWJsaWMgdm9pZCBzdG9w
KCkgewogICAgICAgIHN5bmNocm9uaXplZCh0aGlzKSB7CiAgICAgICAgICAgIGlmIChzdGFydGVk
KSB7CiAgICAgICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb20u
d20uYXBwLmIyYi5zZXJ2ZXIuaW52b2tlLkludm9rZU1hbmFnZXIgaW52b2tlTWFuYWdlciA9IGNv
bS53bS5hcHAuYjJiLnNlcnZlci5pbnZva2UuSW52b2tlTWFuYWdlci5nZXREZWZhdWx0KCk7CiAg
ICAgICAgICAgICAgICBpbnZva2VNYW5hZ2VyLnVucmVnaXN0ZXJQcm9jZXNzb3IodGhpcyk7CiAg
ICAgICAgICAgICAgICBpbnN0YW5jZSA9IG51bGw7IC8vIGZyZWUgdGhlIHNpbmdsZXRvbiBpbnN0
YW5jZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9
Cn0=</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
  </array>
</Values>
