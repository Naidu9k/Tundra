<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.support.service.usage</value>
  <value name="is_public">false</value>
  <value name="shared">Ly8gcmVwcmVzZW50cyBhIHNpbmdsZSBjdXJyZW50bHkgZXhlY3V0aW5nIGludm9jYXRpb24gb2Yg
YSBzZXJ2aWNlCnB1YmxpYyBzdGF0aWMgY2xhc3MgU2VydmljZUV4ZWN1dGlvbiBpbXBsZW1lbnRz
IGNvbS53bS51dGlsLmNvZGVyLklEYXRhQ29kYWJsZSB7CiAgICBwcml2YXRlIGxvbmcgc3RhcnRU
aW1lOwogICAgcHJpdmF0ZSBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuQmFzZVNlcnZpY2Ugc2Vydmlj
ZTsKICAgIHByaXZhdGUgSURhdGEgcGlwZWxpbmU7CiAgICBwcml2YXRlIFN0cmluZyB1c2VyLCBz
ZXNzaW9uOwoKICAgIHB1YmxpYyBTZXJ2aWNlRXhlY3V0aW9uKFN0cmluZyBzZXJ2aWNlLCBJRGF0
YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVyLkludm9rZVN0YXRlIHN0YXRlKSB7CiAg
ICAgICAgdGhpcyhjb20ud20ubGFuZy5ucy5OU05hbWUuY3JlYXRlKHNlcnZpY2UpLCBwaXBlbGlu
ZSwgc3RhdGUpOwogICAgfQoKICAgIHB1YmxpYyBTZXJ2aWNlRXhlY3V0aW9uKGNvbS53bS5sYW5n
Lm5zLk5TTmFtZSBzZXJ2aWNlLCBJRGF0YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVy
Lkludm9rZVN0YXRlIHN0YXRlKSB7CiAgICAgICAgdGhpcyhjb20ud20uYXBwLmIyYi5zZXJ2ZXIu
bnMuTmFtZXNwYWNlLmdldFNlcnZpY2Uoc2VydmljZSksIHBpcGVsaW5lLCBzdGF0ZSk7CiAgICB9
CgogICAgcHVibGljIFNlcnZpY2VFeGVjdXRpb24oY29tLndtLmFwcC5iMmIuc2VydmVyLkJhc2VT
ZXJ2aWNlIHNlcnZpY2UsIElEYXRhIHBpcGVsaW5lLCBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuSW52
b2tlU3RhdGUgc3RhdGUpIHsKICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlOwogICAgICAg
IHRoaXMucGlwZWxpbmUgPSBSZWFkT25seUlEYXRhTWFwLm9mKHBpcGVsaW5lKTsKICAgICAgICB0
aGlzLnN0YXJ0VGltZSA9IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwogICAgICAgIHRoaXMu
c2Vzc2lvbiA9IHN0YXRlLmdldFNlc3Npb24oKS5nZXRTZXNzaW9uSUQoKTsKICAgICAgICB0aGlz
LnVzZXIgPSBzdGF0ZS5nZXRVc2VyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIC8vIHJldHVybnMg
dGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgYmVpbmcgaW52b2tlZAogICAgcHVibGljIFN0cmluZyBn
ZXRTZXJ2aWNlTmFtZSgpIHsKICAgICAgICByZXR1cm4gc2VydmljZS5nZXROU05hbWUoKS5nZXRG
dWxsTmFtZSgpOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHBhY2thZ2Ug
aW4gd2hpY2ggdGhlIHNlcnZpY2UgYmVpbmcgaW52b2tlZCByZXNpZGVzCiAgICBwdWJsaWMgU3Ry
aW5nIGdldFBhY2thZ2VOYW1lKCkgewogICAgICAgIHJldHVybiBzZXJ2aWNlLmdldFBhY2thZ2VO
YW1lKCk7CiAgICB9CgogICAgLy8gcmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgdXNlciBpbnZva2lu
ZyB0aGUgc2VydmljZQogICAgcHVibGljIFN0cmluZyBnZXRVc2VyKCkgewogICAgICAgIHJldHVy
biB1c2VyOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIHNlc3Npb24gbmFtZSBpbnZva2luZyB0
aGUgc2VydmljZQogICAgcHVibGljIFN0cmluZyBnZXRTZXNzaW9uKCkgewogICAgICAgIHJldHVy
biBzZXNzaW9uOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIHBpcGVsaW5lIGFzc29jaWF0ZWQg
d2l0aCB0aGlzIGludm9jYXRpb24KICAgIHB1YmxpYyBJRGF0YSBnZXRQaXBlbGluZSgpIHsKICAg
ICAgICByZXR1cm4gcGlwZWxpbmU7CiAgICB9CgogICAgLy8gcmV0dXJucyB0aGUgcGlwZWxpbmUg
YXNzb2NpYXRlZCB3aXRoIHRoaXMgaW52b2NhdGlvbgogICAgcHVibGljIGludCBnZXRQaXBlbGlu
ZVNpemUoKSB7CiAgICAgICAgSURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29y
KCk7CiAgICAgICAgaW50IHNpemUgPSBJRGF0YVV0aWwuc2l6ZShjdXJzb3IpOwogICAgICAgIGN1
cnNvci5kZXN0cm95KCk7CiAgICAgICAgcmV0dXJuIHNpemU7CiAgICB9CgogICAgLy8gcmV0dXJu
cyB0aGUgaW52b2NhdGlvbiBkdXJhdGlvbiBpbiBtaWxsaXNlY29uZHMKICAgIHB1YmxpYyBsb25n
IGdldER1cmF0aW9uKCkgewogICAgICAgIHJldHVybiBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMo
KSAtIHN0YXJ0VGltZTsKICAgIH0KCiAgICAvLyByZXR1cm5zIGFuIElEYXRhIHJlcHJlc2VudGF0
aW9uIG9mIHRoaXMgb2JqZWN0CiAgICBwdWJsaWMgSURhdGEgZ2V0SURhdGEoKSB7CiAgICAgICAg
SURhdGEgb3V0cHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29y
IGN1cnNvciA9IG91dHB1dC5nZXRDdXJzb3IoKTsKCiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJz
b3IsICJzZXJ2aWNlIiwgZ2V0U2VydmljZU5hbWUoKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChj
dXJzb3IsICJwYWNrYWdlIiwgZ2V0UGFja2FnZU5hbWUoKSk7CiAgICAgICAgSURhdGFVdGlsLnB1
dChjdXJzb3IsICJwaXBlbGluZSIsIGdldFBpcGVsaW5lKCkpOwogICAgICAgIElEYXRhVXRpbC5w
dXQoY3Vyc29yLCAicGlwZWxpbmUubGVuZ3RoIiwgZ2V0UGlwZWxpbmVTaXplKCkpOwogICAgICAg
IElEYXRhVXRpbC5wdXQoY3Vyc29yLCAic3RhcnQiLCBEYXRlVGltZUhlbHBlci5mb3JtYXQoc3Rh
cnRUaW1lKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJkdXJhdGlvbiIsIER1cmF0
aW9uSGVscGVyLmZvcm1hdChnZXREdXJhdGlvbigpLCBEdXJhdGlvblBhdHRlcm4uWE1MKSk7CiAg
ICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJzZXNzaW9uIiwgZ2V0U2Vzc2lvbigpKTsKICAg
ICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgInVzZXIiLCBnZXRVc2VyKCkpOwogICAgICAgIGN1
cnNvci5kZXN0cm95KCk7CgogICAgICAgIHJldHVybiBvdXRwdXQ7CiAgICB9CgogICAgLy8gc2V0
cyB2YWx1ZXMgZnJvbSB0aGUgZ2l2ZW4gSURhdGEgLSBub3QgaW1wbGVtZW50ZWQKICAgIHB1Ymxp
YyB2b2lkIHNldElEYXRhKElEYXRhIGlucHV0KSB7CiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9y
dGVkT3BlcmF0aW9uRXhjZXB0aW9uKCJzZXRJRGF0YSBub3QgaW1wbGVtZW50ZWQiKTsKICAgIH0K
fQoKLy8gcmVwcmVzZW50cyBhIHNpbmdsZSBjdXJyZW50bHkgZXhlY3V0aW5nIGludm9jYXRpb24g
Y2FsbCBzdGFjawpwdWJsaWMgc3RhdGljIGNsYXNzIFNlcnZpY2VFeGVjdXRpb25UaHJlYWQgaW1w
bGVtZW50cyBjb20ud20udXRpbC5jb2Rlci5JRGF0YUNvZGFibGUgewogICAgcHJpdmF0ZSBUaHJl
YWQgdGhyZWFkID0gbnVsbDsKICAgIHByaXZhdGUgamF2YS51dGlsLkRlcXVlPFNlcnZpY2VFeGVj
dXRpb24+IHN0YWNrID0gbnVsbDsKICAgIGxvbmcgc3RhcnRUaW1lOwoKICAgIC8vIGNyZWF0ZXMg
YSBuZXcgU2VydmljZUV4ZWN1dGlvblRocmVhZAogICAgcHVibGljIFNlcnZpY2VFeGVjdXRpb25U
aHJlYWQoVGhyZWFkIHRocmVhZCkgewogICAgICAgIHRoaXMudGhyZWFkID0gdGhyZWFkOwogICAg
ICAgIHRoaXMuc3RhY2sgPSBuZXcgamF2YS51dGlsLkFycmF5RGVxdWU8U2VydmljZUV4ZWN1dGlv
bj4oKTsKICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygp
OwogICAgfQoKICAgIHB1YmxpYyB2b2lkIHB1c2goU2VydmljZUV4ZWN1dGlvbiBpbnZvY2F0aW9u
KSB7CiAgICAgICAgc3RhY2sucHVzaChpbnZvY2F0aW9uKTsKICAgIH0KCiAgICBwdWJsaWMgU2Vy
dmljZUV4ZWN1dGlvbiBwb3AoKSB7CiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpOwogICAgfQoK
ICAgIHB1YmxpYyBpbnQgc2l6ZSgpIHsKICAgICAgICByZXR1cm4gc3RhY2suc2l6ZSgpOwogICAg
fQoKICAgIC8vIHJldHVybnMgdGhlIGludm9jYXRpb24gZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRz
CiAgICBwdWJsaWMgbG9uZyBnZXREdXJhdGlvbigpIHsKICAgICAgICByZXR1cm4gU3lzdGVtLmN1
cnJlbnRUaW1lTWlsbGlzKCkgLSBzdGFydFRpbWU7CiAgICB9CgogICAgLy8gcmV0dXJucyBhbiBJ
RGF0YSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGludm9jYXRpb24gdHJlZQogICAgcHVibGljIElE
YXRhIGdldElEYXRhKCkgewogICAgICAgIElEYXRhIG91dHB1dCA9IElEYXRhRmFjdG9yeS5jcmVh
dGUoKTsKICAgICAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBvdXRwdXQuZ2V0Q3Vyc29yKCk7Cgog
ICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAidGhyZWFkLmlkIiwgdGhyZWFkLmdldElkKCkp
OwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAidGhyZWFkLm5hbWUiLCB0aHJlYWQuZ2V0
TmFtZSgpKTsKICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgInRocmVhZC5vYmplY3QiLCB0
aHJlYWQpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAidGhyZWFkLnN0YXJ0IiwgRGF0
ZVRpbWVIZWxwZXIuZm9ybWF0KHN0YXJ0VGltZSkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vy
c29yLCAidGhyZWFkLmR1cmF0aW9uIiwgRHVyYXRpb25IZWxwZXIuZm9ybWF0KGdldER1cmF0aW9u
KCksIER1cmF0aW9uUGF0dGVybi5YTUwpKTsKCiAgICAgICAgU2VydmljZUV4ZWN1dGlvbltdIGxp
c3QgPSBzdGFjay50b0FycmF5KG5ldyBTZXJ2aWNlRXhlY3V0aW9uWzBdKTsKICAgICAgICBJRGF0
YVtdIHNlcnZpY2VzID0gbmV3IElEYXRhW2xpc3QubGVuZ3RoXTsKICAgICAgICBmb3IoaW50IGkg
PSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgc2VydmljZXNbaV0gPSBsaXN0W2ldLmdldElEYXRh
KCk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJjYWxsc3RhY2siLCBzZXJ2aWNlcyk7
CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJjYWxsc3RhY2subGVuZ3RoIiwgc2Vydmlj
ZXMubGVuZ3RoKTsKCiAgICAgICAgY3Vyc29yLmRlc3Ryb3koKTsKCiAgICAgICAgcmV0dXJuIG91
dHB1dDsKICAgIH0KCiAgICAvLyBzZXRzIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBJRGF0YSAtIG5v
dCBpbXBsZW1lbnRlZAogICAgcHVibGljIHZvaWQgc2V0SURhdGEoSURhdGEgaW5wdXQpIHsKICAg
ICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oInNldElEYXRhIG5v
dCBpbXBsZW1lbnRlZCIpOwogICAgfQp9CgpwdWJsaWMgZmluYWwgc3RhdGljIGNsYXNzIFNlcnZp
Y2VFeGVjdXRpb25Db250ZXh0IGltcGxlbWVudHMgY29tLndtLmFwcC5iMmIuc2VydmVyLmludm9r
ZS5JbnZva2VDaGFpblByb2Nlc3NvciwgY29tLndtLnV0aWwuY29kZXIuSURhdGFDb2RhYmxlIHsK
ICAgIHByaXZhdGUgc3RhdGljIFNlcnZpY2VFeGVjdXRpb25Db250ZXh0IGluc3RhbmNlID0gbnVs
bDsKICAgIHByaXZhdGUgbG9uZyBzdGFydFRpbWUgPSAwOwogICAgcHJpdmF0ZSBqYXZhLnV0aWwu
Y29uY3VycmVudC5hdG9taWMuQXRvbWljTG9uZyB0b3RhbEludm9jYXRpb25zID0gbmV3IGphdmEu
dXRpbC5jb25jdXJyZW50LmF0b21pYy5BdG9taWNMb25nKDApOwogICAgcHJpdmF0ZSBqYXZhLnV0
aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljTG9uZyB0b3RhbEVycm9ycyA9IG5ldyBqYXZhLnV0
aWwuY29uY3VycmVudC5hdG9taWMuQXRvbWljTG9uZygwKTsKICAgIHByaXZhdGUgYm9vbGVhbiBz
dGFydGVkID0gZmFsc2U7CiAgICBwcml2YXRlIGphdmEudXRpbC5NYXA8TG9uZywgU2VydmljZUV4
ZWN1dGlvblRocmVhZD4gY3VycmVudFRocmVhZHMgPSBuZXcgamF2YS51dGlsLmNvbmN1cnJlbnQu
Q29uY3VycmVudEhhc2hNYXA8TG9uZywgU2VydmljZUV4ZWN1dGlvblRocmVhZD4oKTsKCiAgICAv
LyBjcmVhdGVzIGEgbmV3IFNlcnZpY2VFeGVjdXRpb25Db250ZXh0IG9iamVjdAogICAgcHJpdmF0
ZSBTZXJ2aWNlRXhlY3V0aW9uQ29udGV4dCgpIHsKICAgIH0KCiAgICAvLyByZXR1cm5zIHRoZSBz
aW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcwogICAgcHVibGljIHN0YXRpYyBTZXJ2aWNl
RXhlY3V0aW9uQ29udGV4dCBnZXRJbnN0YW5jZSgpIHsKICAgICAgICBpZiAoaW5zdGFuY2UgPT0g
bnVsbCkgaW5zdGFuY2UgPSBuZXcgU2VydmljZUV4ZWN1dGlvbkNvbnRleHQoKTsKICAgICAgICBy
ZXR1cm4gaW5zdGFuY2U7CiAgICB9CgogICAgLy8gcmVjb3JkcyBlYWNoIGN1cnJlbnRseSBleGVj
dXRpbmcgaW52b2NhdGlvbgogICAgcHVibGljIHZvaWQgcHJvY2VzcyhqYXZhLnV0aWwuSXRlcmF0
b3IgY2hhaW4sIGNvbS53bS5hcHAuYjJiLnNlcnZlci5CYXNlU2VydmljZSBzZXJ2aWNlLCBJRGF0
YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVyLmludm9rZS5TZXJ2aWNlU3RhdHVzIHN0
YXR1cykgdGhyb3dzIGNvbS53bS51dGlsLlNlcnZlckV4Y2VwdGlvbiB7CiAgICAgICAgVGhyZWFk
IGN1cnJlbnRUaHJlYWQgPSBUaHJlYWQuY3VycmVudFRocmVhZCgpOwogICAgICAgIExvbmcgaWQg
PSBjdXJyZW50VGhyZWFkLmdldElkKCk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIC8vIHJl
Z2lzdGVyIHRoaXMgY2FsbCBpbiBhIHRyeS9jYXRjaCBzbyB0aGF0IGFueSBmYWlsdXJlcyBkbyBu
b3Qgc3RvcCBzZXJ2aWNlIGludm9jYXRpb24KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAg
ICAgIFNlcnZpY2VFeGVjdXRpb25UaHJlYWQgc2VydmljZVRocmVhZCA9IGN1cnJlbnRUaHJlYWRz
LmdldChpZCk7CgogICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VUaHJlYWQgPT0gbnVsbCkgewog
ICAgICAgICAgICAgICAgICAgIHNlcnZpY2VUaHJlYWQgPSBuZXcgU2VydmljZUV4ZWN1dGlvblRo
cmVhZChjdXJyZW50VGhyZWFkKTsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGhyZWFkcy5w
dXQoaWQsIHNlcnZpY2VUaHJlYWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAg
aWYgKHNlcnZpY2VUaHJlYWQgIT0gbnVsbCkgc2VydmljZVRocmVhZC5wdXNoKG5ldyBTZXJ2aWNl
RXhlY3V0aW9uKHNlcnZpY2UsIHBpcGVsaW5lLCBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuSW52b2tl
U3RhdGUuZ2V0Q3VycmVudFN0YXRlKCkpKTsKCiAgICAgICAgICAgICAgICB0b3RhbEludm9jYXRp
b25zLmluY3JlbWVudEFuZEdldCgpOwogICAgICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgZXgp
IHsKICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcKICAgICAgICAgICAgfQoKICAgICAgICAg
ICAgaWYgKGNoYWluLmhhc05leHQoKSkgKChjb20ud20uYXBwLmIyYi5zZXJ2ZXIuaW52b2tlLklu
dm9rZUNoYWluUHJvY2Vzc29yKWNoYWluLm5leHQoKSkucHJvY2VzcyhjaGFpbiwgc2VydmljZSwg
cGlwZWxpbmUsIHN0YXR1cyk7CiAgICAgICAgfSBjYXRjaCAoY29tLndtLnV0aWwuU2VydmVyRXhj
ZXB0aW9uIGV4KSB7CiAgICAgICAgICAgIHRvdGFsRXJyb3JzLmluY3JlbWVudEFuZEdldCgpOwog
ICAgICAgICAgICB0aHJvdyBleDsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB0cnkg
ewogICAgICAgICAgICAgICAgU2VydmljZUV4ZWN1dGlvblRocmVhZCBzZXJ2aWNlVGhyZWFkID0g
Y3VycmVudFRocmVhZHMuZ2V0KGlkKTsKICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNlVGhyZWFk
ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlVGhyZWFkLnBvcCgpOyAvLyBp
bnZvY2F0aW9uIGZpbmlzaGVkLCBzbyByZW1vdmUgZnJvbSBjYWxsIHN0YWNrCiAgICAgICAgICAg
ICAgICAgICAgaWYgKHNlcnZpY2VUaHJlYWQuc2l6ZSgpID09IDApIGN1cnJlbnRUaHJlYWRzLnJl
bW92ZShpZCk7IC8vIHRvcC1sZXZlbCBpbnZvY2F0aW9uIGZpbmlzaGVkLCBzbyByZW1vdmUgZnJv
bSBjdXJyZW50bHkgZXhlY3V0aW5nIHRocmVhZHMKICAgICAgICAgICAgICAgIH0KICAgICAgICAg
ICAgfSBjYXRjaChUaHJvd2FibGUgZXgpIHsKICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmcK
ICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyByZXR1cm5zIHRoZSBjdXJyZW50
IGludm9jYXRpb24gY29udGV4dCBvZiB0aGUgc2VydmVyIGFzIGFuIElEYXRhW10gZG9jdW1lbnQg
bGlzdAogICAgcHVibGljIElEYXRhIGdldElEYXRhKCkgewogICAgICAgIElEYXRhIG91dHB1dCA9
IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsKICAgICAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBvdXRw
dXQuZ2V0Q3Vyc29yKCk7CgogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAibW9uaXRvcmlu
Zy5zdGFydGVkPyIsICIiICsgc3RhcnRlZCk7CiAgICAgICAgaWYgKHN0YXJ0ZWQpIHsKICAgICAg
ICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJtb25pdG9yaW5nLnN0YXJ0IiwgRGF0ZVRpbWVI
ZWxwZXIuZm9ybWF0KHN0YXJ0VGltZSkpOwogICAgICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNv
ciwgIm1vbml0b3JpbmcuZHVyYXRpb24iLCBEdXJhdGlvbkhlbHBlci5mb3JtYXQoZ2V0RHVyYXRp
b24oKSwgRHVyYXRpb25QYXR0ZXJuLlhNTCkpOwogICAgICAgIH0KICAgICAgICBJRGF0YVV0aWwu
cHV0KGN1cnNvciwgImludm9jYXRpb25zLnN0YXJ0ZWQiLCB0b3RhbEludm9jYXRpb25zLmxvbmdW
YWx1ZSgpKTsKICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImludm9jYXRpb25zLmVycm9y
ZWQiLCB0b3RhbEVycm9ycy5sb25nVmFsdWUoKSk7CgogICAgICAgIGphdmEudXRpbC5MaXN0PElE
YXRhPiB0aHJlYWRzID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8SURhdGE+KGN1cnJlbnRUaHJl
YWRzLnNpemUoKSk7CiAgICAgICAgamF2YS51dGlsLkl0ZXJhdG9yPExvbmc+IGl0ZXJhdG9yID0g
Y3VycmVudFRocmVhZHMua2V5U2V0KCkuaXRlcmF0b3IoKTsKICAgICAgICB3aGlsZShpdGVyYXRv
ci5oYXNOZXh0KCkpIHsKICAgICAgICAgICAgTG9uZyBrZXkgPSBpdGVyYXRvci5uZXh0KCk7CiAg
ICAgICAgICAgIFNlcnZpY2VFeGVjdXRpb25UaHJlYWQgdGhyZWFkID0gY3VycmVudFRocmVhZHMu
Z2V0KGtleSk7CiAgICAgICAgICAgIGlmICh0aHJlYWQuc2l6ZSgpID4gMCkgewogICAgICAgICAg
ICAgICAgdGhyZWFkcy5hZGQodGhyZWFkLmdldElEYXRhKCkpOwogICAgICAgICAgICB9IGVsc2Ug
ewogICAgICAgICAgICAgICAgY3VycmVudFRocmVhZHMucmVtb3ZlKGtleSk7IC8vIHJlbW92ZSB0
aHJlYWRzIHdpdGggbm8gaXRlbXMgaW4gdGhlIGNhbGwgc3RhY2sKICAgICAgICAgICAgfQogICAg
ICAgIH0KICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImludm9jYXRpb25zLmN1cnJlbnQi
LCAoSURhdGFbXSl0aHJlYWRzLnRvQXJyYXkobmV3IElEYXRhWzBdKSk7CiAgICAgICAgSURhdGFV
dGlsLnB1dChjdXJzb3IsICJpbnZvY2F0aW9ucy5jdXJyZW50Lmxlbmd0aCIsIHRocmVhZHMuc2l6
ZSgpKTsKCiAgICAgICAgY3Vyc29yLmRlc3Ryb3koKTsKCiAgICAgICAgcmV0dXJuIG91dHB1dDsK
ICAgIH0KCiAgICAvLyBzZXRzIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBJRGF0YSAtIG5vdCBpbXBs
ZW1lbnRlZAogICAgcHVibGljIHZvaWQgc2V0SURhdGEoSURhdGEgaW5wdXQpIHsKICAgICAgICB0
aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oInNldElEYXRhIG5vdCBpbXBs
ZW1lbnRlZCIpOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIGR1cmF0aW9uIGluIG1pbGxpc2Vj
b25kcyB0aGlzIGNvbnRleHQgb2JqZWN0IGhhcyBiZWVuIG1vbml0b3JpbmcgdGhlIGV4ZWN1dGlv
biBzdGF0ZQogICAgcHVibGljIGxvbmcgZ2V0RHVyYXRpb24oKSB7CiAgICAgICAgcmV0dXJuIFN5
c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIC0gc3RhcnRUaW1lOwogICAgfQoKICAgIC8vIHJlZ2lz
dGVycyB0aGlzIHByb2Nlc3NvciB3aXRoIHRoZSBpbnZvY2F0aW9uIG1hbmFnZXIKICAgIHB1Ymxp
YyB2b2lkIHN0YXJ0KCkgewogICAgICAgIHN5bmNocm9uaXplZCh0aGlzKSB7CiAgICAgICAgICAg
IGlmICghc3RhcnRlZCkgewogICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gU3lzdGVtLmN1cnJl
bnRUaW1lTWlsbGlzKCk7CiAgICAgICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTsKICAgICAgICAg
ICAgICAgIGNvbS53bS5hcHAuYjJiLnNlcnZlci5pbnZva2UuSW52b2tlTWFuYWdlciBpbnZva2VN
YW5hZ2VyID0gY29tLndtLmFwcC5iMmIuc2VydmVyLmludm9rZS5JbnZva2VNYW5hZ2VyLmdldERl
ZmF1bHQoKTsKICAgICAgICAgICAgICAgIGludm9rZU1hbmFnZXIucmVnaXN0ZXJQcm9jZXNzb3Io
dGhpcyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgLy8gZGVyZWdpc3RlcnMg
dGhpcyBwcm9jZXNzb3Igd2l0aCB0aGUgaW52b2NhdGlvbiBtYW5hZ2VyCiAgICBwdWJsaWMgdm9p
ZCBzdG9wKCkgewogICAgICAgIHN5bmNocm9uaXplZCh0aGlzKSB7CiAgICAgICAgICAgIGlmIChz
dGFydGVkKSB7CiAgICAgICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7CiAgICAgICAgICAgICAg
ICBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuaW52b2tlLkludm9rZU1hbmFnZXIgaW52b2tlTWFuYWdl
ciA9IGNvbS53bS5hcHAuYjJiLnNlcnZlci5pbnZva2UuSW52b2tlTWFuYWdlci5nZXREZWZhdWx0
KCk7CiAgICAgICAgICAgICAgICBpbnZva2VNYW5hZ2VyLnVucmVnaXN0ZXJQcm9jZXNzb3IodGhp
cyk7CiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IG51bGw7IC8vIGZyZWUgdGhlIHNpbmdsZXRv
biBpbnN0YW5jZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uCiAgICAgICAgICAgIH0KICAgICAgICB9
CiAgICB9Cn0=</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
    <value>permafrost.tundra.data.ReadOnlyIDataMap</value>
    <value>permafrost.tundra.time.DateTimeHelper</value>
    <value>permafrost.tundra.time.DurationHelper</value>
    <value>permafrost.tundra.time.DurationPattern</value>
  </array>
</Values>
