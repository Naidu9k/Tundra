<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.support.service.usage</value>
  <value name="is_public">false</value>
  <value name="shared">Ly8gcmVwcmVzZW50cyBhIHNpbmdsZSBjdXJyZW50bHkgZXhlY3V0aW5nIGludm9jYXRpb24gb2Yg
YSBzZXJ2aWNlCnB1YmxpYyBzdGF0aWMgY2xhc3MgU2VydmljZUV4ZWN1dGlvbiBpbXBsZW1lbnRz
IGNvbS53bS51dGlsLmNvZGVyLklEYXRhQ29kYWJsZSB7CiAgICBwcml2YXRlIGxvbmcgc3RhcnRU
aW1lOwogICAgcHJpdmF0ZSBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuQmFzZVNlcnZpY2Ugc2Vydmlj
ZTsKICAgIHByaXZhdGUgSURhdGEgcGlwZWxpbmU7CiAgICBwcml2YXRlIFN0cmluZyB1c2VyLCBz
ZXNzaW9uOwoKICAgIHB1YmxpYyBTZXJ2aWNlRXhlY3V0aW9uKFN0cmluZyBzZXJ2aWNlLCBJRGF0
YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVyLkludm9rZVN0YXRlIHN0YXRlKSB7CiAg
ICAgICAgdGhpcyhjb20ud20ubGFuZy5ucy5OU05hbWUuY3JlYXRlKHNlcnZpY2UpLCBwaXBlbGlu
ZSwgc3RhdGUpOwogICAgfQoKICAgIHB1YmxpYyBTZXJ2aWNlRXhlY3V0aW9uKGNvbS53bS5sYW5n
Lm5zLk5TTmFtZSBzZXJ2aWNlLCBJRGF0YSBwaXBlbGluZSwgY29tLndtLmFwcC5iMmIuc2VydmVy
Lkludm9rZVN0YXRlIHN0YXRlKSB7CiAgICAgICAgdGhpcyhjb20ud20uYXBwLmIyYi5zZXJ2ZXIu
bnMuTmFtZXNwYWNlLmdldFNlcnZpY2Uoc2VydmljZSksIHBpcGVsaW5lLCBzdGF0ZSk7CiAgICB9
CgogICAgcHVibGljIFNlcnZpY2VFeGVjdXRpb24oY29tLndtLmFwcC5iMmIuc2VydmVyLkJhc2VT
ZXJ2aWNlIHNlcnZpY2UsIElEYXRhIHBpcGVsaW5lLCBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuSW52
b2tlU3RhdGUgc3RhdGUpIHsKICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlOwogICAgICAg
IHRoaXMucGlwZWxpbmUgPSBwaXBlbGluZSA9PSBudWxsID8gSURhdGFGYWN0b3J5LmNyZWF0ZSgp
IDogSURhdGFVdGlsLmNsb25lKHBpcGVsaW5lKTsKICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IFN5
c3RlbS5jdXJyZW50VGltZU1pbGxpcygpOwogICAgICAgIHRoaXMuc2Vzc2lvbiA9IHN0YXRlLmdl
dFNlc3Npb24oKS5nZXRTZXNzaW9uSUQoKTsKICAgICAgICB0aGlzLnVzZXIgPSBzdGF0ZS5nZXRV
c2VyKCkuZ2V0TmFtZSgpOwogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHNl
cnZpY2UgYmVpbmcgaW52b2tlZAogICAgcHVibGljIFN0cmluZyBnZXRTZXJ2aWNlTmFtZSgpIHsK
ICAgICAgICByZXR1cm4gc2VydmljZS5nZXROU05hbWUoKS5nZXRGdWxsTmFtZSgpOwogICAgfQoK
ICAgIC8vIHJldHVybnMgdGhlIG5hbWUgb2YgdGhlIHBhY2thZ2UgaW4gd2hpY2ggdGhlIHNlcnZp
Y2UgYmVpbmcgaW52b2tlZCByZXNpZGVzCiAgICBwdWJsaWMgU3RyaW5nIGdldFBhY2thZ2VOYW1l
KCkgewogICAgICAgIHJldHVybiBzZXJ2aWNlLmdldFBhY2thZ2VOYW1lKCk7CiAgICB9CgogICAg
Ly8gcmV0dXJucyB0aGUgbmFtZSBvZiB0aGUgdXNlciBpbnZva2luZyB0aGUgc2VydmljZQogICAg
cHVibGljIFN0cmluZyBnZXRVc2VyKCkgewogICAgICAgIHJldHVybiB1c2VyOwogICAgfQoKICAg
IC8vIHJldHVybnMgdGhlIHNlc3Npb24gbmFtZSBpbnZva2luZyB0aGUgc2VydmljZQogICAgcHVi
bGljIFN0cmluZyBnZXRTZXNzaW9uKCkgewogICAgICAgIHJldHVybiBzZXNzaW9uOwogICAgfQoK
ICAgIC8vIHJldHVybnMgdGhlIHBpcGVsaW5lIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGludm9jYXRp
b24KICAgIHB1YmxpYyBJRGF0YSBnZXRQaXBlbGluZSgpIHsKICAgICAgICByZXR1cm4gcGlwZWxp
bmU7CiAgICB9CgogICAgLy8gcmV0dXJucyB0aGUgcGlwZWxpbmUgYXNzb2NpYXRlZCB3aXRoIHRo
aXMgaW52b2NhdGlvbgogICAgcHVibGljIGludCBnZXRQaXBlbGluZVNpemUoKSB7CiAgICAgICAg
SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CiAgICAgICAgaW50IHNp
emUgPSBJRGF0YVV0aWwuc2l6ZShjdXJzb3IpOwogICAgICAgIGN1cnNvci5kZXN0cm95KCk7CiAg
ICAgICAgcmV0dXJuIHNpemU7CiAgICB9CgogICAgLy8gcmV0dXJucyB0aGUgaW52b2NhdGlvbiBk
dXJhdGlvbiBpbiBtaWxsaXNlY29uZHMKICAgIHB1YmxpYyBsb25nIGdldER1cmF0aW9uKCkgewog
ICAgICAgIHJldHVybiBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSAtIHN0YXJ0VGltZTsKICAg
IH0KCiAgICAvLyByZXR1cm5zIGFuIElEYXRhIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgb2JqZWN0
CiAgICBwdWJsaWMgSURhdGEgZ2V0SURhdGEoKSB7CiAgICAgICAgSURhdGEgb3V0cHV0ID0gSURh
dGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9IG91dHB1dC5n
ZXRDdXJzb3IoKTsKCiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJzZXJ2aWNlIiwgZ2V0
U2VydmljZU5hbWUoKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJwYWNrYWdlIiwg
Z2V0UGFja2FnZU5hbWUoKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJwaXBlbGlu
ZSIsIGdldFBpcGVsaW5lKCkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAicGlwZWxp
bmUubGVuZ3RoIiwgZ2V0UGlwZWxpbmVTaXplKCkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vy
c29yLCAic3RhcnQiLCB0dW5kcmEuZGF0ZXRpbWUuZm9ybWF0KCIiICsgc3RhcnRUaW1lLCAibWls
bGlzZWNvbmRzIiwgImRhdGV0aW1lIikpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAi
ZHVyYXRpb24iLCBEdXJhdGlvbkhlbHBlci5mb3JtYXQoZ2V0RHVyYXRpb24oKSwgRHVyYXRpb25Q
YXR0ZXJuLlhNTCkpOwogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAic2Vzc2lvbiIsIGdl
dFNlc3Npb24oKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJ1c2VyIiwgZ2V0VXNl
cigpKTsKICAgICAgICBjdXJzb3IuZGVzdHJveSgpOwoKICAgICAgICByZXR1cm4gb3V0cHV0Owog
ICAgfQoKICAgIC8vIHNldHMgdmFsdWVzIGZyb20gdGhlIGdpdmVuIElEYXRhIC0gbm90IGltcGxl
bWVudGVkCiAgICBwdWJsaWMgdm9pZCBzZXRJRGF0YShJRGF0YSBpbnB1dCkgewogICAgICAgIHRo
cm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigic2V0SURhdGEgbm90IGltcGxl
bWVudGVkIik7CiAgICB9Cn0KCi8vIHJlcHJlc2VudHMgYSBzaW5nbGUgY3VycmVudGx5IGV4ZWN1
dGluZyBpbnZvY2F0aW9uIGNhbGwgc3RhY2sKcHVibGljIHN0YXRpYyBjbGFzcyBTZXJ2aWNlRXhl
Y3V0aW9uVGhyZWFkIGltcGxlbWVudHMgY29tLndtLnV0aWwuY29kZXIuSURhdGFDb2RhYmxlIHsK
ICAgIHByaXZhdGUgVGhyZWFkIHRocmVhZCA9IG51bGw7CiAgICBwcml2YXRlIGphdmEudXRpbC5E
ZXF1ZTxTZXJ2aWNlRXhlY3V0aW9uPiBzdGFjayA9IG51bGw7CiAgICBsb25nIHN0YXJ0VGltZTsK
CiAgICAvLyBjcmVhdGVzIGEgbmV3IFNlcnZpY2VFeGVjdXRpb25UaHJlYWQKICAgIHB1YmxpYyBT
ZXJ2aWNlRXhlY3V0aW9uVGhyZWFkKFRocmVhZCB0aHJlYWQpIHsKICAgICAgICB0aGlzLnRocmVh
ZCA9IHRocmVhZDsKICAgICAgICB0aGlzLnN0YWNrID0gbmV3IGphdmEudXRpbC5BcnJheURlcXVl
PFNlcnZpY2VFeGVjdXRpb24+KCk7CiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBTeXN0ZW0uY3Vy
cmVudFRpbWVNaWxsaXMoKTsKICAgIH0KCiAgICBwdWJsaWMgdm9pZCBwdXNoKFNlcnZpY2VFeGVj
dXRpb24gaW52b2NhdGlvbikgewogICAgICAgIHN0YWNrLnB1c2goaW52b2NhdGlvbik7CiAgICB9
CgogICAgcHVibGljIFNlcnZpY2VFeGVjdXRpb24gcG9wKCkgewogICAgICAgIHJldHVybiBzdGFj
ay5wb3AoKTsKICAgIH0KCiAgICBwdWJsaWMgaW50IHNpemUoKSB7CiAgICAgICAgcmV0dXJuIHN0
YWNrLnNpemUoKTsKICAgIH0KCiAgICAvLyByZXR1cm5zIHRoZSBpbnZvY2F0aW9uIGR1cmF0aW9u
IGluIG1pbGxpc2Vjb25kcwogICAgcHVibGljIGxvbmcgZ2V0RHVyYXRpb24oKSB7CiAgICAgICAg
cmV0dXJuIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIC0gc3RhcnRUaW1lOwogICAgfQoKICAg
IC8vIHJldHVybnMgYW4gSURhdGEgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBpbnZvY2F0aW9uIHRy
ZWUKICAgIHB1YmxpYyBJRGF0YSBnZXRJRGF0YSgpIHsKICAgICAgICBJRGF0YSBvdXRwdXQgPSBJ
RGF0YUZhY3RvcnkuY3JlYXRlKCk7CiAgICAgICAgSURhdGFDdXJzb3IgY3Vyc29yID0gb3V0cHV0
LmdldEN1cnNvcigpOwoKICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgInRocmVhZC5pZCIs
IHRocmVhZC5nZXRJZCgpKTsKICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgInRocmVhZC5u
YW1lIiwgdGhyZWFkLmdldE5hbWUoKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJ0
aHJlYWQub2JqZWN0IiwgdGhyZWFkKTsKICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgInRo
cmVhZC5zdGFydCIsIHR1bmRyYS5kYXRldGltZS5mb3JtYXQoIiIgKyBzdGFydFRpbWUsICJtaWxs
aXNlY29uZHMiLCAiZGF0ZXRpbWUiKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJ0
aHJlYWQuZHVyYXRpb24iLCBEdXJhdGlvbkhlbHBlci5mb3JtYXQoZ2V0RHVyYXRpb24oKSwgRHVy
YXRpb25QYXR0ZXJuLlhNTCkpOwoKICAgICAgICBTZXJ2aWNlRXhlY3V0aW9uW10gbGlzdCA9IHN0
YWNrLnRvQXJyYXkobmV3IFNlcnZpY2VFeGVjdXRpb25bMF0pOwogICAgICAgIElEYXRhW10gc2Vy
dmljZXMgPSBuZXcgSURhdGFbbGlzdC5sZW5ndGhdOwogICAgICAgIGZvcihpbnQgaSA9IDA7IGkg
PCBsaXN0Lmxlbmd0aDsgaSsrKSBzZXJ2aWNlc1tpXSA9IGxpc3RbaV0uZ2V0SURhdGEoKTsKICAg
ICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImNhbGxzdGFjayIsIHNlcnZpY2VzKTsKICAgICAg
ICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImNhbGxzdGFjay5sZW5ndGgiLCBzZXJ2aWNlcy5sZW5n
dGgpOwoKICAgICAgICBjdXJzb3IuZGVzdHJveSgpOwoKICAgICAgICByZXR1cm4gb3V0cHV0Owog
ICAgfQoKICAgIC8vIHNldHMgdmFsdWVzIGZyb20gdGhlIGdpdmVuIElEYXRhIC0gbm90IGltcGxl
bWVudGVkCiAgICBwdWJsaWMgdm9pZCBzZXRJRGF0YShJRGF0YSBpbnB1dCkgewogICAgICAgIHRo
cm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigic2V0SURhdGEgbm90IGltcGxl
bWVudGVkIik7CiAgICB9Cn0KCnB1YmxpYyBmaW5hbCBzdGF0aWMgY2xhc3MgU2VydmljZUV4ZWN1
dGlvbkNvbnRleHQgaW1wbGVtZW50cyBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuaW52b2tlLkludm9r
ZUNoYWluUHJvY2Vzc29yLCBjb20ud20udXRpbC5jb2Rlci5JRGF0YUNvZGFibGUgewogICAgcHJp
dmF0ZSBzdGF0aWMgU2VydmljZUV4ZWN1dGlvbkNvbnRleHQgaW5zdGFuY2UgPSBudWxsOwogICAg
cHJpdmF0ZSBsb25nIHN0YXJ0VGltZSA9IDA7CiAgICBwcml2YXRlIGphdmEudXRpbC5jb25jdXJy
ZW50LmF0b21pYy5BdG9taWNMb25nIHRvdGFsSW52b2NhdGlvbnMgPSBuZXcgamF2YS51dGlsLmNv
bmN1cnJlbnQuYXRvbWljLkF0b21pY0xvbmcoMCk7CiAgICBwcml2YXRlIGphdmEudXRpbC5jb25j
dXJyZW50LmF0b21pYy5BdG9taWNMb25nIHRvdGFsRXJyb3JzID0gbmV3IGphdmEudXRpbC5jb25j
dXJyZW50LmF0b21pYy5BdG9taWNMb25nKDApOwogICAgcHJpdmF0ZSBib29sZWFuIHN0YXJ0ZWQg
PSBmYWxzZTsKICAgIHByaXZhdGUgamF2YS51dGlsLk1hcDxMb25nLCBTZXJ2aWNlRXhlY3V0aW9u
VGhyZWFkPiBjdXJyZW50VGhyZWFkcyA9IG5ldyBqYXZhLnV0aWwuY29uY3VycmVudC5Db25jdXJy
ZW50SGFzaE1hcDxMb25nLCBTZXJ2aWNlRXhlY3V0aW9uVGhyZWFkPigpOwoKICAgIC8vIGNyZWF0
ZXMgYSBuZXcgU2VydmljZUV4ZWN1dGlvbkNvbnRleHQgb2JqZWN0CiAgICBwcml2YXRlIFNlcnZp
Y2VFeGVjdXRpb25Db250ZXh0KCkgewogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIHNpbmdsZXRv
biBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzCiAgICBwdWJsaWMgc3RhdGljIFNlcnZpY2VFeGVjdXRp
b25Db250ZXh0IGdldEluc3RhbmNlKCkgewogICAgICAgIGlmIChpbnN0YW5jZSA9PSBudWxsKSBp
bnN0YW5jZSA9IG5ldyBTZXJ2aWNlRXhlY3V0aW9uQ29udGV4dCgpOwogICAgICAgIHJldHVybiBp
bnN0YW5jZTsKICAgIH0KCiAgICAvLyByZWNvcmRzIGVhY2ggY3VycmVudGx5IGV4ZWN1dGluZyBp
bnZvY2F0aW9uCiAgICBwdWJsaWMgdm9pZCBwcm9jZXNzKGphdmEudXRpbC5JdGVyYXRvciBjaGFp
biwgY29tLndtLmFwcC5iMmIuc2VydmVyLkJhc2VTZXJ2aWNlIHNlcnZpY2UsIElEYXRhIHBpcGVs
aW5lLCBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuaW52b2tlLlNlcnZpY2VTdGF0dXMgc3RhdHVzKSB0
aHJvd3MgY29tLndtLnV0aWwuU2VydmVyRXhjZXB0aW9uIHsKICAgICAgICBUaHJlYWQgY3VycmVu
dFRocmVhZCA9IFRocmVhZC5jdXJyZW50VGhyZWFkKCk7CiAgICAgICAgTG9uZyBpZCA9IGN1cnJl
bnRUaHJlYWQuZ2V0SWQoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgLy8gcmVnaXN0ZXIg
dGhpcyBjYWxsIGluIGEgdHJ5L2NhdGNoIHNvIHRoYXQgYW55IGZhaWx1cmVzIGRvIG5vdCBzdG9w
IHNlcnZpY2UgaW52b2NhdGlvbgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgU2Vy
dmljZUV4ZWN1dGlvblRocmVhZCBzZXJ2aWNlVGhyZWFkID0gY3VycmVudFRocmVhZHMuZ2V0KGlk
KTsKCiAgICAgICAgICAgICAgICBpZiAoc2VydmljZVRocmVhZCA9PSBudWxsKSB7CiAgICAgICAg
ICAgICAgICAgICAgc2VydmljZVRocmVhZCA9IG5ldyBTZXJ2aWNlRXhlY3V0aW9uVGhyZWFkKGN1
cnJlbnRUaHJlYWQpOwogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaHJlYWRzLnB1dChpZCwg
c2VydmljZVRocmVhZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoc2Vy
dmljZVRocmVhZCAhPSBudWxsKSBzZXJ2aWNlVGhyZWFkLnB1c2gobmV3IFNlcnZpY2VFeGVjdXRp
b24oc2VydmljZSwgcGlwZWxpbmUsIGNvbS53bS5hcHAuYjJiLnNlcnZlci5JbnZva2VTdGF0ZS5n
ZXRDdXJyZW50U3RhdGUoKSkpOwoKICAgICAgICAgICAgICAgIHRvdGFsSW52b2NhdGlvbnMuaW5j
cmVtZW50QW5kR2V0KCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKFRocm93YWJsZSBleCkgewogICAg
ICAgICAgICAgICAgLy8gZG8gbm90aGluZwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAo
Y2hhaW4uaGFzTmV4dCgpKSAoKGNvbS53bS5hcHAuYjJiLnNlcnZlci5pbnZva2UuSW52b2tlQ2hh
aW5Qcm9jZXNzb3IpY2hhaW4ubmV4dCgpKS5wcm9jZXNzKGNoYWluLCBzZXJ2aWNlLCBwaXBlbGlu
ZSwgc3RhdHVzKTsKICAgICAgICB9IGNhdGNoIChjb20ud20udXRpbC5TZXJ2ZXJFeGNlcHRpb24g
ZXgpIHsKICAgICAgICAgICAgdG90YWxFcnJvcnMuaW5jcmVtZW50QW5kR2V0KCk7CiAgICAgICAg
ICAgIHRocm93IGV4OwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAg
ICAgICAgICAgICBTZXJ2aWNlRXhlY3V0aW9uVGhyZWFkIHNlcnZpY2VUaHJlYWQgPSBjdXJyZW50
VGhyZWFkcy5nZXQoaWQpOwogICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VUaHJlYWQgIT0gbnVs
bCkgewogICAgICAgICAgICAgICAgICAgIHNlcnZpY2VUaHJlYWQucG9wKCk7IC8vIGludm9jYXRp
b24gZmluaXNoZWQsIHNvIHJlbW92ZSBmcm9tIGNhbGwgc3RhY2sKICAgICAgICAgICAgICAgICAg
ICBpZiAoc2VydmljZVRocmVhZC5zaXplKCkgPT0gMCkgY3VycmVudFRocmVhZHMucmVtb3ZlKGlk
KTsgLy8gdG9wLWxldmVsIGludm9jYXRpb24gZmluaXNoZWQsIHNvIHJlbW92ZSBmcm9tIGN1cnJl
bnRseSBleGVjdXRpbmcgdGhyZWFkcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNh
dGNoKFRocm93YWJsZSBleCkgewogICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZwogICAgICAg
ICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIC8vIHJldHVybnMgdGhlIGN1cnJlbnQgaW52b2Nh
dGlvbiBjb250ZXh0IG9mIHRoZSBzZXJ2ZXIgYXMgYW4gSURhdGFbXSBkb2N1bWVudCBsaXN0CiAg
ICBwdWJsaWMgSURhdGEgZ2V0SURhdGEoKSB7CiAgICAgICAgSURhdGEgb3V0cHV0ID0gSURhdGFG
YWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9IG91dHB1dC5nZXRD
dXJzb3IoKTsKCiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJtb25pdG9yaW5nLnN0YXJ0
ZWQ/IiwgIiIgKyBzdGFydGVkKTsKICAgICAgICBpZiAoc3RhcnRlZCkgewogICAgICAgICAgICBJ
RGF0YVV0aWwucHV0KGN1cnNvciwgIm1vbml0b3Jpbmcuc3RhcnQiLCB0dW5kcmEuZGF0ZXRpbWUu
Zm9ybWF0KCIiICsgc3RhcnRUaW1lLCAibWlsbGlzZWNvbmRzIiwgImRhdGV0aW1lIikpOwogICAg
ICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgIm1vbml0b3JpbmcuZHVyYXRpb24iLCBEdXJh
dGlvbkhlbHBlci5mb3JtYXQoZ2V0RHVyYXRpb24oKSwgRHVyYXRpb25QYXR0ZXJuLlhNTCkpOwog
ICAgICAgIH0KICAgICAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgImludm9jYXRpb25zLnN0YXJ0
ZWQiLCB0b3RhbEludm9jYXRpb25zLmxvbmdWYWx1ZSgpKTsKICAgICAgICBJRGF0YVV0aWwucHV0
KGN1cnNvciwgImludm9jYXRpb25zLmVycm9yZWQiLCB0b3RhbEVycm9ycy5sb25nVmFsdWUoKSk7
CgogICAgICAgIGphdmEudXRpbC5MaXN0PElEYXRhPiB0aHJlYWRzID0gbmV3IGphdmEudXRpbC5B
cnJheUxpc3Q8SURhdGE+KGN1cnJlbnRUaHJlYWRzLnNpemUoKSk7CiAgICAgICAgamF2YS51dGls
Lkl0ZXJhdG9yPExvbmc+IGl0ZXJhdG9yID0gY3VycmVudFRocmVhZHMua2V5U2V0KCkuaXRlcmF0
b3IoKTsKICAgICAgICB3aGlsZShpdGVyYXRvci5oYXNOZXh0KCkpIHsKICAgICAgICAgICAgTG9u
ZyBrZXkgPSBpdGVyYXRvci5uZXh0KCk7CiAgICAgICAgICAgIFNlcnZpY2VFeGVjdXRpb25UaHJl
YWQgdGhyZWFkID0gY3VycmVudFRocmVhZHMuZ2V0KGtleSk7CiAgICAgICAgICAgIGlmICh0aHJl
YWQuc2l6ZSgpID4gMCkgewogICAgICAgICAgICAgICAgdGhyZWFkcy5hZGQodGhyZWFkLmdldElE
YXRhKCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY3VycmVudFRocmVh
ZHMucmVtb3ZlKGtleSk7IC8vIHJlbW92ZSB0aHJlYWRzIHdpdGggbm8gaXRlbXMgaW4gdGhlIGNh
bGwgc3RhY2sKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBJRGF0YVV0aWwucHV0KGN1
cnNvciwgImludm9jYXRpb25zLmN1cnJlbnQiLCAoSURhdGFbXSl0aHJlYWRzLnRvQXJyYXkobmV3
IElEYXRhWzBdKSk7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICJpbnZvY2F0aW9ucy5j
dXJyZW50Lmxlbmd0aCIsIHRocmVhZHMuc2l6ZSgpKTsKCiAgICAgICAgY3Vyc29yLmRlc3Ryb3ko
KTsKCiAgICAgICAgcmV0dXJuIG91dHB1dDsKICAgIH0KCiAgICAvLyBzZXRzIHZhbHVlcyBmcm9t
IHRoZSBnaXZlbiBJRGF0YSAtIG5vdCBpbXBsZW1lbnRlZAogICAgcHVibGljIHZvaWQgc2V0SURh
dGEoSURhdGEgaW5wdXQpIHsKICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25F
eGNlcHRpb24oInNldElEYXRhIG5vdCBpbXBsZW1lbnRlZCIpOwogICAgfQoKICAgIC8vIHJldHVy
bnMgdGhlIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcyB0aGlzIGNvbnRleHQgb2JqZWN0IGhhcyBi
ZWVuIG1vbml0b3JpbmcgdGhlIGV4ZWN1dGlvbiBzdGF0ZQogICAgcHVibGljIGxvbmcgZ2V0RHVy
YXRpb24oKSB7CiAgICAgICAgcmV0dXJuIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIC0gc3Rh
cnRUaW1lOwogICAgfQoKICAgIC8vIHJlZ2lzdGVycyB0aGlzIHByb2Nlc3NvciB3aXRoIHRoZSBp
bnZvY2F0aW9uIG1hbmFnZXIKICAgIHB1YmxpYyB2b2lkIHN0YXJ0KCkgewogICAgICAgIHN5bmNo
cm9uaXplZCh0aGlzKSB7CiAgICAgICAgICAgIGlmICghc3RhcnRlZCkgewogICAgICAgICAgICAg
ICAgc3RhcnRUaW1lID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCk7CiAgICAgICAgICAgICAg
ICBzdGFydGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbS53bS5hcHAuYjJiLnNlcnZlci5p
bnZva2UuSW52b2tlTWFuYWdlciBpbnZva2VNYW5hZ2VyID0gY29tLndtLmFwcC5iMmIuc2VydmVy
Lmludm9rZS5JbnZva2VNYW5hZ2VyLmdldERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGludm9r
ZU1hbmFnZXIucmVnaXN0ZXJQcm9jZXNzb3IodGhpcyk7CiAgICAgICAgICAgIH0KICAgICAgICB9
CiAgICB9CgogICAgLy8gZGVyZWdpc3RlcnMgdGhpcyBwcm9jZXNzb3Igd2l0aCB0aGUgaW52b2Nh
dGlvbiBtYW5hZ2VyCiAgICBwdWJsaWMgdm9pZCBzdG9wKCkgewogICAgICAgIHN5bmNocm9uaXpl
ZCh0aGlzKSB7CiAgICAgICAgICAgIGlmIChzdGFydGVkKSB7CiAgICAgICAgICAgICAgICBzdGFy
dGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuaW52b2tl
Lkludm9rZU1hbmFnZXIgaW52b2tlTWFuYWdlciA9IGNvbS53bS5hcHAuYjJiLnNlcnZlci5pbnZv
a2UuSW52b2tlTWFuYWdlci5nZXREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICBpbnZva2VNYW5h
Z2VyLnVucmVnaXN0ZXJQcm9jZXNzb3IodGhpcyk7CiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9
IG51bGw7IC8vIGZyZWUgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBmb3IgZ2FyYmFnZSBjb2xsZWN0
aW9uCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0=</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
    <value>permafrost.tundra.time.DurationHelper</value>
    <value>permafrost.tundra.time.DurationPattern</value>
  </array>
</Values>
