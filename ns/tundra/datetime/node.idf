<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.datetime</value>
  <value name="shared">cHJvdGVjdGVkIHN0YXRpYyBmaW5hbCBTdHJpbmcgREVGQVVMVF9EQVRFVElNRV9QQVRURVJOID0g
ImRhdGV0aW1lIjsKCnByb3RlY3RlZCBzdGF0aWMgZmluYWwgamF2YS51dGlsLk1hcDxTdHJpbmcs
IFN0cmluZz4gbmFtZWRQYXR0ZXJucyA9IGNvbnN0cnVjdE5hbWVkUGF0dGVybnMoKTsKCnByb3Rl
Y3RlZCBzdGF0aWMgZmluYWwgamF2YS51dGlsLk1hcDxTdHJpbmcsIFN0cmluZz4gY29uc3RydWN0
TmFtZWRQYXR0ZXJucygpIHsKICBqYXZhLnV0aWwuTWFwPFN0cmluZywgU3RyaW5nPiBtYXAgPSBu
ZXcgamF2YS51dGlsLlRyZWVNYXA8U3RyaW5nLCBTdHJpbmc+KCk7CgogIG1hcC5wdXQoImRhdGV0
aW1lLmpkYmMiLCAieXl5eS1NTS1kZCBISDptbTpzcy5TU1MiKTsKICBtYXAucHV0KCJkYXRlIiwg
Inl5eXktTU0tZGQiKTsKICBtYXAucHV0KCJkYXRlLmpkYmMiLCAieXl5eS1NTS1kZCIpOwogIG1h
cC5wdXQoImRhdGUueG1sIiwgInl5eXktTU0tZGQiKTsgIAogIG1hcC5wdXQoInRpbWUiLCAiSEg6
bW06c3MuU1NTIik7CiAgbWFwLnB1dCgidGltZS5qZGJjIiwgIkhIOm1tOnNzIik7CiAgbWFwLnB1
dCgidGltZS54bWwiLCAiSEg6bW06c3MuU1NTIik7CgogIHJldHVybiBtYXA7Cn0KCi8vIGFkZHMg
dGhlIGdpdmVuIHhtbCBkdXJhdGlvbiB0byB0aGUgZ2l2ZW4geG1sIGRhdGV0aW1lIHJldHVybmlu
ZyB0aGUgcmVzdWx0CnB1YmxpYyBzdGF0aWMgU3RyaW5nIGFkZChTdHJpbmcgZGF0ZXRpbWUsIFN0
cmluZyBkdXJhdGlvbikgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIHJldHVybiBhZGQoZGF0
ZXRpbWUsIG51bGwsIGR1cmF0aW9uKTsKfQoKLy8gYWRkcyB0aGUgZ2l2ZW4geG1sIGR1cmF0aW9u
IHRvIHRoZSBnaXZlbiB4bWwgZGF0ZXRpbWUgcmV0dXJuaW5nIHRoZSByZXN1bHQKcHVibGljIHN0
YXRpYyBTdHJpbmcgYWRkKFN0cmluZyBkYXRldGltZSwgU3RyaW5nIHBhdHRlcm4sIFN0cmluZyBk
dXJhdGlvbikgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIHJldHVybiBhZGQoZGF0ZXRpbWUs
IHBhdHRlcm4sIGR1cmF0aW9uLCBudWxsKTsKfQoKLy8gYWRkcyB0aGUgZ2l2ZW4geG1sIGR1cmF0
aW9uIHRvIHRoZSBnaXZlbiB4bWwgZGF0ZXRpbWUgcmV0dXJuaW5nIHRoZSByZXN1bHQKcHVibGlj
IHN0YXRpYyBTdHJpbmcgYWRkKFN0cmluZyBkYXRldGltZSwgU3RyaW5nIGRhdGV0aW1lUGF0dGVy
biwgU3RyaW5nIGR1cmF0aW9uLCBTdHJpbmcgZHVyYXRpb25QYXR0ZXJuKSB0aHJvd3MgU2Vydmlj
ZUV4Y2VwdGlvbiB7CiAgcmV0dXJuIGVtaXQoYWRkKHBhcnNlKGRhdGV0aW1lLCBkYXRldGltZVBh
dHRlcm4pLCB0dW5kcmEuZHVyYXRpb24ucGFyc2UoZHVyYXRpb24sIGR1cmF0aW9uUGF0dGVybikp
LCBkYXRldGltZVBhdHRlcm4pOwp9CgovLyBhZGRzIHRoZSBnaXZlbiB4bWwgZHVyYXRpb24gdG8g
dGhlIGdpdmVuIHhtbCBkYXRldGltZSByZXR1cm5pbmcgdGhlIHJlc3VsdApwdWJsaWMgc3RhdGlj
IGphdmEudXRpbC5DYWxlbmRhciBhZGQoamF2YS51dGlsLkNhbGVuZGFyIGNhbGVuZGFyLCBqYXZh
eC54bWwuZGF0YXR5cGUuRHVyYXRpb24gZHVyYXRpb24pIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9u
IHsKICBpZiAoY2FsZW5kYXIgPT0gbnVsbCB8fCBkdXJhdGlvbiA9PSBudWxsKSByZXR1cm4gY2Fs
ZW5kYXI7CgogIHRyeSB7CiAgICBqYXZhLnV0aWwuR3JlZ29yaWFuQ2FsZW5kYXIgZ2NhbCA9IG5l
dyBqYXZhLnV0aWwuR3JlZ29yaWFuQ2FsZW5kYXIoKTsKICAgIGdjYWwuc2V0VGltZShjYWxlbmRh
ci5nZXRUaW1lKCkpOwogICAgZ2NhbC5zZXRUaW1lWm9uZShjYWxlbmRhci5nZXRUaW1lWm9uZSgp
KTsKICAgIGphdmF4LnhtbC5kYXRhdHlwZS5YTUxHcmVnb3JpYW5DYWxlbmRhciB4Y2FsID0gamF2
YXgueG1sLmRhdGF0eXBlLkRhdGF0eXBlRmFjdG9yeS5uZXdJbnN0YW5jZSgpLm5ld1hNTEdyZWdv
cmlhbkNhbGVuZGFyKGdjYWwpOwogICAgeGNhbC5hZGQoZHVyYXRpb24pOwoKICAgIGNhbGVuZGFy
ID0geGNhbC50b0dyZWdvcmlhbkNhbGVuZGFyKCk7CiAgfSBjYXRjaCAoamF2YXgueG1sLmRhdGF0
eXBlLkRhdGF0eXBlQ29uZmlndXJhdGlvbkV4Y2VwdGlvbiBleCkgewogICAgdHVuZHJhLmV4Y2Vw
dGlvbi5yYWlzZShleCk7CiAgfQoKICByZXR1cm4gY2FsZW5kYXI7Cn0KCi8vIGNvbXBhcmVzIHR3
byB4bWwgZGF0ZXRpbWUgc3RyaW5ncwpwdWJsaWMgc3RhdGljIGludCBjb21wYXJlKFN0cmluZyBk
eCwgU3RyaW5nIGR5KSB7CiAgcmV0dXJuIGNvbXBhcmUoZHgsIGR5LCBudWxsKTsKfQoKLy8gY29t
cGFyZXMgdHdvIHhtbCBkYXRldGltZSBzdHJpbmdzCnB1YmxpYyBzdGF0aWMgaW50IGNvbXBhcmUo
U3RyaW5nIGR4LCBTdHJpbmcgZHksIFN0cmluZyBwYXR0ZXJuKSB7CiAgcmV0dXJuIGNvbXBhcmUo
cGFyc2UoZHgsIHBhdHRlcm4pLCBwYXJzZShkeSwgcGF0dGVybikpOwp9CgoKLy8gY29tcGFyZXMg
dHdvIGRhdGV0aW1lcwpwdWJsaWMgc3RhdGljIGludCBjb21wYXJlKGphdmEudXRpbC5DYWxlbmRh
ciBjeCwgamF2YS51dGlsLkNhbGVuZGFyIGN5KSB7CiAgaWYgKGN4ID09IG51bGwgJiYgY3kgPT0g
bnVsbCkgcmV0dXJuIDA7CiAgaWYgKGN4ID09IG51bGwgJiYgY3kgIT0gbnVsbCkgcmV0dXJuIC0x
OwogIGlmIChjeCAhPSBudWxsICYmIGN5ID09IG51bGwpIHJldHVybiAxOwogIAogIHJldHVybiBj
eC5jb21wYXJlVG8oY3kpOwp9CgovLyBjb25jYXRlbmF0ZXMgYSB4bWwgZGF0ZSBhbmQgeG1sIHRp
bWUgdG9nZXRoZXIgdG8gZm9ybSBhbiB4bWwgZGF0ZXRpbWUKcHVibGljIHN0YXRpYyBTdHJpbmcg
Y29uY2F0ZW5hdGUoU3RyaW5nIGRhdGUsIFN0cmluZyB0aW1lKSB7CiAgcmV0dXJuIGVtaXQoY29u
Y2F0ZW5hdGUocGFyc2UoZGF0ZSwgImRhdGUiKSwgcGFyc2UodGltZSwgInRpbWUiKSkpOwp9Cgov
LyBhZGRzIHR3byBkYXRlcyB0b2dldGhlcgpwdWJsaWMgc3RhdGljIGphdmEudXRpbC5DYWxlbmRh
ciBjb25jYXRlbmF0ZShqYXZhLnV0aWwuQ2FsZW5kYXIgZGF0ZSwgamF2YS51dGlsLkNhbGVuZGFy
IHRpbWUpIHsKICBqYXZhLnV0aWwuQ2FsZW5kYXIgbG9jYWxEYXRlVGltZSA9IG5ldyBqYXZhLnV0
aWwuR3JlZ29yaWFuQ2FsZW5kYXIoKTsKICBsb2NhbERhdGVUaW1lLnNldFRpbWVJbk1pbGxpcyhk
YXRlLmdldFRpbWVJbk1pbGxpcygpICsgdGltZS5nZXRUaW1lSW5NaWxsaXMoKSk7CgogIHJldHVy
biBsb2NhbERhdGVUaW1lOwp9CgovLyByZXR1cm5zIHRoZSB4bWwgZHVyYXRpb24gYmV0d2VlbiB0
d28gZ2l2ZW4geG1sIGRhdGV0aW1lcwpwdWJsaWMgc3RhdGljIFN0cmluZyBkdXJhdGlvbihTdHJp
bmcgc3RhcnQsIFN0cmluZyBlbmQpIHsKICByZXR1cm4gZHVyYXRpb24oc3RhcnQsIGVuZCwgbnVs
bCk7Cn0KCi8vIHJldHVybnMgdGhlIHhtbCBkdXJhdGlvbiBiZXR3ZWVuIHR3byBnaXZlbiB4bWwg
ZGF0ZXRpbWVzCnB1YmxpYyBzdGF0aWMgU3RyaW5nIGR1cmF0aW9uKFN0cmluZyBzdGFydCwgU3Ry
aW5nIGVuZCwgU3RyaW5nIGRhdGV0aW1lUGF0dGVybikgewogIHJldHVybiBkdXJhdGlvbihzdGFy
dCwgZW5kLCBkYXRldGltZVBhdHRlcm4sIG51bGwpOwp9CgovLyByZXR1cm5zIHRoZSB4bWwgZHVy
YXRpb24gYmV0d2VlbiB0d28gZ2l2ZW4geG1sIGRhdGV0aW1lcwpwdWJsaWMgc3RhdGljIFN0cmlu
ZyBkdXJhdGlvbihTdHJpbmcgc3RhcnQsIFN0cmluZyBlbmQsIFN0cmluZyBkYXRldGltZVBhdHRl
cm4sIFN0cmluZyBkdXJhdGlvblBhdHRlcm4pIHsKICByZXR1cm4gdHVuZHJhLmR1cmF0aW9uLmVt
aXQoZHVyYXRpb24ocGFyc2Uoc3RhcnQsIGRhdGV0aW1lUGF0dGVybiksIHBhcnNlKGVuZCwgZGF0
ZXRpbWVQYXR0ZXJuKSksIGR1cmF0aW9uUGF0dGVybik7Cn0KCi8vIHJldHVybnMgdGhlIHhtbCBk
dXJhdGlvbiBiZXR3ZWVuIHR3byBnaXZlbiB4bWwgZGF0ZXRpbWVzCnB1YmxpYyBzdGF0aWMgamF2
YXgueG1sLmRhdGF0eXBlLkR1cmF0aW9uIGR1cmF0aW9uKGphdmEudXRpbC5DYWxlbmRhciBzdGFy
dCwgamF2YS51dGlsLkNhbGVuZGFyIGVuZCkgewogIGlmIChzdGFydCA9PSBudWxsIHx8IGVuZCA9
PSBudWxsKSByZXR1cm4gbnVsbDsKICByZXR1cm4gdHVuZHJhLmR1cmF0aW9uLnBhcnNlKCIiICsg
KGVuZC5nZXRUaW1lSW5NaWxsaXMoKSAtIHN0YXJ0LmdldFRpbWVJbk1pbGxpcygpKSwgIm1pbGxp
c2Vjb25kcyIpOwp9CgovLyByZXR1cm5zIHRoZSBnaXZlbiBkYXRldGltZSBhcyBhbiB4bWwgZGF0
ZXRpbWUgc3RyaW5nCnB1YmxpYyBzdGF0aWMgU3RyaW5nIGVtaXQoamF2YS51dGlsLkRhdGUgaW5w
dXQpIHsKICByZXR1cm4gZW1pdChpbnB1dCwgbnVsbCk7Cn0KCi8vIHJldHVybnMgdGhlIGdpdmVu
IGRhdGV0aW1lIGFzIGEgc3RyaW5nIGFkaGVyaW5nIHRvIHRoZSBnaXZlbiBwYXR0ZXJuCnB1Ymxp
YyBzdGF0aWMgU3RyaW5nIGVtaXQoamF2YS51dGlsLkRhdGUgaW5wdXQsIFN0cmluZyBwYXR0ZXJu
KSB7CiAgcmV0dXJuIGVtaXQoaW5wdXQsIHBhdHRlcm4sIG51bGwpOwp9CgovLyByZXR1cm5zIHRo
ZSBnaXZlbiBkYXRldGltZSBhcyBhIHN0cmluZyBhZGhlcmluZyB0byB0aGUgZ2l2ZW4gcGF0dGVy
bgpwdWJsaWMgc3RhdGljIFN0cmluZyBlbWl0KGphdmEudXRpbC5EYXRlIGlucHV0LCBTdHJpbmcg
cGF0dGVybiwgU3RyaW5nIHRpbWV6b25lKSB7CiAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBu
dWxsOwoKICBqYXZhLnV0aWwuQ2FsZW5kYXIgY2FsZW5kYXIgPSBqYXZhLnV0aWwuQ2FsZW5kYXIu
Z2V0SW5zdGFuY2UoKTsKICBjYWxlbmRhci5zZXRUaW1lKGlucHV0KTsKCiAgcmV0dXJuIGVtaXQo
Y2FsZW5kYXIsIHBhdHRlcm4sIHRpbWV6b25lKTsKfQoKLy8gcmV0dXJucyB0aGUgZ2l2ZW4gZGF0
ZXRpbWUgYXMgYW4geG1sIGRhdGV0aW1lIHN0cmluZwpwdWJsaWMgc3RhdGljIFN0cmluZyBlbWl0
KGphdmEudXRpbC5DYWxlbmRhciBpbnB1dCkgewogIHJldHVybiBlbWl0KGlucHV0LCBudWxsKTsK
fQoKLy8gcmV0dXJucyB0aGUgZ2l2ZW4gZGF0ZXRpbWUgZm9ybWF0dGVkIGFzIGEgc3RyaW5nIGFk
aGVyaW5nIHRvIHRoZSBnaXZlbiBwYXR0ZXJuCnB1YmxpYyBzdGF0aWMgU3RyaW5nIGVtaXQoamF2
YS51dGlsLkNhbGVuZGFyIGlucHV0LCBTdHJpbmcgcGF0dGVybikgewogIHJldHVybiBlbWl0KGlu
cHV0LCBwYXR0ZXJuLCBudWxsKTsKfQoKLy8gcmV0dXJucyB0aGUgZ2l2ZW4gZGF0ZXRpbWUgZm9y
bWF0dGVkIGFzIGEgc3RyaW5nIGFkaGVyaW5nIHRvIHRoZSBnaXZlbiBwYXR0ZXJuCnB1YmxpYyBz
dGF0aWMgU3RyaW5nIGVtaXQoamF2YS51dGlsLkNhbGVuZGFyIGlucHV0LCBTdHJpbmcgcGF0dGVy
biwgU3RyaW5nIHRpbWV6b25lKSB7CiAgaWYgKHBhdHRlcm4gPT0gbnVsbCkgcGF0dGVybiA9IERF
RkFVTFRfREFURVRJTUVfUEFUVEVSTjsKICBTdHJpbmcgb3V0cHV0ID0gbnVsbDsKICAKICBpZiAo
aW5wdXQgIT0gbnVsbCkgewogICAgaWYgKHRpbWV6b25lICE9IG51bGwpIGlucHV0ID0gdHVuZHJh
LnN1cHBvcnQudGltZXpvbmUuY29udmVydChpbnB1dCwgdGltZXpvbmUpOwoKICAgIGlmIChwYXR0
ZXJuLmVxdWFscygiZGF0ZXRpbWUiKSB8fCBwYXR0ZXJuLmVxdWFscygiZGF0ZXRpbWUueG1sIikp
IHsKICAgICAgb3V0cHV0ID0gamF2YXgueG1sLmJpbmQuRGF0YXR5cGVDb252ZXJ0ZXIucHJpbnRE
YXRlVGltZShpbnB1dCk7CiAgICB9IGVsc2UgaWYgKHBhdHRlcm4uZXF1YWxzKCJtaWxsaXNlY29u
ZHMiKSkgewogICAgICBvdXRwdXQgPSAiIiArIGlucHV0LmdldFRpbWVJbk1pbGxpcygpOyAgCiAg
ICB9IGVsc2UgewogICAgICBpZiAobmFtZWRQYXR0ZXJucy5jb250YWluc0tleShwYXR0ZXJuKSkg
cGF0dGVybiA9IG5hbWVkUGF0dGVybnMuZ2V0KHBhdHRlcm4pOwogICAgICBqYXZhLnRleHQuRGF0
ZUZvcm1hdCBmb3JtYXR0ZXIgPSBuZXcgamF2YS50ZXh0LlNpbXBsZURhdGVGb3JtYXQocGF0dGVy
bik7CiAgICAgIGZvcm1hdHRlci5zZXRUaW1lWm9uZShpbnB1dC5nZXRUaW1lWm9uZSgpKTsKICAg
ICAgZm9ybWF0dGVyLnNldExlbmllbnQoZmFsc2UpOwogICAgICBvdXRwdXQgPSBmb3JtYXR0ZXIu
Zm9ybWF0KGlucHV0LmdldFRpbWUoKSk7CiAgICB9CiAgfQogIAogIHJldHVybiBvdXRwdXQ7Cn0K
Ci8vIHJldHVybnMgdGhlIGdpdmVuIGRhdGV0aW1lIGZvcm1hdHRlZCBhcyBhIHN0cmluZyBhZGhl
cmluZyB0byB0aGUgZ2l2ZW4gcGF0dGVybgpwdWJsaWMgc3RhdGljIFN0cmluZ1tdIGVtaXQoamF2
YS51dGlsLkNhbGVuZGFyW10gaW5wdXRzLCBTdHJpbmcgcGF0dGVybikgewogIHJldHVybiBlbWl0
KGlucHV0cywgcGF0dGVybiwgbnVsbCk7Cn0KCi8vIHJldHVybnMgdGhlIGdpdmVuIGRhdGV0aW1l
IGZvcm1hdHRlZCBhcyBhIHN0cmluZyBhZGhlcmluZyB0byB0aGUgZ2l2ZW4gcGF0dGVybgpwdWJs
aWMgc3RhdGljIFN0cmluZ1tdIGVtaXQoamF2YS51dGlsLkNhbGVuZGFyW10gaW5wdXRzLCBTdHJp
bmcgcGF0dGVybiwgU3RyaW5nIHRpbWV6b25lKSB7CiAgU3RyaW5nW10gb3V0cHV0cyA9IG51bGw7
CiAgaWYgKGlucHV0cyAhPSBudWxsKSB7CiAgICBvdXRwdXRzID0gbmV3IFN0cmluZ1tpbnB1dHMu
bGVuZ3RoXTsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7CiAg
ICAgIG91dHB1dHNbaV0gPSBlbWl0KGlucHV0c1tpXSwgcGF0dGVybiwgdGltZXpvbmUpOwogICAg
fQogIH0KICByZXR1cm4gb3V0cHV0czsKfQoKLy8gcmVmb3JtYXRzIGEgZGF0ZXRpbWUgc3RyaW5n
IGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gcGF0dGVybnMKcHVibGljIHN0YXRpYyBTdHJpbmcgZm9y
bWF0KFN0cmluZyBpbnB1dCwgU3RyaW5nIGluUGF0dGVybiwgU3RyaW5nIG91dFBhdHRlcm4pIHsK
ICByZXR1cm4gZm9ybWF0KGlucHV0LCBpblBhdHRlcm4sIG91dFBhdHRlcm4sIG51bGwpOwp9Cgov
LyByZWZvcm1hdHMgYSBkYXRldGltZSBzdHJpbmcgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBwYXR0
ZXJucwpwdWJsaWMgc3RhdGljIFN0cmluZyBmb3JtYXQoU3RyaW5nIGlucHV0LCBTdHJpbmcgaW5Q
YXR0ZXJuLCBTdHJpbmcgb3V0UGF0dGVybiwgU3RyaW5nIG91dFRpbWVab25lKSB7CiAgcmV0dXJu
IGVtaXQocGFyc2UoaW5wdXQsIGluUGF0dGVybiksIG91dFBhdHRlcm4sIG91dFRpbWVab25lKTsK
fQoKLy8gcmVmb3JtYXRzIGEgZGF0ZXRpbWUgc3RyaW5nIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4g
cGF0dGVybnMKcHVibGljIHN0YXRpYyBTdHJpbmcgZm9ybWF0KFN0cmluZyBpbnB1dCwgU3RyaW5n
W10gaW5QYXR0ZXJucywgU3RyaW5nIG91dFBhdHRlcm4pIHsKICByZXR1cm4gZm9ybWF0KGlucHV0
LCBpblBhdHRlcm5zLCBvdXRQYXR0ZXJuLCBudWxsKTsKfQoKLy8gcmVmb3JtYXRzIGEgZGF0ZXRp
bWUgc3RyaW5nIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gcGF0dGVybnMKcHVibGljIHN0YXRpYyBT
dHJpbmcgZm9ybWF0KFN0cmluZyBpbnB1dCwgU3RyaW5nW10gaW5QYXR0ZXJucywgU3RyaW5nIG91
dFBhdHRlcm4sIFN0cmluZyBvdXRUaW1lWm9uZSkgewogIHJldHVybiBlbWl0KHBhcnNlKGlucHV0
LCBpblBhdHRlcm5zKSwgb3V0UGF0dGVybiwgb3V0VGltZVpvbmUpOwp9CgovLyByZWZvcm1hdHMg
YSBsaXN0IGRhdGV0aW1lIHN0cmluZ3MgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBwYXR0ZXJucwpw
dWJsaWMgc3RhdGljIFN0cmluZ1tdIGZvcm1hdChTdHJpbmdbXSBpbnB1dHMsIFN0cmluZyBpblBh
dHRlcm4sIFN0cmluZyBvdXRQYXR0ZXJuKSB7CiAgcmV0dXJuIGZvcm1hdChpbnB1dHMsIGluUGF0
dGVybiwgb3V0UGF0dGVybiwgbnVsbCk7Cn0KCi8vIHJlZm9ybWF0cyBhIGxpc3QgZGF0ZXRpbWUg
c3RyaW5ncyBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHBhdHRlcm5zCnB1YmxpYyBzdGF0aWMgU3Ry
aW5nW10gZm9ybWF0KFN0cmluZ1tdIGlucHV0cywgU3RyaW5nIGluUGF0dGVybiwgU3RyaW5nIG91
dFBhdHRlcm4sIFN0cmluZyBvdXRUaW1lWm9uZSkgewogIFN0cmluZ1tdIG91dHB1dHMgPSBudWxs
OwogIGlmIChpbnB1dHMgIT0gbnVsbCkgewogICAgb3V0cHV0cyA9IG5ldyBTdHJpbmdbaW5wdXRz
Lmxlbmd0aF07CiAgICBmb3IgKGludCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykgewog
ICAgICBvdXRwdXRzW2ldID0gdHVuZHJhLmRhdGV0aW1lLmZvcm1hdChpbnB1dHNbaV0sIGluUGF0
dGVybiwgb3V0UGF0dGVybiwgb3V0VGltZVpvbmUpOwogICAgfQogIH0KICByZXR1cm4gb3V0cHV0
czsKfQoKLy8gcmVmb3JtYXRzIGEgbGlzdCBkYXRldGltZSBzdHJpbmdzIGFjY29yZGluZyB0byB0
aGUgZ2l2ZW4gcGF0dGVybnMKcHVibGljIHN0YXRpYyBTdHJpbmdbXSBmb3JtYXQoU3RyaW5nW10g
aW5wdXRzLCBTdHJpbmdbXSBpblBhdHRlcm5zLCBTdHJpbmcgb3V0UGF0dGVybikgewogIHJldHVy
biBmb3JtYXQoaW5wdXRzLCBpblBhdHRlcm5zLCBvdXRQYXR0ZXJuLCBudWxsKTsKfQoKLy8gcmVm
b3JtYXRzIGEgbGlzdCBkYXRldGltZSBzdHJpbmdzIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gcGF0
dGVybnMKcHVibGljIHN0YXRpYyBTdHJpbmdbXSBmb3JtYXQoU3RyaW5nW10gaW5wdXRzLCBTdHJp
bmdbXSBpblBhdHRlcm5zLCBTdHJpbmcgb3V0UGF0dGVybiwgU3RyaW5nIG91dFRpbWVab25lKSB7
CiAgU3RyaW5nW10gb3V0cHV0cyA9IG51bGw7CiAgaWYgKGlucHV0cyAhPSBudWxsKSB7CiAgICBv
dXRwdXRzID0gbmV3IFN0cmluZ1tpbnB1dHMubGVuZ3RoXTsKICAgIGZvciAoaW50IGkgPSAwOyBp
IDwgaW5wdXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIG91dHB1dHNbaV0gPSB0dW5kcmEuZGF0ZXRp
bWUuZm9ybWF0KGlucHV0c1tpXSwgaW5QYXR0ZXJucywgb3V0UGF0dGVybiwgb3V0VGltZVpvbmUp
OwogICAgfQogIH0KICByZXR1cm4gb3V0cHV0czsKfQoKLy8gcmV0dXJucyB0aGUgY3VycmVudCBk
YXRldGltZSBhcyBhbiB4bWwgZGF0ZXRpbWUgc3RyaW5nCnB1YmxpYyBzdGF0aWMgU3RyaW5nIG5v
dygpIHsKICByZXR1cm4gbm93KCJkYXRldGltZSIpOwp9CgovLyByZXR1cm5zIHRoZSBjdXJyZW50
IGRhdGV0aW1lIGFzIGFuIGRhdGV0aW1lIHN0cmluZyBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIHRo
ZSBnaXZlbiBwYXR0ZXJuCnB1YmxpYyBzdGF0aWMgU3RyaW5nIG5vdyhTdHJpbmcgcGF0dGVybikg
ewogIHJldHVybiBub3cocGF0dGVybiwgbnVsbCk7Cn0KCi8vIHJldHVybnMgdGhlIGN1cnJlbnQg
ZGF0ZXRpbWUgYXMgYW4gZGF0ZXRpbWUgc3RyaW5nIGZvcm1hdHRlZCBhY2NvcmRpbmcgdG8gdGhl
IGdpdmVuIHBhdHRlcm4KcHVibGljIHN0YXRpYyBTdHJpbmcgbm93KFN0cmluZyBwYXR0ZXJuLCBT
dHJpbmcgdGltZXpvbmUpIHsKICByZXR1cm4gZW1pdChqYXZhLnV0aWwuQ2FsZW5kYXIuZ2V0SW5z
dGFuY2UoKSwgcGF0dGVybiwgdGltZXpvbmUpOwp9CgovLyBwYXJzZXMgYW4geG1sIGRhdGV0aW1l
IHN0cmluZyBhbmQgcmV0dXJucyBhIGphdmEudXRpbC5EYXRlIG9iamVjdApwdWJsaWMgc3RhdGlj
IGphdmEudXRpbC5DYWxlbmRhciBwYXJzZShTdHJpbmcgaW5wdXQpIHsKICByZXR1cm4gcGFyc2Uo
aW5wdXQsIChTdHJpbmcpbnVsbCk7Cn0KCi8vIHBhcnNlcyBhIGRhdGV0aW1lIHN0cmluZyB0aGF0
IGFkaGVyZXMgdG8gdGhlIGdpdmVuIHBhdHRlcm4gYW5kIHJldHVybnMgYSBqYXZhLnV0aWwuRGF0
ZSBvYmplY3QKcHVibGljIHN0YXRpYyBqYXZhLnV0aWwuQ2FsZW5kYXIgcGFyc2UoU3RyaW5nIGlu
cHV0LCBTdHJpbmcgcGF0dGVybikgdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiB7CiAg
aWYgKHBhdHRlcm4gPT0gbnVsbCkgcGF0dGVybiA9IERFRkFVTFRfREFURVRJTUVfUEFUVEVSTjsK
ICAKICBqYXZhLnV0aWwuQ2FsZW5kYXIgb3V0cHV0ID0gbnVsbDsKICAKICBpZiAoaW5wdXQgIT0g
bnVsbCkgewogICAgdHJ5IHsKICAgICAgaWYgKHBhdHRlcm4uZXF1YWxzKCJkYXRldGltZSIpIHx8
IHBhdHRlcm4uZXF1YWxzKCJkYXRldGltZS54bWwiKSkgewogICAgICAgIG91dHB1dCA9IGphdmF4
LnhtbC5iaW5kLkRhdGF0eXBlQ29udmVydGVyLnBhcnNlRGF0ZVRpbWUoaW5wdXQpOwogICAgICB9
IGVsc2UgaWYgKHBhdHRlcm4uZXF1YWxzKCJkYXRldGltZS5qZGJjIikpIHsKICAgICAgICBvdXRw
dXQgPSBqYXZhLnV0aWwuQ2FsZW5kYXIuZ2V0SW5zdGFuY2UoKTsKICAgICAgICBvdXRwdXQuc2V0
VGltZShqYXZhLnNxbC5UaW1lc3RhbXAudmFsdWVPZihpbnB1dCkpOwogICAgICB9IGVsc2UgaWYg
KHBhdHRlcm4uZXF1YWxzKCJkYXRlIikgfHwgcGF0dGVybi5lcXVhbHMoImRhdGUueG1sIikpIHsK
ICAgICAgICBvdXRwdXQgPSBqYXZheC54bWwuYmluZC5EYXRhdHlwZUNvbnZlcnRlci5wYXJzZURh
dGUoaW5wdXQpOwogICAgICB9IGVsc2UgaWYgKHBhdHRlcm4uZXF1YWxzKCJ0aW1lIikgfHwgcGF0
dGVybi5lcXVhbHMoInRpbWUueG1sIikpIHsKICAgICAgICBvdXRwdXQgPSBqYXZheC54bWwuYmlu
ZC5EYXRhdHlwZUNvbnZlcnRlci5wYXJzZVRpbWUoaW5wdXQpOwogICAgICB9IGVsc2UgaWYgKHBh
dHRlcm4uZXF1YWxzKCJtaWxsaXNlY29uZHMiKSkgewogICAgICAgIG91dHB1dCA9IGphdmEudXRp
bC5DYWxlbmRhci5nZXRJbnN0YW5jZSgpOwogICAgICAgIG91dHB1dC5zZXRUaW1lSW5NaWxsaXMo
TG9uZy5wYXJzZUxvbmcoaW5wdXQpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobmFtZWRQ
YXR0ZXJucy5jb250YWluc0tleShwYXR0ZXJuKSkgcGF0dGVybiA9IG5hbWVkUGF0dGVybnMuZ2V0
KHBhdHRlcm4pOwogICAgICAgIAogICAgICAgIGphdmEudGV4dC5EYXRlRm9ybWF0IGZvcm1hdHRl
ciA9IG5ldyBqYXZhLnRleHQuU2ltcGxlRGF0ZUZvcm1hdChwYXR0ZXJuKTsKICAgICAgICBmb3Jt
YXR0ZXIuc2V0TGVuaWVudChmYWxzZSk7CiAgICAgICAgb3V0cHV0ID0gamF2YS51dGlsLkNhbGVu
ZGFyLmdldEluc3RhbmNlKCk7CiAgICAgICAgb3V0cHV0LnNldFRpbWUoZm9ybWF0dGVyLnBhcnNl
KGlucHV0KSk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiBleCkgewogICAgICB0aHJv
dyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJVbnBhcnNlYWJsZSBkYXRldGltZTogJyIg
KyBpbnB1dCArICInIGRvZXMgbm90IGNvbmZvcm0gdG8gcGF0dGVybiAnIiArIHBhdHRlcm4gKyAi
JyIpOwogICAgfQogIH0KICAKICByZXR1cm4gb3V0cHV0Owp9CgovLyBwYXJzZXMgYSBkYXRldGlt
ZSBzdHJpbmcgdGhhdCBhZGhlcmVzIHRvIHRoZSBnaXZlbiBwYXR0ZXJuIGFuZCByZXR1cm5zIGEg
amF2YS51dGlsLkRhdGUgb2JqZWN0CnB1YmxpYyBzdGF0aWMgamF2YS51dGlsLkNhbGVuZGFyIHBh
cnNlKFN0cmluZyBpbnB1dCwgU3RyaW5nLi4uIHBhdHRlcm5zKSB0aHJvd3MgSWxsZWdhbEFyZ3Vt
ZW50RXhjZXB0aW9uIHsgIAogIGphdmEudXRpbC5DYWxlbmRhciBvdXRwdXQgPSBudWxsOwoKICBp
ZiAocGF0dGVybnMgPT0gbnVsbCkgcGF0dGVybnMgPSBuZXcgU3RyaW5nWzFdOwoKICBqYXZhLnV0
aWwuTGlzdDxUaHJvd2FibGU+IGV4Y2VwdGlvbnMgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxU
aHJvd2FibGU+KCk7CiAgCiAgaWYgKGlucHV0ICE9IG51bGwpIHsKICAgIGJvb2xlYW4gcGFyc2Vk
ID0gZmFsc2U7CiAgICBmb3IgKFN0cmluZyBwYXR0ZXJuIDogcGF0dGVybnMpIHsKICAgICAgdHJ5
IHsKICAgICAgICBvdXRwdXQgPSBwYXJzZShpbnB1dCwgcGF0dGVybik7CiAgICAgICAgcGFyc2Vk
ID0gdHJ1ZTsKICAgICAgICBicmVhazsKICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uIGV4KSB7CiAg
ICAgICAgZXhjZXB0aW9ucy5hZGQoZXgpOwogICAgICB9CiAgICB9CiAgICBpZiAoIXBhcnNlZCkg
dGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbih0dW5kcmEuZXhjZXB0aW9uLm1lc3Nh
Z2UoZXhjZXB0aW9ucykpOwogIH0KICAKICByZXR1cm4gb3V0cHV0Owp9CgovLyBwYXJzZXMgYSBs
aXN0IG9mIGRhdGV0aW1lIHN0cmluZ3MgdGhhdCBhZGhlcmVzIHRvIHRoZSBnaXZlbiBwYXR0ZXJu
IGFuZCByZXR1cm5zIGEgamF2YS51dGlsLkRhdGUgb2JqZWN0CnB1YmxpYyBzdGF0aWMgamF2YS51
dGlsLkNhbGVuZGFyW10gcGFyc2UoU3RyaW5nW10gaW5wdXRzLCBTdHJpbmcgcGF0dGVybikgdGhy
b3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiB7CiAgamF2YS51dGlsLkNhbGVuZGFyW10gb3V0
cHV0cyA9IG51bGw7CiAgaWYgKGlucHV0cyAhPSBudWxsKSB7CiAgICBvdXRwdXRzID0gbmV3IGph
dmEudXRpbC5DYWxlbmRhcltpbnB1dHMubGVuZ3RoXTsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwg
aW5wdXRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIG91dHB1dHNbaV0gPSBwYXJzZShpbnB1dHNbaV0s
IHBhdHRlcm4pOwogICAgfQogIH0KICByZXR1cm4gb3V0cHV0czsKfQoKLy8gcGFyc2VzIGEgbGlz
dCBvZiBkYXRldGltZSBzdHJpbmdzIHRoYXQgYWRoZXJlcyB0byB0aGUgZ2l2ZW4gcGF0dGVybnMg
YW5kIHJldHVybnMgYSBqYXZhLnV0aWwuRGF0ZSBvYmplY3QKcHVibGljIHN0YXRpYyBqYXZhLnV0
aWwuQ2FsZW5kYXJbXSBwYXJzZShTdHJpbmdbXSBpbnB1dHMsIFN0cmluZ1tdIHBhdHRlcm5zKSB0
aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIHsKICBqYXZhLnV0aWwuQ2FsZW5kYXJbXSBv
dXRwdXRzID0gbnVsbDsKICBpZiAoaW5wdXRzICE9IG51bGwpIHsKICAgIG91dHB1dHMgPSBuZXcg
amF2YS51dGlsLkNhbGVuZGFyW2lucHV0cy5sZW5ndGhdOwogICAgZm9yIChpbnQgaSA9IDA7IGkg
PCBpbnB1dHMubGVuZ3RoOyBpKyspIHsKICAgICAgb3V0cHV0c1tpXSA9IHBhcnNlKGlucHV0c1tp
XSwgcGF0dGVybnMpOwogICAgfQogIH0KICByZXR1cm4gb3V0cHV0czsKfQoKLy8gc3VidHJhY3Rz
IHRoZSBnaXZlbiB4bWwgZHVyYXRpb24gZnJvbSB0aGUgZ2l2ZW4geG1sIGRhdGV0aW1lIHJldHVy
bmluZyB0aGUgcmVzdWx0CnB1YmxpYyBzdGF0aWMgU3RyaW5nIHN1YnRyYWN0KFN0cmluZyBkYXRl
dGltZSwgU3RyaW5nIGR1cmF0aW9uKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJu
IHN1YnRyYWN0KGRhdGV0aW1lLCBudWxsLCBkdXJhdGlvbik7Cn0KCi8vIHN1YnRyYWN0cyB0aGUg
Z2l2ZW4geG1sIGR1cmF0aW9uIGZyb20gdGhlIGdpdmVuIHhtbCBkYXRldGltZSByZXR1cm5pbmcg
dGhlIHJlc3VsdApwdWJsaWMgc3RhdGljIFN0cmluZyBzdWJ0cmFjdChTdHJpbmcgZGF0ZXRpbWUs
IFN0cmluZyBkYXRldGltZVBhdHRlcm4sIFN0cmluZyBkdXJhdGlvbikgdGhyb3dzIFNlcnZpY2VF
eGNlcHRpb24gewogIHJldHVybiBzdWJ0cmFjdChkYXRldGltZSwgZGF0ZXRpbWVQYXR0ZXJuLCBk
dXJhdGlvbiwgbnVsbCk7Cn0KCi8vIHN1YnRyYWN0cyB0aGUgZ2l2ZW4geG1sIGR1cmF0aW9uIGZy
b20gdGhlIGdpdmVuIHhtbCBkYXRldGltZSByZXR1cm5pbmcgdGhlIHJlc3VsdApwdWJsaWMgc3Rh
dGljIFN0cmluZyBzdWJ0cmFjdChTdHJpbmcgZGF0ZXRpbWUsIFN0cmluZyBkYXRldGltZVBhdHRl
cm4sIFN0cmluZyBkdXJhdGlvbiwgU3RyaW5nIGR1cmF0aW9uUGF0dGVybikgdGhyb3dzIFNlcnZp
Y2VFeGNlcHRpb24gewogIHJldHVybiBlbWl0KHN1YnRyYWN0KHBhcnNlKGRhdGV0aW1lLCBkYXRl
dGltZVBhdHRlcm4pLCB0dW5kcmEuZHVyYXRpb24ucGFyc2UoZHVyYXRpb24sIGR1cmF0aW9uUGF0
dGVybikpLCBkYXRldGltZVBhdHRlcm4pOwp9CgovLyBzdWJ0cmFjdHMgdGhlIGdpdmVuIGR1cmF0
aW9uIGZyb20gdGhlIGdpdmVuIGRhdGV0aW1lIHJldHVybmluZyB0aGUgcmVzdWx0CnB1YmxpYyBz
dGF0aWMgamF2YS51dGlsLkNhbGVuZGFyIHN1YnRyYWN0KGphdmEudXRpbC5DYWxlbmRhciBjYWxl
bmRhciwgamF2YXgueG1sLmRhdGF0eXBlLkR1cmF0aW9uIGR1cmF0aW9uKSB0aHJvd3MgU2Vydmlj
ZUV4Y2VwdGlvbiB7CiAgaWYgKGR1cmF0aW9uICE9IG51bGwpIGR1cmF0aW9uID0gZHVyYXRpb24u
bmVnYXRlKCk7CiAgcmV0dXJuIGFkZChjYWxlbmRhciwgZHVyYXRpb24pOwp9CgovLyByZXR1cm5z
IHRoZSBjdXJyZW50IGRhdGV0aW1lIG1pbnVzIHRoZSBnaXZlbiBYTUwgZHVyYXRpb24KcHVibGlj
IHN0YXRpYyBTdHJpbmcgZWFybGllcihTdHJpbmcgZHVyYXRpb24pIHRocm93cyBTZXJ2aWNlRXhj
ZXB0aW9uIHsKICByZXR1cm4gZWFybGllcihudWxsLCBkdXJhdGlvbiwgbnVsbCk7Cn0KCi8vIHJl
dHVybnMgdGhlIGN1cnJlbnQgZGF0ZXRpbWUgbWludXMgdGhlIGdpdmVuIGR1cmF0aW9uCnB1Ymxp
YyBzdGF0aWMgU3RyaW5nIGVhcmxpZXIoU3RyaW5nIGR1cmF0aW9uLCBTdHJpbmcgZHVyYXRpb25Q
YXR0ZXJuKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJuIGVhcmxpZXIobnVsbCwg
ZHVyYXRpb24sIGR1cmF0aW9uUGF0dGVybik7Cn0KCi8vIHJldHVybnMgdGhlIGN1cnJlbnQgZGF0
ZXRpbWUgbWludXMgdGhlIGdpdmVuIGR1cmF0aW9uCnB1YmxpYyBzdGF0aWMgU3RyaW5nIGVhcmxp
ZXIoU3RyaW5nIGRhdGV0aW1lUGF0dGVybiwgU3RyaW5nIGR1cmF0aW9uLCBTdHJpbmcgZHVyYXRp
b25QYXR0ZXJuKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJuIGVhcmxpZXIoZGF0
ZXRpbWVQYXR0ZXJuLCBkdXJhdGlvbiwgZHVyYXRpb25QYXR0ZXJuLCBudWxsKTsKfQoKLy8gcmV0
dXJucyB0aGUgY3VycmVudCBkYXRldGltZSBtaW51cyB0aGUgZ2l2ZW4gZHVyYXRpb24KcHVibGlj
IHN0YXRpYyBTdHJpbmcgZWFybGllcihTdHJpbmcgZGF0ZXRpbWVQYXR0ZXJuLCBTdHJpbmcgZHVy
YXRpb24sIFN0cmluZyBkdXJhdGlvblBhdHRlcm4sIFN0cmluZyB0aW1lem9uZSkgdGhyb3dzIFNl
cnZpY2VFeGNlcHRpb24gewogIHJldHVybiBlbWl0KGVhcmxpZXIodHVuZHJhLmR1cmF0aW9uLnBh
cnNlKGR1cmF0aW9uLCBkdXJhdGlvblBhdHRlcm4pKSwgZGF0ZXRpbWVQYXR0ZXJuLCB0aW1lem9u
ZSk7Cn0KCi8vIHJldHVybnMgdGhlIGN1cnJlbnQgZGF0ZXRpbWUgbWludXMgdGhlIGdpdmVuIGR1
cmF0aW9uCnB1YmxpYyBzdGF0aWMgamF2YS51dGlsLkNhbGVuZGFyIGVhcmxpZXIoamF2YXgueG1s
LmRhdGF0eXBlLkR1cmF0aW9uIGR1cmF0aW9uKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAg
cmV0dXJuIHN1YnRyYWN0KGphdmEudXRpbC5DYWxlbmRhci5nZXRJbnN0YW5jZSgpLCBkdXJhdGlv
bik7Cn0KCi8vIHJldHVybnMgdGhlIGN1cnJlbnQgZGF0ZXRpbWUgcGx1cyB0aGUgZ2l2ZW4gWE1M
IGR1cmF0aW9uCnB1YmxpYyBzdGF0aWMgU3RyaW5nIGxhdGVyKFN0cmluZyBkdXJhdGlvbikgdGhy
b3dzIFNlcnZpY2VFeGNlcHRpb24gewogIHJldHVybiBsYXRlcihudWxsLCBkdXJhdGlvbiwgbnVs
bCk7Cn0KCi8vIHJldHVybnMgdGhlIGN1cnJlbnQgZGF0ZXRpbWUgcGx1cyB0aGUgZ2l2ZW4gZHVy
YXRpb24KcHVibGljIHN0YXRpYyBTdHJpbmcgbGF0ZXIoU3RyaW5nIGR1cmF0aW9uLCBTdHJpbmcg
ZHVyYXRpb25QYXR0ZXJuKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJuIGxhdGVy
KG51bGwsIGR1cmF0aW9uLCBkdXJhdGlvblBhdHRlcm4pOwp9CgovLyByZXR1cm5zIHRoZSBjdXJy
ZW50IGRhdGV0aW1lIHBsdXMgdGhlIGdpdmVuIGR1cmF0aW9uCnB1YmxpYyBzdGF0aWMgU3RyaW5n
IGxhdGVyKFN0cmluZyBkYXRldGltZVBhdHRlcm4sIFN0cmluZyBkdXJhdGlvbiwgU3RyaW5nIGR1
cmF0aW9uUGF0dGVybikgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIHJldHVybiBsYXRlcihk
YXRldGltZVBhdHRlcm4sIGR1cmF0aW9uLCBkdXJhdGlvblBhdHRlcm4sIG51bGwpOwp9CgovLyBy
ZXR1cm5zIHRoZSBjdXJyZW50IGRhdGV0aW1lIHBsdXMgdGhlIGdpdmVuIGR1cmF0aW9uCnB1Ymxp
YyBzdGF0aWMgU3RyaW5nIGxhdGVyKFN0cmluZyBkYXRldGltZVBhdHRlcm4sIFN0cmluZyBkdXJh
dGlvbiwgU3RyaW5nIGR1cmF0aW9uUGF0dGVybiwgU3RyaW5nIHRpbWV6b25lKSB0aHJvd3MgU2Vy
dmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJuIGVtaXQobGF0ZXIodHVuZHJhLmR1cmF0aW9uLnBhcnNl
KGR1cmF0aW9uLCBkdXJhdGlvblBhdHRlcm4pKSwgZGF0ZXRpbWVQYXR0ZXJuLCB0aW1lem9uZSk7
Cn0KCi8vIHJldHVybnMgdGhlIGN1cnJlbnQgZGF0ZXRpbWUgcGx1cyB0aGUgZ2l2ZW4gZHVyYXRp
b24KcHVibGljIHN0YXRpYyBqYXZhLnV0aWwuQ2FsZW5kYXIgbGF0ZXIoamF2YXgueG1sLmRhdGF0
eXBlLkR1cmF0aW9uIGR1cmF0aW9uKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJu
IGFkZChqYXZhLnV0aWwuQ2FsZW5kYXIuZ2V0SW5zdGFuY2UoKSwgZHVyYXRpb24pOwp9CgovLyBy
ZXR1cm5zIHRoZSBsYXJnZXN0IGRhdGV0aW1lIGZyb20gdGhlIGdpdmVuIGxpc3Qgb2YgZGF0ZXRp
bWUgc3RyaW5ncwpwdWJsaWMgc3RhdGljIFN0cmluZyBtYXhpbXVtKFN0cmluZ1tdIGRhdGV0aW1l
cywgU3RyaW5nIHBhdHRlcm4pIHsKICBpZiAoZGF0ZXRpbWVzID09IG51bGwgfHwgZGF0ZXRpbWVz
Lmxlbmd0aCA9PSAwKSByZXR1cm4gbnVsbDsKCiAgamF2YS51dGlsLkNhbGVuZGFyW10gY2FsZW5k
YXJzID0gcGFyc2UoZGF0ZXRpbWVzLCBwYXR0ZXJuKTsKICBqYXZhLnV0aWwuU29ydGVkU2V0PGph
dmEudXRpbC5DYWxlbmRhcj4gc2V0ID0gbmV3IGphdmEudXRpbC5UcmVlU2V0PGphdmEudXRpbC5D
YWxlbmRhcj4oamF2YS51dGlsLkFycmF5cy5hc0xpc3QoY2FsZW5kYXJzKSk7CiAgcmV0dXJuIGVt
aXQoc2V0Lmxhc3QoKSwgcGF0dGVybik7Cn0KCi8vIHJldHVybnMgdGhlIHNtYWxsZXN0IGRhdGV0
aW1lIGZyb20gdGhlIGdpdmVuIGxpc3Qgb2YgZGF0ZXRpbWUgc3RyaW5ncwpwdWJsaWMgc3RhdGlj
IFN0cmluZyBtaW5pbXVtKFN0cmluZ1tdIGRhdGV0aW1lcywgU3RyaW5nIHBhdHRlcm4pIHsKICBp
ZiAoZGF0ZXRpbWVzID09IG51bGwgfHwgZGF0ZXRpbWVzLmxlbmd0aCA9PSAwKSByZXR1cm4gbnVs
bDsKCiAgamF2YS51dGlsLkNhbGVuZGFyW10gY2FsZW5kYXJzID0gcGFyc2UoZGF0ZXRpbWVzLCBw
YXR0ZXJuKTsKICBqYXZhLnV0aWwuU29ydGVkU2V0PGphdmEudXRpbC5DYWxlbmRhcj4gc2V0ID0g
bmV3IGphdmEudXRpbC5UcmVlU2V0PGphdmEudXRpbC5DYWxlbmRhcj4oamF2YS51dGlsLkFycmF5
cy5hc0xpc3QoY2FsZW5kYXJzKSk7CiAgcmV0dXJuIGVtaXQoc2V0LmZpcnN0KCksIHBhdHRlcm4p
Owp9</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
  </array>
</Values>
