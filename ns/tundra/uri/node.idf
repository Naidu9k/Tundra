<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.uri</value>
  <value name="encodeutf8">true</value>
  <value name="shared">cHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgREVGQVVMVF9DSEFSQUNURVJfRU5DT0RJTkcgPSAi
VVMtQVNDSUkiOwoKLy8gcGFyc2VzIGEgVVJJIHN0cmluZyBpbnRvIGFuIElEYXRhIHJlcHJlc2Vu
dGF0aW9uCnB1YmxpYyBzdGF0aWMgSURhdGEgcGFyc2UoU3RyaW5nIGlucHV0KSB0aHJvd3MgU2Vy
dmljZUV4Y2VwdGlvbiB7CiAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBudWxsOwoKICAvLyB0
cmVhdCBXaW5kb3dzIFVOQyBmaWxlIFVSSXMgYXMgc2VydmVyLWJhc2VkIHJhdGhlciB0aGFuIHBh
dGgtYmFzZWQKICBpZiAoaW5wdXQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCJmaWxlOi8vLy8i
KSkgewogICAgaW5wdXQgPSAiZmlsZTovLyIgKyBpbnB1dC5zdWJzdHJpbmcoOSwgaW5wdXQubGVu
Z3RoKCkpOwogIH0KCiAgSURhdGEgb3V0cHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogIElE
YXRhQ3Vyc29yIG9jID0gb3V0cHV0LmdldEN1cnNvcigpOwoKICB0cnkgewogICAgamF2YS5uZXQu
VVJJIHVyaSA9IG5ldyBqYXZhLm5ldC5VUkkoaW5wdXQpOwogICAgdXJpLm5vcm1hbGl6ZSgpOwog
ICAgCiAgICBTdHJpbmcgc2NoZW1lID0gdXJpLmdldFNjaGVtZSgpOwogICAgLy8gc2NoZW1lcyBh
cmUgY2FzZS1pbnNlbnNpdGl2ZSwgYWNjb3JkaW5nIHRvIFJGQyAyMzk2CiAgICBpZiAoc2NoZW1l
ICE9IG51bGwpIHNjaGVtZSA9IHNjaGVtZS50b0xvd2VyQ2FzZSgpOwogICAgaWYgKHNjaGVtZSAh
PSBudWxsKSBJRGF0YVV0aWwucHV0KG9jLCAic2NoZW1lIiwgc2NoZW1lKTsKCiAgICBJRGF0YSBx
dWVyeSA9IG51bGw7CiAgICBTdHJpbmcgc3NwID0gdXJpLmdldFNjaGVtZVNwZWNpZmljUGFydCgp
OwoKICAgIGlmICh1cmkuaXNPcGFxdWUoKSkgeyAKICAgICAgaWYgKHNzcC5jb250YWlucygiPyIp
KSB7CiAgICAgICAgcXVlcnkgPSB0dW5kcmEudXJpLnF1ZXJ5LnBhcnNlKHNzcC5zdWJzdHJpbmco
c3NwLmluZGV4T2YoIj8iKSArIDEsIHNzcC5sZW5ndGgoKSksIGZhbHNlKTsKICAgICAgICBzc3Ag
PSBzc3Auc3Vic3RyaW5nKDAsIHNzcC5pbmRleE9mKCI/IikpOwogICAgICB9CiAgICAgIGlmIChz
c3AgIT0gbnVsbCkgSURhdGFVdGlsLnB1dChvYywgImJvZHkiLCBzc3ApOwogICAgfSBlbHNlIHsK
ICAgICAgU3RyaW5nIGF1dGhvcml0eSA9IHVyaS5nZXRBdXRob3JpdHkoKTsKICAgICAgaWYgKGF1
dGhvcml0eSAhPSBudWxsKSB7CiAgICAgICAgSURhdGEgc2VydmVyID0gSURhdGFGYWN0b3J5LmNy
ZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIHNjID0gc2VydmVyLmdldEN1cnNvcigpOwoKICAg
ICAgICAvLyBwYXJzZSB1c2VyLWluZm8gY29tcG9uZW50IGFjY29yZGluZyB0byB0aGUgZm9ybWF0
IHVzZXI6W3Bhc3N3b3JkXQogICAgICAgIFN0cmluZyB1c2VyID0gdXJpLmdldFVzZXJJbmZvKCk7
CiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gbnVsbDsKICAgICAgICBTdHJpbmcgdXNlckluZm9T
ZXBhcmF0b3IgPSAiOiI7CiAgICAgICAgaWYgKHVzZXIgIT0gbnVsbCAmJiB1c2VyLmNvbnRhaW5z
KHVzZXJJbmZvU2VwYXJhdG9yKSkgewogICAgICAgICAgcGFzc3dvcmQgPSB1c2VyLnN1YnN0cmlu
Zyh1c2VyLmluZGV4T2YodXNlckluZm9TZXBhcmF0b3IpICsgMSwgdXNlci5sZW5ndGgoKSk7CiAg
ICAgICAgICB1c2VyID0gdXNlci5zdWJzdHJpbmcoMCwgdXNlci5pbmRleE9mKHVzZXJJbmZvU2Vw
YXJhdG9yKSk7CiAgICAgICAgfQogICAgICAgIGlmICh1c2VyICE9IG51bGwpIElEYXRhVXRpbC5w
dXQoc2MsICJ1c2VyIiwgdXNlcik7CiAgICAgICAgaWYgKHBhc3N3b3JkICE9IG51bGwpIElEYXRh
VXRpbC5wdXQoc2MsICJwYXNzd29yZCIsIHBhc3N3b3JkKTsKCiAgICAgICAgLy8gaG9zdHMgYXJl
IGNhc2UtaW5zZW5zaXRpdmUsIGFjY29yZGluZyB0byBSRkMgMjM5NgogICAgICAgIFN0cmluZyBo
b3N0ID0gdXJpLmdldEhvc3QoKTsKICAgICAgICBpZiAoaG9zdCAhPSBudWxsKSBJRGF0YVV0aWwu
cHV0KHNjLCAiaG9zdCIsIGhvc3QudG9Mb3dlckNhc2UoKSk7CgogICAgICAgIC8vIGlmIHBvcnQg
aXMgLTEsIHRoZW4gaXQgd2Fzbid0IHNwZWNpZmllZCBpbiB0aGUgVVJJCiAgICAgICAgaW50IHBv
cnQgPSB1cmkuZ2V0UG9ydCgpOwogICAgICAgIGlmIChwb3J0ID49IDApIElEYXRhVXRpbC5wdXQo
c2MsICJwb3J0IiwgIiIgKyB1cmkuZ2V0UG9ydCgpKTsKCiAgICAgICAgc2MuZGVzdHJveSgpOwoK
ICAgICAgICAvLyBpZiBob3N0IGlzIG51bGwsIHRoZW4gdGhpcyBVUkkgbXVzdCBiZSByZWdpc3Ry
eS1iYXNlZAogICAgICAgIElEYXRhIGF1dGhvcml0eURvY3VtZW50ID0gSURhdGFGYWN0b3J5LmNy
ZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIGFjID0gYXV0aG9yaXR5RG9jdW1lbnQuZ2V0Q3Vy
c29yKCk7CiAgICAgICAgaWYgKGhvc3QgPT0gbnVsbCkgewogICAgICAgICAgSURhdGFVdGlsLnB1
dChhYywgInJlZ2lzdHJ5IiwgYXV0aG9yaXR5KTsgCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAg
IElEYXRhVXRpbC5wdXQoYWMsICJzZXJ2ZXIiLCBzZXJ2ZXIpOyAgCiAgICAgICAgfQogICAgICAg
IGFjLmRlc3Ryb3koKTsKCiAgICAgICAgSURhdGFVdGlsLnB1dChvYywgImF1dGhvcml0eSIsIGF1
dGhvcml0eURvY3VtZW50KTsKICAgICAgfQoKICAgICAgU3RyaW5nIHBhdGggPSB1cmkuZ2V0UGF0
aCgpOwogICAgICBTdHJpbmdbXSBwYXRocyA9IHR1bmRyYS51cmkucGF0aC5wYXJzZShwYXRoKTsK
ICAgICAgCiAgICAgIFN0cmluZyBmaWxlID0gbnVsbDsKICAgICAgaWYgKCFwYXRoLmVuZHNXaXRo
KCIvIikpIHsKICAgICAgICBmaWxlID0gdHVuZHJhLmxpc3Qub2JqZWN0LmdldChwYXRocywgLTEp
OyAKICAgICAgICBwYXRocyA9IHR1bmRyYS5saXN0Lm9iamVjdC5kcm9wKHBhdGhzLCAtMSk7CiAg
ICAgIH0KCiAgICAgIGlmIChwYXRocyAhPSBudWxsICYmIHBhdGhzLmxlbmd0aCA+IDApIElEYXRh
VXRpbC5wdXQob2MsICJwYXRoIiwgcGF0aHMpOwogICAgICBpZiAoZmlsZSAhPSBudWxsICYmICFm
aWxlLmVxdWFscygiIikpIElEYXRhVXRpbC5wdXQob2MsICJmaWxlIiwgZmlsZSk7CgogICAgICBx
dWVyeSA9IHR1bmRyYS51cmkucXVlcnkucGFyc2UodXJpLmdldFJhd1F1ZXJ5KCksIHRydWUpOwog
ICAgfQogICAgCiAgICBpZiAocXVlcnkgIT0gbnVsbCkgSURhdGFVdGlsLnB1dChvYywgInF1ZXJ5
IiwgcXVlcnkpOwoKICAgIFN0cmluZyBmcmFnbWVudCA9IHVyaS5nZXRGcmFnbWVudCgpOwogICAg
aWYgKGZyYWdtZW50ICE9IG51bGwpIElEYXRhVXRpbC5wdXQob2MsICJmcmFnbWVudCIsIGZyYWdt
ZW50KTsKCiAgICBJRGF0YVV0aWwucHV0KG9jLCAiYWJzb2x1dGU/IiwgIiIgKyB1cmkuaXNBYnNv
bHV0ZSgpKTsKICAgIElEYXRhVXRpbC5wdXQob2MsICJvcGFxdWU/IiwgIiIgKyB1cmkuaXNPcGFx
dWUoKSk7CiAgfSBjYXRjaChqYXZhLm5ldC5VUklTeW50YXhFeGNlcHRpb24gZXgpIHsKICAgIHR1
bmRyYS5leGNlcHRpb24ucmFpc2UoZXgpOwogIH0gZmluYWxseSB7CiAgICBvYy5kZXN0cm95KCk7
CiAgfQoKICByZXR1cm4gb3V0cHV0Owp9CgovLyBlbWl0cyBhIFVSSSBhcyBhIHN0cmluZwpwdWJs
aWMgc3RhdGljIFN0cmluZyBlbWl0KElEYXRhIGlucHV0LCBib29sZWFuIHdoYXRldmVyKSB0aHJv
d3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBudWxsOwoK
ICBTdHJpbmcgb3V0cHV0ID0gbnVsbDsKICBJRGF0YUN1cnNvciBjdXJzb3IgPSBpbnB1dC5nZXRD
dXJzb3IoKTsKCiAgdHJ5IHsKICAgIGphdmEubmV0LlVSSSB1cmkgPSBudWxsOwogICAgU3RyaW5n
IHR5cGUgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKGN1cnNvciwgInR5cGUiKTsKICAgIAogICAgU3Ry
aW5nIHNjaGVtZSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoY3Vyc29yLCAic2NoZW1lIik7CiAgICAv
LyBzY2hlbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlLCBhY2NvcmRpbmcgdG8gUkZDIDIzOTYKICAg
IGlmIChzY2hlbWUgIT0gbnVsbCkgc2NoZW1lID0gc2NoZW1lLnRvTG93ZXJDYXNlKCk7CgogICAg
U3RyaW5nIGZyYWdtZW50ID0gSURhdGFVdGlsLmdldFN0cmluZyhjdXJzb3IsICJmcmFnbWVudCIp
OwogICAgSURhdGEgcXVlcnlEb2N1bWVudCA9IElEYXRhVXRpbC5nZXRJRGF0YShjdXJzb3IsICJx
dWVyeSIpOwogICAgU3RyaW5nIHF1ZXJ5ID0gdHVuZHJhLnVyaS5xdWVyeS5lbWl0KHF1ZXJ5RG9j
dW1lbnQsIHRydWUpOwoKICAgIFN0cmluZyBib2R5ID0gSURhdGFVdGlsLmdldFN0cmluZyhjdXJz
b3IsICJib2R5Iik7CiAgICBJRGF0YSBhdXRob3JpdHkgPSBJRGF0YVV0aWwuZ2V0SURhdGEoY3Vy
c29yLCAiYXV0aG9yaXR5Iik7CiAgICBTdHJpbmdbXSBwYXRocyA9IElEYXRhVXRpbC5nZXRTdHJp
bmdBcnJheShjdXJzb3IsICJwYXRoIik7CiAgICBTdHJpbmcgZmlsZSA9IElEYXRhVXRpbC5nZXRT
dHJpbmcoY3Vyc29yLCAiZmlsZSIpOwoKICAgIGlmIChib2R5ID09IG51bGwgJiYgIShhdXRob3Jp
dHkgPT0gbnVsbCAmJiBwYXRocyA9PSBudWxsICYmIGZpbGUgPT0gbnVsbCkpIHsKICAgICAgLy8g
Y3JlYXRlIGFuIGhpZXJhcmNoaWNhbCBVUkkKICAgICAgU3RyaW5nIHBhdGggPSAiIjsKICAgICAg
aWYgKHBhdGhzICE9IG51bGwpIHsKICAgICAgICBwYXRoID0gIi8iICsgdHVuZHJhLmxpc3Qub2Jq
ZWN0LmpvaW4ocGF0aHMsICIvIik7CiAgICAgIH0KICAgICAgcGF0aCA9IHBhdGggKyAiLyI7CiAg
ICAgIGlmIChmaWxlICE9IG51bGwpIHsKICAgICAgICBwYXRoID0gcGF0aCArIGZpbGU7CiAgICAg
IH0KICAKICAgICAgaWYgKGF1dGhvcml0eSA9PSBudWxsKSB7CiAgICAgICAgdXJpID0gbmV3IGph
dmEubmV0LlVSSShzY2hlbWUsIG51bGwsIHBhdGgsIG51bGwsIG51bGwpOwogICAgICB9IGVsc2Ug
ewogICAgICAgIElEYXRhQ3Vyc29yIGFjID0gYXV0aG9yaXR5LmdldEN1cnNvcigpOwogICAgICAg
IFN0cmluZyByZWdpc3RyeSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoYWMsICJyZWdpc3RyeSIpOwog
ICAgICAgIElEYXRhIHNlcnZlciA9IElEYXRhVXRpbC5nZXRJRGF0YShhYywgInNlcnZlciIpOwog
ICAgICAgIGFjLmRlc3Ryb3koKTsKCiAgICAgICAgaWYgKHJlZ2lzdHJ5ID09IG51bGwpIHsKICAg
ICAgICAgIElEYXRhQ3Vyc29yIHNjID0gc2VydmVyLmdldEN1cnNvcigpOwogICAgICAgICAgU3Ry
aW5nIGhvc3QgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKHNjLCAiaG9zdCIpOwogICAgICAgICAgLy8g
aG9zdHMgYXJlIGNhc2UtaW5zZW5zaXRpdmUsIGFjY29yZGluZyB0byBSRkMgMjM5NgogICAgICAg
ICAgaWYgKGhvc3QgIT0gbnVsbCkgaG9zdCA9IGhvc3QudG9Mb3dlckNhc2UoKTsKCiAgICAgICAg
ICBTdHJpbmcgcG9ydFN0cmluZyA9IElEYXRhVXRpbC5nZXRTdHJpbmcoc2MsICJwb3J0Iik7CiAg
ICAgICAgICBpbnQgcG9ydCA9IC0xOwogICAgICAgICAgaWYgKHBvcnRTdHJpbmcgIT0gbnVsbCkg
cG9ydCA9IEludGVnZXIucGFyc2VJbnQocG9ydFN0cmluZyk7CgogICAgICAgICAgU3RyaW5nIHVz
ZXJpbmZvID0gSURhdGFVdGlsLmdldFN0cmluZyhzYywgInVzZXIiKTsKICAgICAgICAgIGlmICh1
c2VyaW5mbyAhPSBudWxsICYmICEodXNlcmluZm8uZXF1YWxzKCIiKSkpIHsKICAgICAgICAgICAg
U3RyaW5nIHBhc3N3b3JkID0gSURhdGFVdGlsLmdldFN0cmluZyhzYywgInBhc3N3b3JkIik7CiAg
ICAgICAgICAgIGlmIChwYXNzd29yZCAhPSBudWxsICYmICEocGFzc3dvcmQuZXF1YWxzKCIiKSkp
IHVzZXJpbmZvID0gdXNlcmluZm8gKyAiOiIgKyBwYXNzd29yZDsKICAgICAgICAgIH0gZWxzZSB7
CiAgICAgICAgICAgIHVzZXJpbmZvID0gbnVsbDsgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3MKICAg
ICAgICAgIH0KCiAgICAgICAgICBzYy5kZXN0cm95KCk7CiAgICAgICAgICB1cmkgPSBuZXcgamF2
YS5uZXQuVVJJKHNjaGVtZSwgdXNlcmluZm8sIGhvc3QsIHBvcnQsIHBhdGgsIG51bGwsIG51bGwp
OyAgCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHVyaSA9IG5ldyBqYXZhLm5ldC5VUkkoc2No
ZW1lLCByZWdpc3RyeSwgcGF0aCwgbnVsbCwgbnVsbCk7CiAgICAgICAgfQogICAgICB9CiAgICB9
IGVsc2UgewogICAgICB1cmkgPSBuZXcgamF2YS5uZXQuVVJJKHNjaGVtZSwgYm9keSwgbnVsbCk7
CiAgICB9CiAgICBvdXRwdXQgPSB1cmkubm9ybWFsaXplKCkudG9BU0NJSVN0cmluZygpOwogICAg
aWYgKHF1ZXJ5ICE9IG51bGwpIG91dHB1dCA9IG91dHB1dCArICI/IiArIHF1ZXJ5OwogICAgaWYg
KGZyYWdtZW50ICE9IG51bGwgJiYgIShmcmFnbWVudC5lcXVhbHMoIiIpKSkgb3V0cHV0ID0gb3V0
cHV0ICsgIiMiICsgdHVuZHJhLnVyaS5lbmNvZGUoZnJhZ21lbnQpOwoKICAgIC8vIHN1cHBvcnQg
V2luZG93cyBVTkMgZmlsZSBVUklzLCBhbmQgd29yay1hcm91bmQgamF2YSBidWcgd2l0aCAKICAg
IC8vIGZpbGUgVVJJcyB3aGVyZSBzY2hlbWUgaXMgZm9sbG93ZWQgYnkgJzovJyByYXRoZXIgdGhh
biAnOi8vJwogICAgaWYgKG91dHB1dC5zdGFydHNXaXRoKCJmaWxlOiIpICYmIHVyaS5nZXRIb3N0
KCkgPT0gbnVsbCkgewogICAgICBvdXRwdXQgPSAiZmlsZTovLyIgKyBvdXRwdXQuc3Vic3RyaW5n
KDUsIG91dHB1dC5sZW5ndGgoKSk7ICAKICAgIH0KICB9IGNhdGNoKGphdmEubmV0LlVSSVN5bnRh
eEV4Y2VwdGlvbiBleCkgewogICAgdHVuZHJhLmV4Y2VwdGlvbi5yYWlzZShleCk7CiAgfSBmaW5h
bGx5IHsKICAgIGN1cnNvci5kZXN0cm95KCk7IAogIH0KICAKICByZXR1cm4gb3V0cHV0Owp9Cgov
LyBub3JtYWxpemVzIGEgVVJJIHN0cmluZywgcmVmZXIgPGh0dHA6Ly9kb2NzLm9yYWNsZS5jb20v
amF2YXNlLzYvZG9jcy9hcGkvamF2YS9uZXQvVVJJLmh0bWwjbm9ybWFsaXplKCk+CnB1YmxpYyBz
dGF0aWMgU3RyaW5nIG5vcm1hbGl6ZShTdHJpbmcgaW5wdXQpIHRocm93cyBTZXJ2aWNlRXhjZXB0
aW9uIHsKICByZXR1cm4gZW1pdChwYXJzZShpbnB1dCksIHRydWUpOwp9CgovLyBVUkwgZW5jb2Rl
cyBhIHN0cmluZywgcmVmZXIgPGh0dHA6Ly9kb2NzLm9yYWNsZS5jb20vamF2YXNlLzYvZG9jcy9h
cGkvamF2YS9uZXQvVVJMRW5jb2Rlci5odG1sPgpwdWJsaWMgc3RhdGljIFN0cmluZyBlbmNvZGUo
U3RyaW5nIGlucHV0KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJuIGVuY29kZShp
bnB1dCwgREVGQVVMVF9DSEFSQUNURVJfRU5DT0RJTkcpOwp9CgovLyBVUkwgZW5jb2RlcyBhIHN0
cmluZywgcmVmZXIgPGh0dHA6Ly9kb2NzLm9yYWNsZS5jb20vamF2YXNlLzYvZG9jcy9hcGkvamF2
YS9uZXQvVVJMRW5jb2Rlci5odG1sPgpwdWJsaWMgc3RhdGljIFN0cmluZyBlbmNvZGUoU3RyaW5n
IGlucHV0LCBTdHJpbmcgZW5jb2RpbmcpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICBpZiAo
aW5wdXQgPT0gbnVsbCkgcmV0dXJuIG51bGw7CiAgaWYgKGVuY29kaW5nID09IG51bGwpIGVuY29k
aW5nID0gREVGQVVMVF9DSEFSQUNURVJfRU5DT0RJTkc7ICAKCiAgU3RyaW5nIG91dHB1dCA9IG51
bGw7CiAgdHJ5IHsKICAgIG91dHB1dCA9ICBqYXZhLm5ldC5VUkxFbmNvZGVyLmVuY29kZShpbnB1
dCwgZW5jb2RpbmcpLnJlcGxhY2UoIisiLCAiJTIwIik7CiAgfSBjYXRjaChqYXZhLmlvLlVuc3Vw
cG9ydGVkRW5jb2RpbmdFeGNlcHRpb24gZXgpIHsKICAgIHR1bmRyYS5leGNlcHRpb24ucmFpc2Uo
ZXgpOwogIH0KICByZXR1cm4gb3V0cHV0Owp9CgovLyBVUkwgZW5jb2RlcyBhIHN0cmluZywgcmVm
ZXIgPGh0dHA6Ly9kb2NzLm9yYWNsZS5jb20vamF2YXNlLzYvZG9jcy9hcGkvamF2YS9uZXQvVVJM
RW5jb2Rlci5odG1sPgpwdWJsaWMgc3RhdGljIFN0cmluZ1tdIGVuY29kZShTdHJpbmdbXSBpbnB1
dCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIHJldHVybiBlbmNvZGUoaW5wdXQsIERFRkFV
TFRfQ0hBUkFDVEVSX0VOQ09ESU5HKTsKfQoKLy8gVVJMIGVuY29kZXMgYSBzdHJpbmcsIHJlZmVy
IDxodHRwOi8vZG9jcy5vcmFjbGUuY29tL2phdmFzZS82L2RvY3MvYXBpL2phdmEvbmV0L1VSTEVu
Y29kZXIuaHRtbD4KcHVibGljIHN0YXRpYyBTdHJpbmdbXSBlbmNvZGUoU3RyaW5nW10gaW5wdXQs
IFN0cmluZyBlbmNvZGluZykgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIGlmIChpbnB1dCA9
PSBudWxsKSByZXR1cm4gbnVsbDsKCiAgU3RyaW5nW10gb3V0cHV0ID0gbmV3IFN0cmluZ1tpbnB1
dC5sZW5ndGhdOwogIAogIGZvciAoaW50IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsK
ICAgIG91dHB1dFtpXSA9IGVuY29kZShpbnB1dFtpXSwgZW5jb2RpbmcpOwogIH0KCiAgcmV0dXJu
IG91dHB1dDsKfQoKLy8gVVJMIGRlY29kZXMgYSBzdHJpbmcsIHJlZmVyIDxodHRwOi8vZG9jcy5v
cmFjbGUuY29tL2phdmFzZS82L2RvY3MvYXBpL2phdmEvbmV0L1VSTERlY29kZXIuaHRtbD4KcHVi
bGljIHN0YXRpYyBTdHJpbmcgZGVjb2RlKFN0cmluZyBpbnB1dCkgdGhyb3dzIFNlcnZpY2VFeGNl
cHRpb24gewogIHJldHVybiBkZWNvZGUoaW5wdXQsIERFRkFVTFRfQ0hBUkFDVEVSX0VOQ09ESU5H
KTsKfQoKLy8gVVJMIGRlY29kZXMgYSBzdHJpbmcsIHJlZmVyIDxodHRwOi8vZG9jcy5vcmFjbGUu
Y29tL2phdmFzZS82L2RvY3MvYXBpL2phdmEvbmV0L1VSTERlY29kZXIuaHRtbD4KcHVibGljIHN0
YXRpYyBTdHJpbmcgZGVjb2RlKFN0cmluZyBpbnB1dCwgU3RyaW5nIGVuY29kaW5nKSB0aHJvd3Mg
U2VydmljZUV4Y2VwdGlvbiB7CiAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBudWxsOwogIGlm
IChlbmNvZGluZyA9PSBudWxsKSBlbmNvZGluZyA9IERFRkFVTFRfQ0hBUkFDVEVSX0VOQ09ESU5H
OwoKICBTdHJpbmcgb3V0cHV0ID0gbnVsbDsKICB0cnkgewogICAgb3V0cHV0ID0gamF2YS5uZXQu
VVJMRGVjb2Rlci5kZWNvZGUoaW5wdXQsIGVuY29kaW5nKTsKICB9IGNhdGNoKGphdmEuaW8uVW5z
dXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiBleCkgewogICAgdHVuZHJhLmV4Y2VwdGlvbi5yYWlz
ZShleCk7CiAgfQogIHJldHVybiBvdXRwdXQ7Cn0KCi8vIFVSTCBkZWNvZGVzIGEgc3RyaW5nLCBy
ZWZlciA8aHR0cDovL2RvY3Mub3JhY2xlLmNvbS9qYXZhc2UvNi9kb2NzL2FwaS9qYXZhL25ldC9V
UkxEZWNvZGVyLmh0bWw+CnB1YmxpYyBzdGF0aWMgU3RyaW5nW10gZGVjb2RlKFN0cmluZ1tdIGlu
cHV0KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJuIGRlY29kZShpbnB1dCwgREVG
QVVMVF9DSEFSQUNURVJfRU5DT0RJTkcpOwp9CgovLyBVUkwgZGVjb2RlcyBhIHN0cmluZywgcmVm
ZXIgPGh0dHA6Ly9kb2NzLm9yYWNsZS5jb20vamF2YXNlLzYvZG9jcy9hcGkvamF2YS9uZXQvVVJM
RGVjb2Rlci5odG1sPgpwdWJsaWMgc3RhdGljIFN0cmluZ1tdIGRlY29kZShTdHJpbmdbXSBpbnB1
dCwgU3RyaW5nIGVuY29kaW5nKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgaWYgKGlucHV0
ID09IG51bGwpIHJldHVybiBudWxsOwoKICBTdHJpbmdbXSBvdXRwdXQgPSBuZXcgU3RyaW5nW2lu
cHV0Lmxlbmd0aF07CgogIGZvciAoaW50IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsK
ICAgIG91dHB1dFtpXSA9IGRlY29kZShpbnB1dFtpXSwgZW5jb2RpbmcpOwogIH0KCiAgcmV0dXJu
IG91dHB1dDsKfQoKcHVibGljIHN0YXRpYyBjbGFzcyBwYXRoIHsKICBwdWJsaWMgc3RhdGljIGZp
bmFsIGphdmEudXRpbC5yZWdleC5QYXR0ZXJuIFBBVEhfUEFUVEVSTiA9IGphdmEudXRpbC5yZWdl
eC5QYXR0ZXJuLmNvbXBpbGUoIi8rIik7CgogIC8vIHBhcnNlcyBhIFVSSSBwYXRoIHN0cmluZywg
d2l0aCBzdXBwb3J0IGZvciB2YXJpYWJsZSBzdWJzdGl0dXRpb24gc3RyaW5ncwogIHB1YmxpYyBz
dGF0aWMgU3RyaW5nW10gcGFyc2UoU3RyaW5nIGlucHV0KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlv
biB7CiAgICBpZiAoaW5wdXQgPT0gbnVsbCB8fCBpbnB1dC5lcXVhbHMoIiIpIHx8IGlucHV0LmVx
dWFscygiLyIpKSByZXR1cm4gbnVsbDsKICAgIGlmIChpbnB1dC5zdGFydHNXaXRoKCIvIikpIGlu
cHV0ID0gaW5wdXQuc3Vic3RyaW5nKDEsIGlucHV0Lmxlbmd0aCgpKTsKICAgIGlmIChpbnB1dC5l
bmRzV2l0aCgiLyIpKSBpbnB1dCA9IGlucHV0LnN1YnN0cmluZygwLCBpbnB1dC5sZW5ndGgoKSAt
IDEpOwoKICAgIGphdmEudXRpbC5MaXN0PFN0cmluZz4gbGlzdCA9IG5ldyBqYXZhLnV0aWwuQXJy
YXlMaXN0PFN0cmluZz4oKTsKICAgIGphdmEudXRpbC5yZWdleC5NYXRjaGVyIHN1YnN0aXR1dGlv
bk1hdGNoZXIgPSB0dW5kcmEuc3RyaW5nLlNVQlNUSVRVVElPTl9QQVRURVJOLm1hdGNoZXIoaW5w
dXQpOwoKICAgIGludCBpbmRleCA9IDA7CiAgICB3aGlsZShzdWJzdGl0dXRpb25NYXRjaGVyLmZp
bmQoKSkgewogICAgICBpbnQgc3RhcnQgPSBzdWJzdGl0dXRpb25NYXRjaGVyLnN0YXJ0KCk7CiAg
ICAgIGludCBlbmQgPSBzdWJzdGl0dXRpb25NYXRjaGVyLmVuZCgpOwoKICAgICAgaWYgKGluZGV4
IDw9IHN0YXJ0KSBzcGxpdChpbnB1dC5zdWJzdHJpbmcoaW5kZXgsIHN0YXJ0KSwgbGlzdCk7CiAg
ICAgIGFwcGVuZChzdWJzdGl0dXRpb25NYXRjaGVyLmdyb3VwKCksIGxpc3QpOwoKICAgICAgaW5k
ZXggPSBlbmQ7CiAgICB9CiAgICBpZiAoaW5kZXggPD0gaW5wdXQubGVuZ3RoKCkpIHNwbGl0KGlu
cHV0LnN1YnN0cmluZyhpbmRleCksIGxpc3QpOwoKICAgIHJldHVybiB0dW5kcmEubGlzdC5vYmpl
Y3QuY29tcGFjdCgoU3RyaW5nW10pbGlzdC50b0FycmF5KG5ldyBTdHJpbmdbMF0pKTsKICB9Cgog
IHByb3RlY3RlZCBzdGF0aWMgdm9pZCBhcHBlbmQoU3RyaW5nIGl0ZW0sIGphdmEudXRpbC5MaXN0
PFN0cmluZz4gbGlzdCkgewogICAgaW50IGkgPSBsaXN0LnNpemUoKSAtIDE7CiAgICBpZiAoaSA8
IDApIHsKICAgICAgbGlzdC5hZGQoaXRlbSk7CiAgICB9IGVsc2UgewogICAgICBsaXN0LnNldChp
LCBsaXN0LmdldChpKSArIGl0ZW0pOwogICAgfQogIH0KCiAgcHJvdGVjdGVkIHN0YXRpYyB2b2lk
IHNwbGl0KFN0cmluZyBpbnB1dCwgamF2YS51dGlsLkxpc3Q8U3RyaW5nPiBsaXN0KSB7CiAgICBq
YXZhLnV0aWwucmVnZXguTWF0Y2hlciBtYXRjaGVyID0gUEFUSF9QQVRURVJOLm1hdGNoZXIoaW5w
dXQpOwoKICAgIGludCBpbmRleCA9IDA7CiAgICB3aGlsZShtYXRjaGVyLmZpbmQoKSkgewogICAg
ICBpbnQgc3RhcnQgPSBtYXRjaGVyLnN0YXJ0KCk7CiAgICAgIGludCBlbmQgPSBtYXRjaGVyLmVu
ZCgpOwoKICAgICAgaWYgKGluZGV4IDw9IHN0YXJ0KSBhcHBlbmQoaW5wdXQuc3Vic3RyaW5nKGlu
ZGV4LCBzdGFydCksIGxpc3QpOwogICAgICBsaXN0LmFkZCgiIik7CgogICAgICBpbmRleCA9IGVu
ZDsKICAgIH0KICAgIGlmIChpbmRleCA8PSBpbnB1dC5sZW5ndGgoKSkgYXBwZW5kKGlucHV0LnN1
YnN0cmluZyhpbmRleCksIGxpc3QpOwogIH0KfQoKcHVibGljIHN0YXRpYyBjbGFzcyBxdWVyeSB7
CiAgLy8gcGFyc2VzIGEgcXVlcnkgc3RyaW5nCiAgcHVibGljIHN0YXRpYyBJRGF0YSBwYXJzZShT
dHJpbmcgaW5wdXQsIGJvb2xlYW4gZGVjb2RlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAg
ICByZXR1cm4gcGFyc2UoaW5wdXQsIG51bGwsIGRlY29kZSk7CiAgfQoKICAvLyBwYXJzZXMgYSBx
dWVyeSBzdHJpbmcKICBwdWJsaWMgc3RhdGljIElEYXRhIHBhcnNlKFN0cmluZyBpbnB1dCwgU3Ry
aW5nIGVuY29kaW5nLCBib29sZWFuIGRlY29kZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewog
ICAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBudWxsOwogICAgaWYgKGVuY29kaW5nID09IG51
bGwpIGVuY29kaW5nID0gREVGQVVMVF9DSEFSQUNURVJfRU5DT0RJTkc7CgogICAgSURhdGEgb3V0
cHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgSURhdGFDdXJzb3IgY3Vyc29yID0gb3V0
cHV0LmdldEN1cnNvcigpOwoKICAgIGZvciAoU3RyaW5nIHBhaXIgOiBpbnB1dC5zcGxpdCgiJiIp
KSB7CiAgICAgIFN0cmluZ1tdIHRva2VucyA9IHBhaXIuc3BsaXQoIj0iKTsKICAgICAgU3RyaW5n
IG5hbWUgPSB0b2tlbnMubGVuZ3RoID4gMCA/IHRva2Vuc1swXSA6ICIiOwogICAgICBTdHJpbmcg
dmFsdWUgPSB0b2tlbnMubGVuZ3RoID4gMSA/IHRva2Vuc1sxXSA6ICIiOwoKICAgICAgaWYgKGRl
Y29kZSkgewogICAgICAgIG5hbWUgPSB0dW5kcmEudXJpLmRlY29kZShuYW1lLCBlbmNvZGluZyk7
CiAgICAgICAgdmFsdWUgPSB0dW5kcmEudXJpLmRlY29kZSh2YWx1ZSwgZW5jb2RpbmcpOwogICAg
ICB9CgogICAgICBPYmplY3QgZXhpc3RpbmcgPSBJRGF0YVV0aWwuZ2V0KGN1cnNvciwgbmFtZSk7
CiAgICAgIGlmIChleGlzdGluZyA9PSBudWxsKSB7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJz
b3IsIG5hbWUsIHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBzdXBwb3J0IGxpc3Rz
IGluIHF1ZXJ5IHN0cmluZ3M6IGE9MSZhPTImYT0zIHNob3VsZCBiZSBwYXJzZWQgdG8gYVtdID0g
eyAxLCAyLCAzIH0KICAgICAgICBTdHJpbmdbXSBhcnJheSA9IG51bGw7CiAgICAgICAgaWYgKGV4
aXN0aW5nIGluc3RhbmNlb2YgU3RyaW5nKSB7CiAgICAgICAgICBhcnJheSA9IG5ldyBTdHJpbmdb
Ml07CiAgICAgICAgICBhcnJheVswXSA9IChTdHJpbmcpZXhpc3Rpbmc7CiAgICAgICAgICBhcnJh
eVsxXSA9IHZhbHVlOwogICAgICAgIH0gZWxzZSBpZiAoZXhpc3RpbmcgaW5zdGFuY2VvZiBTdHJp
bmdbXSkgewogICAgICAgICAgYXJyYXkgPSB0dW5kcmEubGlzdC5vYmplY3QuYXBwZW5kKChTdHJp
bmdbXSlleGlzdGluZywgdmFsdWUsIFN0cmluZy5jbGFzcyk7CiAgICAgICAgfQogICAgICAgIElE
YXRhVXRpbC5wdXQoY3Vyc29yLCBuYW1lLCBhcnJheSk7CiAgICAgIH0gICAgICAKICAgIH0KCiAg
ICBjdXJzb3IuZGVzdHJveSgpOwoKICAgIHJldHVybiBvdXRwdXQ7CiAgfQoKICAvLyBlbWl0cyBh
IHF1ZXJ5IHN0cmluZyBnaXZlbiBhIG5hbWUgYW5kIHZhbHVlCiAgcHVibGljIHN0YXRpYyBTdHJp
bmcgZW1pdChTdHJpbmcgbmFtZSwgT2JqZWN0IHZhbHVlLCBTdHJpbmcgZW5jb2RpbmcsIGJvb2xl
YW4gZW5jb2RlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICBpZiAoZW5jb2RlKSB7CiAg
ICAgIG5hbWUgPSB0dW5kcmEudXJpLmVuY29kZShuYW1lLCBlbmNvZGluZyk7CiAgICAgIHZhbHVl
ID0gdHVuZHJhLnVyaS5lbmNvZGUodmFsdWUudG9TdHJpbmcoKSwgZW5jb2RpbmcpOwogICAgfQog
ICAgcmV0dXJuIG5hbWUgKyAiPSIgKyB2YWx1ZTsKICB9CgogIC8vIGVtaXRzIGEgcXVlcnkgc3Ry
aW5nIGdpdmVuIGEgbmFtZSBhbmQgYXJyYXkgb2YgdmFsdWVzCiAgcHVibGljIHN0YXRpYyBTdHJp
bmcgZW1pdChTdHJpbmcgbmFtZSwgT2JqZWN0W10gdmFsdWVzLCBTdHJpbmcgZW5jb2RpbmcsIGJv
b2xlYW4gZW5jb2RlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICBTdHJpbmdCdWlsZGVy
IG91dHB1dCA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAgICBmb3IoT2JqZWN0IHZhbHVlIDogdmFs
dWVzKSB7CiAgICAgIGlmIChvdXRwdXQubGVuZ3RoKCkgPiAwKSBvdXRwdXQuYXBwZW5kKCImIik7
CiAgICAgIG91dHB1dC5hcHBlbmQoZW1pdChuYW1lLCB2YWx1ZSwgZW5jb2RpbmcsIGVuY29kZSkp
OwogICAgfQogICAgcmV0dXJuIG91dHB1dC50b1N0cmluZygpOwogIH0KCiAgLy8gZW1pdHMgYSBx
dWVyeSBzdHJpbmcgZ2l2ZW4gYW4gSURhdGEgY29udGFpbmluZyBuYW1lL3ZhbHVlIHBhaXJzCiAg
cHVibGljIHN0YXRpYyBTdHJpbmcgZW1pdChJRGF0YSBpbnB1dCwgYm9vbGVhbiBlbmNvZGUpIHRo
cm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICAgIHJldHVybiBlbWl0KGlucHV0LCBudWxsLCBlbmNv
ZGUpOwogIH0KCiAgLy8gZW1pdHMgYSBxdWVyeSBzdHJpbmcgZ2l2ZW4gYW4gSURhdGEgY29udGFp
bmluZyBuYW1lL3ZhbHVlIHBhaXJzCiAgcHVibGljIHN0YXRpYyBTdHJpbmcgZW1pdChJRGF0YSBp
bnB1dCwgU3RyaW5nIGVuY29kaW5nLCBib29sZWFuIGVuY29kZSkgdGhyb3dzIFNlcnZpY2VFeGNl
cHRpb24gewogICAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBudWxsOwogICAgaWYgKGVuY29k
aW5nID09IG51bGwpIGVuY29kaW5nID0gREVGQVVMVF9DSEFSQUNURVJfRU5DT0RJTkc7CgogICAg
U3RyaW5nQnVpbGRlciBvdXRwdXQgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwoKICAgIElEYXRhQ3Vy
c29yIGN1cnNvciA9IGlucHV0LmdldEN1cnNvcigpOwogICAgd2hpbGUoY3Vyc29yLm5leHQoKSkg
ewogICAgICBTdHJpbmcga2V5ID0gY3Vyc29yLmdldEtleSgpOwogICAgICBPYmplY3QgdmFsdWUg
PSBjdXJzb3IuZ2V0VmFsdWUoKTsKCiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAg
aWYgKG91dHB1dC5sZW5ndGgoKSA+IDApIG91dHB1dC5hcHBlbmQoIiYiKTsKICAgICAgICBpZiAo
dmFsdWUgaW5zdGFuY2VvZiBPYmplY3RbXSkgewogICAgICAgICAgb3V0cHV0LmFwcGVuZChlbWl0
KGtleSwgKE9iamVjdFtdKXZhbHVlLCBlbmNvZGluZywgZW5jb2RlKSk7CiAgICAgICAgfSBlbHNl
IHsKICAgICAgICAgIG91dHB1dC5hcHBlbmQoZW1pdChrZXksIHZhbHVlLCBlbmNvZGluZywgZW5j
b2RlKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG91dHB1dC50b1N0cmlu
ZygpOwogIH0KfQ==</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
  </array>
</Values>
