<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.uri</value>
  <value name="encodeutf8">true</value>
  <value name="shared">cHVibGljIHN0YXRpYyBmaW5hbCBTdHJpbmcgREVGQVVMVF9DSEFSQUNURVJfRU5DT0RJTkcgPSAi
VVMtQVNDSUkiOwoKLy8gcGFyc2VzIGEgVVJJIHN0cmluZyBpbnRvIGFuIElEYXRhIHJlcHJlc2Vu
dGF0aW9uCnB1YmxpYyBzdGF0aWMgSURhdGEgcGFyc2UoU3RyaW5nIGlucHV0KSB0aHJvd3MgU2Vy
dmljZUV4Y2VwdGlvbiB7CiAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBudWxsOwoKICAvLyB0
cmVhdCBXaW5kb3dzIFVOQyBmaWxlIFVSSXMgYXMgc2VydmVyLWJhc2VkIHJhdGhlciB0aGFuIHBh
dGgtYmFzZWQKICBpZiAoaW5wdXQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCJmaWxlOi8vLy8i
KSkgewogICAgaW5wdXQgPSAiZmlsZTovLyIgKyBpbnB1dC5zdWJzdHJpbmcoOSwgaW5wdXQubGVu
Z3RoKCkpOwogIH0KCiAgSURhdGEgb3V0cHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogIElE
YXRhQ3Vyc29yIG9jID0gb3V0cHV0LmdldEN1cnNvcigpOwoKICB0cnkgewogICAgamF2YS5uZXQu
VVJJIHVyaSA9IG5ldyBqYXZhLm5ldC5VUkkoaW5wdXQpOwogICAgdXJpLm5vcm1hbGl6ZSgpOwog
ICAgCiAgICBTdHJpbmcgc2NoZW1lID0gdXJpLmdldFNjaGVtZSgpOwogICAgLy8gc2NoZW1lcyBh
cmUgY2FzZS1pbnNlbnNpdGl2ZSwgYWNjb3JkaW5nIHRvIFJGQyAyMzk2CiAgICBpZiAoc2NoZW1l
ICE9IG51bGwpIHNjaGVtZSA9IHNjaGVtZS50b0xvd2VyQ2FzZSgpOwogICAgaWYgKHNjaGVtZSAh
PSBudWxsKSBJRGF0YVV0aWwucHV0KG9jLCAic2NoZW1lIiwgc2NoZW1lKTsKCiAgICBTdHJpbmcg
cXVlcnkgPSBudWxsOwogICAgU3RyaW5nIHNzcCA9IHVyaS5nZXRTY2hlbWVTcGVjaWZpY1BhcnQo
KTsKCiAgICBpZiAodXJpLmlzT3BhcXVlKCkpIHsgCiAgICAgIGlmIChzc3AuY29udGFpbnMoIj8i
KSkgewogICAgICAgIHF1ZXJ5ID0gc3NwLnN1YnN0cmluZyhzc3AuaW5kZXhPZigiPyIpICsgMSwg
c3NwLmxlbmd0aCgpKTsKICAgICAgICBzc3AgPSBzc3Auc3Vic3RyaW5nKDAsIHNzcC5pbmRleE9m
KCI/IikpOwogICAgICB9CiAgICAgIGlmIChzc3AgIT0gbnVsbCkgSURhdGFVdGlsLnB1dChvYywg
ImJvZHkiLCBzc3ApOwogICAgfSBlbHNlIHsKICAgICAgU3RyaW5nIGF1dGhvcml0eSA9IHVyaS5n
ZXRBdXRob3JpdHkoKTsKICAgICAgaWYgKGF1dGhvcml0eSAhPSBudWxsKSB7CiAgICAgICAgSURh
dGEgc2VydmVyID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIHNj
ID0gc2VydmVyLmdldEN1cnNvcigpOwoKICAgICAgICAvLyBwYXJzZSB1c2VyLWluZm8gY29tcG9u
ZW50IGFjY29yZGluZyB0byB0aGUgZm9ybWF0IHVzZXI6W3Bhc3N3b3JkXQogICAgICAgIFN0cmlu
ZyB1c2VyID0gdXJpLmdldFVzZXJJbmZvKCk7CiAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gbnVs
bDsKICAgICAgICBTdHJpbmcgdXNlckluZm9TZXBhcmF0b3IgPSAiOiI7CiAgICAgICAgaWYgKHVz
ZXIgIT0gbnVsbCAmJiB1c2VyLmNvbnRhaW5zKHVzZXJJbmZvU2VwYXJhdG9yKSkgewogICAgICAg
ICAgcGFzc3dvcmQgPSB1c2VyLnN1YnN0cmluZyh1c2VyLmluZGV4T2YodXNlckluZm9TZXBhcmF0
b3IpICsgMSwgdXNlci5sZW5ndGgoKSk7CiAgICAgICAgICB1c2VyID0gdXNlci5zdWJzdHJpbmco
MCwgdXNlci5pbmRleE9mKHVzZXJJbmZvU2VwYXJhdG9yKSk7CiAgICAgICAgfQogICAgICAgIGlm
ICh1c2VyICE9IG51bGwpIElEYXRhVXRpbC5wdXQoc2MsICJ1c2VyIiwgdXNlcik7CiAgICAgICAg
aWYgKHBhc3N3b3JkICE9IG51bGwpIElEYXRhVXRpbC5wdXQoc2MsICJwYXNzd29yZCIsIHBhc3N3
b3JkKTsKCiAgICAgICAgLy8gaG9zdHMgYXJlIGNhc2UtaW5zZW5zaXRpdmUsIGFjY29yZGluZyB0
byBSRkMgMjM5NgogICAgICAgIFN0cmluZyBob3N0ID0gdXJpLmdldEhvc3QoKTsKICAgICAgICBp
ZiAoaG9zdCAhPSBudWxsKSBJRGF0YVV0aWwucHV0KHNjLCAiaG9zdCIsIGhvc3QudG9Mb3dlckNh
c2UoKSk7CgogICAgICAgIC8vIGlmIHBvcnQgaXMgLTEsIHRoZW4gaXQgd2Fzbid0IHNwZWNpZmll
ZCBpbiB0aGUgVVJJCiAgICAgICAgaW50IHBvcnQgPSB1cmkuZ2V0UG9ydCgpOwogICAgICAgIGlm
IChwb3J0ID49IDApIElEYXRhVXRpbC5wdXQoc2MsICJwb3J0IiwgIiIgKyB1cmkuZ2V0UG9ydCgp
KTsKCiAgICAgICAgc2MuZGVzdHJveSgpOwoKICAgICAgICAvLyBpZiBob3N0IGlzIG51bGwsIHRo
ZW4gdGhpcyBVUkkgbXVzdCBiZSByZWdpc3RyeS1iYXNlZAogICAgICAgIElEYXRhIGF1dGhvcml0
eURvY3VtZW50ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgIElEYXRhQ3Vyc29yIGFj
ID0gYXV0aG9yaXR5RG9jdW1lbnQuZ2V0Q3Vyc29yKCk7CiAgICAgICAgaWYgKGhvc3QgPT0gbnVs
bCkgewogICAgICAgICAgSURhdGFVdGlsLnB1dChhYywgInJlZ2lzdHJ5IiwgYXV0aG9yaXR5KTsg
CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIElEYXRhVXRpbC5wdXQoYWMsICJzZXJ2ZXIiLCBz
ZXJ2ZXIpOyAgCiAgICAgICAgfQogICAgICAgIGFjLmRlc3Ryb3koKTsKCiAgICAgICAgSURhdGFV
dGlsLnB1dChvYywgImF1dGhvcml0eSIsIGF1dGhvcml0eURvY3VtZW50KTsKICAgICAgfQoKICAg
ICAgU3RyaW5nIHBhdGggPSB1cmkuZ2V0UGF0aCgpOwogICAgICBTdHJpbmdbXSBwYXRocyA9IHR1
bmRyYS51cmkucGF0aC5wYXJzZShwYXRoKTsKICAgICAgCiAgICAgIFN0cmluZyBmaWxlID0gbnVs
bDsKICAgICAgaWYgKCFwYXRoLmVuZHNXaXRoKCIvIikpIHsKICAgICAgICBmaWxlID0gdHVuZHJh
Lmxpc3Qub2JqZWN0LmdldChwYXRocywgLTEpOyAKICAgICAgICBwYXRocyA9IHR1bmRyYS5saXN0
Lm9iamVjdC5kcm9wKHBhdGhzLCAtMSk7CiAgICAgIH0KCiAgICAgIGlmIChwYXRocyAhPSBudWxs
ICYmIHBhdGhzLmxlbmd0aCA+IDApIElEYXRhVXRpbC5wdXQob2MsICJwYXRoIiwgcGF0aHMpOwog
ICAgICBpZiAoZmlsZSAhPSBudWxsICYmICFmaWxlLmVxdWFscygiIikpIElEYXRhVXRpbC5wdXQo
b2MsICJmaWxlIiwgZmlsZSk7CgogICAgICBxdWVyeSA9IHVyaS5nZXRSYXdRdWVyeSgpOwogICAg
fQogICAgSURhdGEgcXVlcnlEb2N1bWVudCA9IHR1bmRyYS51cmkucXVlcnkucGFyc2UocXVlcnks
IHRydWUpOwogICAgaWYgKHF1ZXJ5RG9jdW1lbnQgIT0gbnVsbCkgSURhdGFVdGlsLnB1dChvYywg
InF1ZXJ5IiwgcXVlcnlEb2N1bWVudCk7CgogICAgU3RyaW5nIGZyYWdtZW50ID0gdXJpLmdldEZy
YWdtZW50KCk7CiAgICBpZiAoZnJhZ21lbnQgIT0gbnVsbCkgSURhdGFVdGlsLnB1dChvYywgImZy
YWdtZW50IiwgZnJhZ21lbnQpOwoKICAgIElEYXRhVXRpbC5wdXQob2MsICJhYnNvbHV0ZT8iLCAi
IiArIHVyaS5pc0Fic29sdXRlKCkpOwogICAgSURhdGFVdGlsLnB1dChvYywgIm9wYXF1ZT8iLCAi
IiArIHVyaS5pc09wYXF1ZSgpKTsKICB9IGNhdGNoKGphdmEubmV0LlVSSVN5bnRheEV4Y2VwdGlv
biBleCkgewogICAgdHVuZHJhLmV4Y2VwdGlvbi5yYWlzZShleCk7CiAgfSBmaW5hbGx5IHsKICAg
IG9jLmRlc3Ryb3koKTsKICB9CgogIHJldHVybiBvdXRwdXQ7Cn0KCi8vIGVtaXRzIGEgVVJJIGFz
IGEgc3RyaW5nCnB1YmxpYyBzdGF0aWMgU3RyaW5nIGVtaXQoSURhdGEgaW5wdXQsIGJvb2xlYW4g
d2hhdGV2ZXIpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICBpZiAoaW5wdXQgPT0gbnVsbCkg
cmV0dXJuIG51bGw7CgogIFN0cmluZyBvdXRwdXQgPSBudWxsOwogIElEYXRhQ3Vyc29yIGN1cnNv
ciA9IGlucHV0LmdldEN1cnNvcigpOwoKICB0cnkgewogICAgamF2YS5uZXQuVVJJIHVyaSA9IG51
bGw7CiAgICBTdHJpbmcgdHlwZSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoY3Vyc29yLCAidHlwZSIp
OwogICAgCiAgICBTdHJpbmcgc2NoZW1lID0gSURhdGFVdGlsLmdldFN0cmluZyhjdXJzb3IsICJz
Y2hlbWUiKTsKICAgIC8vIHNjaGVtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUsIGFjY29yZGluZyB0
byBSRkMgMjM5NgogICAgaWYgKHNjaGVtZSAhPSBudWxsKSBzY2hlbWUgPSBzY2hlbWUudG9Mb3dl
ckNhc2UoKTsKCiAgICBTdHJpbmcgZnJhZ21lbnQgPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKGN1cnNv
ciwgImZyYWdtZW50Iik7CiAgICBJRGF0YSBxdWVyeURvY3VtZW50ID0gSURhdGFVdGlsLmdldElE
YXRhKGN1cnNvciwgInF1ZXJ5Iik7CiAgICBTdHJpbmcgcXVlcnkgPSB0dW5kcmEudXJpLnF1ZXJ5
LmVtaXQocXVlcnlEb2N1bWVudCwgdHJ1ZSk7CgogICAgU3RyaW5nIGJvZHkgPSBJRGF0YVV0aWwu
Z2V0U3RyaW5nKGN1cnNvciwgImJvZHkiKTsKICAgIElEYXRhIGF1dGhvcml0eSA9IElEYXRhVXRp
bC5nZXRJRGF0YShjdXJzb3IsICJhdXRob3JpdHkiKTsKICAgIFN0cmluZ1tdIHBhdGhzID0gSURh
dGFVdGlsLmdldFN0cmluZ0FycmF5KGN1cnNvciwgInBhdGgiKTsKICAgIFN0cmluZyBmaWxlID0g
SURhdGFVdGlsLmdldFN0cmluZyhjdXJzb3IsICJmaWxlIik7CgogICAgaWYgKGJvZHkgPT0gbnVs
bCAmJiAhKGF1dGhvcml0eSA9PSBudWxsICYmIHBhdGhzID09IG51bGwgJiYgZmlsZSA9PSBudWxs
KSkgewogICAgICAvLyBjcmVhdGUgYW4gaGllcmFyY2hpY2FsIFVSSQogICAgICBTdHJpbmcgcGF0
aCA9ICIiOwogICAgICBpZiAocGF0aHMgIT0gbnVsbCkgewogICAgICAgIHBhdGggPSAiLyIgKyB0
dW5kcmEubGlzdC5vYmplY3Quam9pbihwYXRocywgIi8iKTsKICAgICAgfQogICAgICBwYXRoID0g
cGF0aCArICIvIjsKICAgICAgaWYgKGZpbGUgIT0gbnVsbCkgewogICAgICAgIHBhdGggPSBwYXRo
ICsgZmlsZTsKICAgICAgfQogIAogICAgICBpZiAoYXV0aG9yaXR5ID09IG51bGwpIHsKICAgICAg
ICB1cmkgPSBuZXcgamF2YS5uZXQuVVJJKHNjaGVtZSwgbnVsbCwgcGF0aCwgbnVsbCwgbnVsbCk7
CiAgICAgIH0gZWxzZSB7CiAgICAgICAgSURhdGFDdXJzb3IgYWMgPSBhdXRob3JpdHkuZ2V0Q3Vy
c29yKCk7CiAgICAgICAgU3RyaW5nIHJlZ2lzdHJ5ID0gSURhdGFVdGlsLmdldFN0cmluZyhhYywg
InJlZ2lzdHJ5Iik7CiAgICAgICAgSURhdGEgc2VydmVyID0gSURhdGFVdGlsLmdldElEYXRhKGFj
LCAic2VydmVyIik7CiAgICAgICAgYWMuZGVzdHJveSgpOwoKICAgICAgICBpZiAocmVnaXN0cnkg
PT0gbnVsbCkgewogICAgICAgICAgSURhdGFDdXJzb3Igc2MgPSBzZXJ2ZXIuZ2V0Q3Vyc29yKCk7
CiAgICAgICAgICBTdHJpbmcgaG9zdCA9IElEYXRhVXRpbC5nZXRTdHJpbmcoc2MsICJob3N0Iik7
CiAgICAgICAgICAvLyBob3N0cyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSwgYWNjb3JkaW5nIHRvIFJG
QyAyMzk2CiAgICAgICAgICBpZiAoaG9zdCAhPSBudWxsKSBob3N0ID0gaG9zdC50b0xvd2VyQ2Fz
ZSgpOwoKICAgICAgICAgIFN0cmluZyBwb3J0U3RyaW5nID0gSURhdGFVdGlsLmdldFN0cmluZyhz
YywgInBvcnQiKTsKICAgICAgICAgIGludCBwb3J0ID0gLTE7CiAgICAgICAgICBpZiAocG9ydFN0
cmluZyAhPSBudWxsKSBwb3J0ID0gSW50ZWdlci5wYXJzZUludChwb3J0U3RyaW5nKTsKCiAgICAg
ICAgICBTdHJpbmcgdXNlcmluZm8gPSBJRGF0YVV0aWwuZ2V0U3RyaW5nKHNjLCAidXNlciIpOwog
ICAgICAgICAgU3RyaW5nIHBhc3N3b3JkID0gSURhdGFVdGlsLmdldFN0cmluZyhzYywgInBhc3N3
b3JkIik7CiAgICAgICAgICBpZiAocGFzc3dvcmQgIT0gbnVsbCkgdXNlcmluZm8gPSB1c2VyaW5m
byArICI6IiArIHBhc3N3b3JkOwoKICAgICAgICAgIHNjLmRlc3Ryb3koKTsKICAgICAgICAgIHVy
aSA9IG5ldyBqYXZhLm5ldC5VUkkoc2NoZW1lLCB1c2VyaW5mbywgaG9zdCwgcG9ydCwgcGF0aCwg
bnVsbCwgbnVsbCk7ICAKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdXJpID0gbmV3IGphdmEu
bmV0LlVSSShzY2hlbWUsIHJlZ2lzdHJ5LCBwYXRoLCBudWxsLCBudWxsKTsKICAgICAgICB9CiAg
ICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHVyaSA9IG5ldyBqYXZhLm5ldC5VUkkoc2NoZW1lLCBi
b2R5LCBudWxsKTsKICAgIH0KICAgIG91dHB1dCA9IHVyaS5ub3JtYWxpemUoKS50b0FTQ0lJU3Ry
aW5nKCk7CiAgICBpZiAocXVlcnkgIT0gbnVsbCkgb3V0cHV0ID0gb3V0cHV0ICsgIj8iICsgcXVl
cnk7CiAgICBpZiAoZnJhZ21lbnQgIT0gbnVsbCkgb3V0cHV0ID0gb3V0cHV0ICsgIiMiICsgdHVu
ZHJhLnVyaS5lbmNvZGUoZnJhZ21lbnQpOwoKICAgIC8vIHN1cHBvcnQgV2luZG93cyBVTkMgZmls
ZSBVUklzLCBhbmQgd29yay1hcm91bmQgamF2YSBidWcgd2l0aCAKICAgIC8vIGZpbGUgVVJJcyB3
aGVyZSBzY2hlbWUgaXMgZm9sbG93ZWQgYnkgJzovJyByYXRoZXIgdGhhbiAnOi8vJwogICAgaWYg
KG91dHB1dC5zdGFydHNXaXRoKCJmaWxlOiIpICYmIHVyaS5nZXRIb3N0KCkgPT0gbnVsbCkgewog
ICAgICBvdXRwdXQgPSAiZmlsZTovLyIgKyBvdXRwdXQuc3Vic3RyaW5nKDUsIG91dHB1dC5sZW5n
dGgoKSk7ICAKICAgIH0KICB9IGNhdGNoKGphdmEubmV0LlVSSVN5bnRheEV4Y2VwdGlvbiBleCkg
ewogICAgdHVuZHJhLmV4Y2VwdGlvbi5yYWlzZShleCk7CiAgfSBmaW5hbGx5IHsKICAgIGN1cnNv
ci5kZXN0cm95KCk7IAogIH0KICAKICByZXR1cm4gb3V0cHV0Owp9CgovLyBub3JtYWxpemVzIGEg
VVJJIHN0cmluZywgcmVmZXIgPGh0dHA6Ly9kb2NzLm9yYWNsZS5jb20vamF2YXNlLzYvZG9jcy9h
cGkvamF2YS9uZXQvVVJJLmh0bWwjbm9ybWFsaXplKCk+CnB1YmxpYyBzdGF0aWMgU3RyaW5nIG5v
cm1hbGl6ZShTdHJpbmcgaW5wdXQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICByZXR1cm4g
ZW1pdChwYXJzZShpbnB1dCksIHRydWUpOwp9CgovLyBVUkwgZW5jb2RlcyBhIHN0cmluZywgcmVm
ZXIgPGh0dHA6Ly9kb2NzLm9yYWNsZS5jb20vamF2YXNlLzYvZG9jcy9hcGkvamF2YS9uZXQvVVJM
RW5jb2Rlci5odG1sPgpwdWJsaWMgc3RhdGljIFN0cmluZyBlbmNvZGUoU3RyaW5nIGlucHV0KSB0
aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJuIGVuY29kZShpbnB1dCwgREVGQVVMVF9D
SEFSQUNURVJfRU5DT0RJTkcpOwp9CgovLyBVUkwgZW5jb2RlcyBhIHN0cmluZywgcmVmZXIgPGh0
dHA6Ly9kb2NzLm9yYWNsZS5jb20vamF2YXNlLzYvZG9jcy9hcGkvamF2YS9uZXQvVVJMRW5jb2Rl
ci5odG1sPgpwdWJsaWMgc3RhdGljIFN0cmluZyBlbmNvZGUoU3RyaW5nIGlucHV0LCBTdHJpbmcg
ZW5jb2RpbmcpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICBpZiAoaW5wdXQgPT0gbnVsbCkg
cmV0dXJuIG51bGw7CiAgaWYgKGVuY29kaW5nID09IG51bGwpIGVuY29kaW5nID0gREVGQVVMVF9D
SEFSQUNURVJfRU5DT0RJTkc7ICAKCiAgU3RyaW5nIG91dHB1dCA9IG51bGw7CiAgdHJ5IHsKICAg
IG91dHB1dCA9ICBqYXZhLm5ldC5VUkxFbmNvZGVyLmVuY29kZShpbnB1dCwgZW5jb2RpbmcpLnJl
cGxhY2UoIisiLCAiJTIwIik7CiAgfSBjYXRjaChqYXZhLmlvLlVuc3VwcG9ydGVkRW5jb2RpbmdF
eGNlcHRpb24gZXgpIHsKICAgIHR1bmRyYS5leGNlcHRpb24ucmFpc2UoZXgpOwogIH0KICByZXR1
cm4gb3V0cHV0Owp9CgovLyBVUkwgZW5jb2RlcyBhIHN0cmluZywgcmVmZXIgPGh0dHA6Ly9kb2Nz
Lm9yYWNsZS5jb20vamF2YXNlLzYvZG9jcy9hcGkvamF2YS9uZXQvVVJMRW5jb2Rlci5odG1sPgpw
dWJsaWMgc3RhdGljIFN0cmluZ1tdIGVuY29kZShTdHJpbmdbXSBpbnB1dCkgdGhyb3dzIFNlcnZp
Y2VFeGNlcHRpb24gewogIHJldHVybiBlbmNvZGUoaW5wdXQsIERFRkFVTFRfQ0hBUkFDVEVSX0VO
Q09ESU5HKTsKfQoKLy8gVVJMIGVuY29kZXMgYSBzdHJpbmcsIHJlZmVyIDxodHRwOi8vZG9jcy5v
cmFjbGUuY29tL2phdmFzZS82L2RvY3MvYXBpL2phdmEvbmV0L1VSTEVuY29kZXIuaHRtbD4KcHVi
bGljIHN0YXRpYyBTdHJpbmdbXSBlbmNvZGUoU3RyaW5nW10gaW5wdXQsIFN0cmluZyBlbmNvZGlu
ZykgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIGlmIChpbnB1dCA9PSBudWxsKSByZXR1cm4g
bnVsbDsKCiAgU3RyaW5nW10gb3V0cHV0ID0gbmV3IFN0cmluZ1tpbnB1dC5sZW5ndGhdOwogIAog
IGZvciAoaW50IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgIG91dHB1dFtpXSA9
IGVuY29kZShpbnB1dFtpXSwgZW5jb2RpbmcpOwogIH0KCiAgcmV0dXJuIG91dHB1dDsKfQoKLy8g
VVJMIGRlY29kZXMgYSBzdHJpbmcsIHJlZmVyIDxodHRwOi8vZG9jcy5vcmFjbGUuY29tL2phdmFz
ZS82L2RvY3MvYXBpL2phdmEvbmV0L1VSTERlY29kZXIuaHRtbD4KcHVibGljIHN0YXRpYyBTdHJp
bmcgZGVjb2RlKFN0cmluZyBpbnB1dCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIHJldHVy
biBkZWNvZGUoaW5wdXQsIERFRkFVTFRfQ0hBUkFDVEVSX0VOQ09ESU5HKTsKfQoKLy8gVVJMIGRl
Y29kZXMgYSBzdHJpbmcsIHJlZmVyIDxodHRwOi8vZG9jcy5vcmFjbGUuY29tL2phdmFzZS82L2Rv
Y3MvYXBpL2phdmEvbmV0L1VSTERlY29kZXIuaHRtbD4KcHVibGljIHN0YXRpYyBTdHJpbmcgZGVj
b2RlKFN0cmluZyBpbnB1dCwgU3RyaW5nIGVuY29kaW5nKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlv
biB7CiAgaWYgKGlucHV0ID09IG51bGwpIHJldHVybiBudWxsOwogIGlmIChlbmNvZGluZyA9PSBu
dWxsKSBlbmNvZGluZyA9IERFRkFVTFRfQ0hBUkFDVEVSX0VOQ09ESU5HOwoKICBTdHJpbmcgb3V0
cHV0ID0gbnVsbDsKICB0cnkgewogICAgb3V0cHV0ID0gamF2YS5uZXQuVVJMRGVjb2Rlci5kZWNv
ZGUoaW5wdXQsIGVuY29kaW5nKTsKICB9IGNhdGNoKGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGlu
Z0V4Y2VwdGlvbiBleCkgewogICAgdHVuZHJhLmV4Y2VwdGlvbi5yYWlzZShleCk7CiAgfQogIHJl
dHVybiBvdXRwdXQ7Cn0KCi8vIFVSTCBkZWNvZGVzIGEgc3RyaW5nLCByZWZlciA8aHR0cDovL2Rv
Y3Mub3JhY2xlLmNvbS9qYXZhc2UvNi9kb2NzL2FwaS9qYXZhL25ldC9VUkxEZWNvZGVyLmh0bWw+
CnB1YmxpYyBzdGF0aWMgU3RyaW5nW10gZGVjb2RlKFN0cmluZ1tdIGlucHV0KSB0aHJvd3MgU2Vy
dmljZUV4Y2VwdGlvbiB7CiAgcmV0dXJuIGRlY29kZShpbnB1dCwgREVGQVVMVF9DSEFSQUNURVJf
RU5DT0RJTkcpOwp9CgovLyBVUkwgZGVjb2RlcyBhIHN0cmluZywgcmVmZXIgPGh0dHA6Ly9kb2Nz
Lm9yYWNsZS5jb20vamF2YXNlLzYvZG9jcy9hcGkvamF2YS9uZXQvVVJMRGVjb2Rlci5odG1sPgpw
dWJsaWMgc3RhdGljIFN0cmluZ1tdIGRlY29kZShTdHJpbmdbXSBpbnB1dCwgU3RyaW5nIGVuY29k
aW5nKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgaWYgKGlucHV0ID09IG51bGwpIHJldHVy
biBudWxsOwoKICBTdHJpbmdbXSBvdXRwdXQgPSBuZXcgU3RyaW5nW2lucHV0Lmxlbmd0aF07Cgog
IGZvciAoaW50IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgIG91dHB1dFtpXSA9
IGRlY29kZShpbnB1dFtpXSwgZW5jb2RpbmcpOwogIH0KCiAgcmV0dXJuIG91dHB1dDsKfQoKcHVi
bGljIHN0YXRpYyBjbGFzcyBwYXRoIHsKICBwdWJsaWMgc3RhdGljIGZpbmFsIGphdmEudXRpbC5y
ZWdleC5QYXR0ZXJuIFBBVEhfUEFUVEVSTiA9IGphdmEudXRpbC5yZWdleC5QYXR0ZXJuLmNvbXBp
bGUoIi8rIik7CgogIC8vIHBhcnNlcyBhIFVSSSBwYXRoIHN0cmluZywgd2l0aCBzdXBwb3J0IGZv
ciB2YXJpYWJsZSBzdWJzdGl0dXRpb24gc3RyaW5ncwogIHB1YmxpYyBzdGF0aWMgU3RyaW5nW10g
cGFyc2UoU3RyaW5nIGlucHV0KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICBpZiAoaW5w
dXQgPT0gbnVsbCB8fCBpbnB1dC5lcXVhbHMoIiIpIHx8IGlucHV0LmVxdWFscygiLyIpKSByZXR1
cm4gbnVsbDsKICAgIGlmIChpbnB1dC5zdGFydHNXaXRoKCIvIikpIGlucHV0ID0gaW5wdXQuc3Vi
c3RyaW5nKDEsIGlucHV0Lmxlbmd0aCgpKTsKICAgIGlmIChpbnB1dC5lbmRzV2l0aCgiLyIpKSBp
bnB1dCA9IGlucHV0LnN1YnN0cmluZygwLCBpbnB1dC5sZW5ndGgoKSAtIDEpOwoKICAgIGphdmEu
dXRpbC5MaXN0PFN0cmluZz4gbGlzdCA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PFN0cmluZz4o
KTsKICAgIGphdmEudXRpbC5yZWdleC5NYXRjaGVyIHN1YnN0aXR1dGlvbk1hdGNoZXIgPSB0dW5k
cmEuc3RyaW5nLlNVQlNUSVRVVElPTl9QQVRURVJOLm1hdGNoZXIoaW5wdXQpOwoKICAgIGludCBp
bmRleCA9IDA7CiAgICB3aGlsZShzdWJzdGl0dXRpb25NYXRjaGVyLmZpbmQoKSkgewogICAgICBp
bnQgc3RhcnQgPSBzdWJzdGl0dXRpb25NYXRjaGVyLnN0YXJ0KCk7CiAgICAgIGludCBlbmQgPSBz
dWJzdGl0dXRpb25NYXRjaGVyLmVuZCgpOwoKICAgICAgaWYgKGluZGV4IDw9IHN0YXJ0KSBzcGxp
dChpbnB1dC5zdWJzdHJpbmcoaW5kZXgsIHN0YXJ0KSwgbGlzdCk7CiAgICAgIGFwcGVuZChzdWJz
dGl0dXRpb25NYXRjaGVyLmdyb3VwKCksIGxpc3QpOwoKICAgICAgaW5kZXggPSBlbmQ7CiAgICB9
CiAgICBpZiAoaW5kZXggPD0gaW5wdXQubGVuZ3RoKCkpIHNwbGl0KGlucHV0LnN1YnN0cmluZyhp
bmRleCksIGxpc3QpOwoKICAgIHJldHVybiB0dW5kcmEubGlzdC5vYmplY3QuY29tcGFjdCgoU3Ry
aW5nW10pbGlzdC50b0FycmF5KG5ldyBTdHJpbmdbMF0pKTsKICB9CgogIHByb3RlY3RlZCBzdGF0
aWMgdm9pZCBhcHBlbmQoU3RyaW5nIGl0ZW0sIGphdmEudXRpbC5MaXN0PFN0cmluZz4gbGlzdCkg
ewogICAgaW50IGkgPSBsaXN0LnNpemUoKSAtIDE7CiAgICBpZiAoaSA8IDApIHsKICAgICAgbGlz
dC5hZGQoaXRlbSk7CiAgICB9IGVsc2UgewogICAgICBsaXN0LnNldChpLCBsaXN0LmdldChpKSAr
IGl0ZW0pOwogICAgfQogIH0KCiAgcHJvdGVjdGVkIHN0YXRpYyB2b2lkIHNwbGl0KFN0cmluZyBp
bnB1dCwgamF2YS51dGlsLkxpc3Q8U3RyaW5nPiBsaXN0KSB7CiAgICBqYXZhLnV0aWwucmVnZXgu
TWF0Y2hlciBtYXRjaGVyID0gUEFUSF9QQVRURVJOLm1hdGNoZXIoaW5wdXQpOwoKICAgIGludCBp
bmRleCA9IDA7CiAgICB3aGlsZShtYXRjaGVyLmZpbmQoKSkgewogICAgICBpbnQgc3RhcnQgPSBt
YXRjaGVyLnN0YXJ0KCk7CiAgICAgIGludCBlbmQgPSBtYXRjaGVyLmVuZCgpOwoKICAgICAgaWYg
KGluZGV4IDw9IHN0YXJ0KSBhcHBlbmQoaW5wdXQuc3Vic3RyaW5nKGluZGV4LCBzdGFydCksIGxp
c3QpOwogICAgICBsaXN0LmFkZCgiIik7CgogICAgICBpbmRleCA9IGVuZDsKICAgIH0KICAgIGlm
IChpbmRleCA8PSBpbnB1dC5sZW5ndGgoKSkgYXBwZW5kKGlucHV0LnN1YnN0cmluZyhpbmRleCks
IGxpc3QpOwogIH0KfQoKcHVibGljIHN0YXRpYyBjbGFzcyBxdWVyeSB7CiAgLy8gcGFyc2VzIGEg
cXVlcnkgc3RyaW5nCiAgcHVibGljIHN0YXRpYyBJRGF0YSBwYXJzZShTdHJpbmcgaW5wdXQsIGJv
b2xlYW4gZGVjb2RlKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICByZXR1cm4gcGFyc2Uo
aW5wdXQsIG51bGwsIGRlY29kZSk7CiAgfQoKICAvLyBwYXJzZXMgYSBxdWVyeSBzdHJpbmcKICBw
dWJsaWMgc3RhdGljIElEYXRhIHBhcnNlKFN0cmluZyBpbnB1dCwgU3RyaW5nIGVuY29kaW5nLCBi
b29sZWFuIGRlY29kZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogICAgaWYgKGlucHV0ID09
IG51bGwpIHJldHVybiBudWxsOwogICAgaWYgKGVuY29kaW5nID09IG51bGwpIGVuY29kaW5nID0g
REVGQVVMVF9DSEFSQUNURVJfRU5DT0RJTkc7CgogICAgSURhdGEgb3V0cHV0ID0gSURhdGFGYWN0
b3J5LmNyZWF0ZSgpOwogICAgSURhdGFDdXJzb3IgY3Vyc29yID0gb3V0cHV0LmdldEN1cnNvcigp
OwoKICAgIGZvciAoU3RyaW5nIHBhaXIgOiBpbnB1dC5zcGxpdCgiJiIpKSB7CiAgICAgIFN0cmlu
Z1tdIHRva2VucyA9IHBhaXIuc3BsaXQoIj0iKTsKICAgICAgU3RyaW5nIG5hbWUgPSB0b2tlbnMu
bGVuZ3RoID4gMCA/IHRva2Vuc1swXSA6ICIiOwogICAgICBTdHJpbmcgdmFsdWUgPSB0b2tlbnMu
bGVuZ3RoID4gMSA/IHRva2Vuc1sxXSA6ICIiOwoKICAgICAgaWYgKGRlY29kZSkgewogICAgICAg
IG5hbWUgPSB0dW5kcmEudXJpLmRlY29kZShuYW1lLCBlbmNvZGluZyk7CiAgICAgICAgdmFsdWUg
PSB0dW5kcmEudXJpLmRlY29kZSh2YWx1ZSwgZW5jb2RpbmcpOwogICAgICB9CgogICAgICBPYmpl
Y3QgZXhpc3RpbmcgPSBJRGF0YVV0aWwuZ2V0KGN1cnNvciwgbmFtZSk7CiAgICAgIGlmIChleGlz
dGluZyA9PSBudWxsKSB7CiAgICAgICAgSURhdGFVdGlsLnB1dChjdXJzb3IsIG5hbWUsIHZhbHVl
KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBzdXBwb3J0IGxpc3RzIGluIHF1ZXJ5IHN0cmlu
Z3M6IGE9MSZhPTImYT0zIHNob3VsZCBiZSBwYXJzZWQgdG8gYVtdID0geyAxLCAyLCAzIH0KICAg
ICAgICBTdHJpbmdbXSBhcnJheSA9IG51bGw7CiAgICAgICAgaWYgKGV4aXN0aW5nIGluc3RhbmNl
b2YgU3RyaW5nKSB7CiAgICAgICAgICBhcnJheSA9IG5ldyBTdHJpbmdbMl07CiAgICAgICAgICBh
cnJheVswXSA9IChTdHJpbmcpZXhpc3Rpbmc7CiAgICAgICAgICBhcnJheVsxXSA9IHZhbHVlOwog
ICAgICAgIH0gZWxzZSBpZiAoZXhpc3RpbmcgaW5zdGFuY2VvZiBTdHJpbmdbXSkgewogICAgICAg
ICAgYXJyYXkgPSB0dW5kcmEubGlzdC5vYmplY3QuYXBwZW5kKChTdHJpbmdbXSlleGlzdGluZywg
dmFsdWUsIFN0cmluZy5jbGFzcyk7CiAgICAgICAgfQogICAgICAgIElEYXRhVXRpbC5wdXQoY3Vy
c29yLCBuYW1lLCBhcnJheSk7CiAgICAgIH0gICAgICAKICAgIH0KCiAgICBjdXJzb3IuZGVzdHJv
eSgpOwoKICAgIHJldHVybiBvdXRwdXQ7CiAgfQoKICAvLyBlbWl0cyBhIHF1ZXJ5IHN0cmluZyBn
aXZlbiBhIG5hbWUgYW5kIHZhbHVlCiAgcHVibGljIHN0YXRpYyBTdHJpbmcgZW1pdChTdHJpbmcg
bmFtZSwgT2JqZWN0IHZhbHVlLCBTdHJpbmcgZW5jb2RpbmcsIGJvb2xlYW4gZW5jb2RlKSB0aHJv
d3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICBpZiAoZW5jb2RlKSB7CiAgICAgIG5hbWUgPSB0dW5k
cmEudXJpLmVuY29kZShuYW1lLCBlbmNvZGluZyk7CiAgICAgIHZhbHVlID0gdHVuZHJhLnVyaS5l
bmNvZGUodmFsdWUudG9TdHJpbmcoKSwgZW5jb2RpbmcpOwogICAgfQogICAgcmV0dXJuIG5hbWUg
KyAiPSIgKyB2YWx1ZTsKICB9CgogIC8vIGVtaXRzIGEgcXVlcnkgc3RyaW5nIGdpdmVuIGEgbmFt
ZSBhbmQgYXJyYXkgb2YgdmFsdWVzCiAgcHVibGljIHN0YXRpYyBTdHJpbmcgZW1pdChTdHJpbmcg
bmFtZSwgT2JqZWN0W10gdmFsdWVzLCBTdHJpbmcgZW5jb2RpbmcsIGJvb2xlYW4gZW5jb2RlKSB0
aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgICBTdHJpbmdCdWlsZGVyIG91dHB1dCA9IG5ldyBT
dHJpbmdCdWlsZGVyKCk7CiAgICBmb3IoT2JqZWN0IHZhbHVlIDogdmFsdWVzKSB7CiAgICAgIGlm
IChvdXRwdXQubGVuZ3RoKCkgPiAwKSBvdXRwdXQuYXBwZW5kKCImIik7CiAgICAgIG91dHB1dC5h
cHBlbmQoZW1pdChuYW1lLCB2YWx1ZSwgZW5jb2RpbmcsIGVuY29kZSkpOwogICAgfQogICAgcmV0
dXJuIG91dHB1dC50b1N0cmluZygpOwogIH0KCiAgLy8gZW1pdHMgYSBxdWVyeSBzdHJpbmcgZ2l2
ZW4gYW4gSURhdGEgY29udGFpbmluZyBuYW1lL3ZhbHVlIHBhaXJzCiAgcHVibGljIHN0YXRpYyBT
dHJpbmcgZW1pdChJRGF0YSBpbnB1dCwgYm9vbGVhbiBlbmNvZGUpIHRocm93cyBTZXJ2aWNlRXhj
ZXB0aW9uIHsKICAgIHJldHVybiBlbWl0KGlucHV0LCBudWxsLCBlbmNvZGUpOwogIH0KCiAgLy8g
ZW1pdHMgYSBxdWVyeSBzdHJpbmcgZ2l2ZW4gYW4gSURhdGEgY29udGFpbmluZyBuYW1lL3ZhbHVl
IHBhaXJzCiAgcHVibGljIHN0YXRpYyBTdHJpbmcgZW1pdChJRGF0YSBpbnB1dCwgU3RyaW5nIGVu
Y29kaW5nLCBib29sZWFuIGVuY29kZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogICAgaWYg
KGlucHV0ID09IG51bGwpIHJldHVybiBudWxsOwogICAgaWYgKGVuY29kaW5nID09IG51bGwpIGVu
Y29kaW5nID0gREVGQVVMVF9DSEFSQUNURVJfRU5DT0RJTkc7CgogICAgU3RyaW5nQnVpbGRlciBv
dXRwdXQgPSBuZXcgU3RyaW5nQnVpbGRlcigpOwoKICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9IGlu
cHV0LmdldEN1cnNvcigpOwogICAgd2hpbGUoY3Vyc29yLm5leHQoKSkgewogICAgICBTdHJpbmcg
a2V5ID0gY3Vyc29yLmdldEtleSgpOwogICAgICBPYmplY3QgdmFsdWUgPSBjdXJzb3IuZ2V0VmFs
dWUoKTsKCiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgaWYgKG91dHB1dC5sZW5n
dGgoKSA+IDApIG91dHB1dC5hcHBlbmQoIiYiKTsKICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2Vv
ZiBPYmplY3RbXSkgewogICAgICAgICAgb3V0cHV0LmFwcGVuZChlbWl0KGtleSwgKE9iamVjdFtd
KXZhbHVlLCBlbmNvZGluZywgZW5jb2RlKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG91
dHB1dC5hcHBlbmQoZW1pdChrZXksIHZhbHVlLCBlbmNvZGluZywgZW5jb2RlKSk7CiAgICAgICAg
fQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG91dHB1dC50b1N0cmluZygpOwogIH0KfQ==</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
  </array>
</Values>
