<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.list.object</value>
  <value name="shared">Ly8gcmV0dXJucyBhIG5ldyBhcnJheSwgd2l0aCB0aGUgZ2l2ZW4gZWxlbWVudCBpbnNlcnRlZCBh
dCB0aGUgZW5kCnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBhcHBlbmQoVFtdIGFycmF5LCBUIGl0ZW0s
IENsYXNzPFQ+IGtsYXNzKSB7CiAgcmV0dXJuIGluc2VydChhcnJheSwgaXRlbSwgLTEsIGtsYXNz
KTsKfQoKLy8gcmV0dXJucyBhIG5ldyBhcnJheSwgd2l0aCB0aGUgZ2l2ZW4gZWxlbWVudCBpbnNl
cnRlZCBhdCB0aGUgZW5kCnB1YmxpYyBzdGF0aWMgPFQ+IHZvaWQgYXBwZW5kKElEYXRhIHBpcGVs
aW5lLCBDbGFzczxUPiBrbGFzcykgewogIElEYXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVsaW5lLmdl
dEN1cnNvcigpOwoKICB0cnkgewogICAgVFtdIGxpc3QgPSAoVFtdKUlEYXRhVXRpbC5nZXRPYmpl
Y3RBcnJheShjdXJzb3IsICIkbGlzdCIpOwogICAgVCBpdGVtID0gKFQpSURhdGFVdGlsLmdldChj
dXJzb3IsICIkaXRlbSIpOwoKICAgIGxpc3QgPSBhcHBlbmQobGlzdCA9PSBudWxsID8gbnVsbCA6
IGphdmEudXRpbC5BcnJheXMuY29weU9mKGxpc3QsIGxpc3QubGVuZ3RoLCAoQ2xhc3M8VFtdPilq
YXZhLmxhbmcucmVmbGVjdC5BcnJheS5uZXdJbnN0YW5jZShrbGFzcywgMCkuZ2V0Q2xhc3MoKSks
IGl0ZW0sIGtsYXNzKTsKCiAgICBpZiAobGlzdCAhPSBudWxsKSBJRGF0YVV0aWwucHV0KGN1cnNv
ciwgIiRsaXN0IiwgbGlzdCk7CiAgfSBmaW5hbGx5IHsKICAgIGN1cnNvci5kZXN0cm95KCk7CiAg
fQp9CgovLyByZXR1cm5zIHRoZSBmaXJzdCBub24tbnVsbCBpdGVtIGZyb20gdGhlIGdpdmVuIGxp
c3QsIG9yIGRlZmF1bHRWYWx1ZSBpZiBhbGwgaXRlbXMgYXJlIG51bGwKcHVibGljIHN0YXRpYyA8
VD4gVCBjb2FsZXNjZShUW10gbGlzdCwgVCBkZWZhdWx0VmFsdWUpIHsgCiAgVCByZXN1bHQgPSBu
dWxsOwoKICBpZiAobGlzdCAhPSBudWxsICYmIGxpc3QubGVuZ3RoID4gMCkgeyAgCiAgICBmb3Ig
KGludCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0ID0gbGlzdFtp
XTsKICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSBicmVhazsKICAgIH0KICB9CiAgaWYgKHJlc3Vs
dCA9PSBudWxsKSByZXN1bHQgPSBkZWZhdWx0VmFsdWU7CgogIHJldHVybiByZXN1bHQ7Cn0KCi8v
IHJldHVybnMgdGhlIGZpcnN0IG5vbi1udWxsIGl0ZW0gZnJvbSB0aGUgZ2l2ZW4gbGlzdApwdWJs
aWMgc3RhdGljIDxUPiBUIGNvYWxlc2NlKFRbXSBsaXN0KSB7IAogIHJldHVybiBjb2FsZXNjZShs
aXN0LCBudWxsKTsKfQoKLy8gcmV0dXJucyBhIG5ldyBhcnJheSB3aXRoIGFsbCBudWxsIGVsZW1l
bnRzIHJlbW92ZWQKcHVibGljIHN0YXRpYyA8VD4gVFtdIGNvbXBhY3QoVFtdIGFycmF5KSB7CiAg
aWYgKGFycmF5ID09IG51bGwpIHJldHVybiBhcnJheTsKICAKICBqYXZhLnV0aWwuTGlzdDxUPiBs
aXN0ID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8VD4oYXJyYXkubGVuZ3RoKTsKCiAgZm9yIChp
bnQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgaWYgKGFycmF5W2ldICE9IG51
bGwpIGxpc3QuYWRkKGFycmF5W2ldKTsKICB9CiAgCiAgcmV0dXJuIGxpc3QudG9BcnJheShqYXZh
LnV0aWwuQXJyYXlzLmNvcHlPZihhcnJheSwgMCkpOwp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5
IHdoaWNoIGNvbnRhaW5zIGFsbCB0aGUgZWxlbWVudHMgZnJvbSB0aGUgZ2l2ZW4gYXJyYXlzCnB1
YmxpYyBzdGF0aWMgPFQ+IFRbXSBjb25jYXRlbmF0ZShUW10gYXJyYXksIFRbXSBpdGVtcykgewog
IGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gaXRlbXM7CiAgaWYgKGl0ZW1zID09IG51bGwpIHJl
dHVybiBhcnJheTsKCiAgamF2YS51dGlsLkxpc3Q8VD4gbGlzdCA9IG5ldyBqYXZhLnV0aWwuQXJy
YXlMaXN0PFQ+KGFycmF5Lmxlbmd0aCArIGl0ZW1zLmxlbmd0aCk7CiAgCiAgamF2YS51dGlsLkNv
bGxlY3Rpb25zLmFkZEFsbChsaXN0LCBhcnJheSk7CiAgamF2YS51dGlsLkNvbGxlY3Rpb25zLmFk
ZEFsbChsaXN0LCBpdGVtcyk7CiAgCiAgcmV0dXJuIGxpc3QudG9BcnJheShqYXZhLnV0aWwuQXJy
YXlzLmNvcHlPZihhcnJheSwgMCkpOwp9CgovLyByZXR1cm5zIG9ubHkgdGhlIGl0ZW1zIGluIHgg
dGhhdCBhcmUgbm90IGFsc28gaW4geQpwdWJsaWMgc3RhdGljIDxUPiBUW10gZGlmZmVyZW5jZShU
W10geCwgVFtdIHkpIHsKICBpZiAoeCA9PSBudWxsIHx8IHkgPT0gbnVsbCkgcmV0dXJuIHg7Cgog
IGphdmEudXRpbC5MaXN0PFQ+IGQgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxUPih4Lmxlbmd0
aCk7CiAgZC5hZGRBbGwoamF2YS51dGlsLkFycmF5cy5hc0xpc3QoeCkpOwogIGQucmVtb3ZlQWxs
KGphdmEudXRpbC5BcnJheXMuYXNMaXN0KHkpKTsKICAKICByZXR1cm4gZC50b0FycmF5KGphdmEu
dXRpbC5BcnJheXMuY29weU9mKHgsIDApKTsKfQoKLy8gcmVtb3ZlcyB0aGUgZWxlbWVudCBhdCB0
aGUgZ2l2ZW4gaW5kZXggZnJvbSB0aGUgZ2l2ZW4gbGlzdApwdWJsaWMgc3RhdGljIDxUPiBUW10g
ZHJvcChUW10gYXJyYXksIFN0cmluZyBpbmRleCkgewogIHJldHVybiBkcm9wKGFycmF5LCBJbnRl
Z2VyLnBhcnNlSW50KGluZGV4KSk7Cn0KCi8vIHJlbW92ZXMgdGhlIGVsZW1lbnQgYXQgdGhlIGdp
dmVuIGluZGV4IGZyb20gdGhlIGdpdmVuIGxpc3QKcHVibGljIHN0YXRpYyA8VD4gVFtdIGRyb3Ao
VFtdIGFycmF5LCBpbnQgaW5kZXgpIHsKICBpZiAoYXJyYXkgIT0gbnVsbCkgewogICAgLy8gc3Vw
cG9ydCByZXZlcnNlL3RhaWwgaW5kZXhpbmcKICAgIGlmIChpbmRleCA8IDApIGluZGV4ICs9IGFy
cmF5Lmxlbmd0aDsKICAgIGlmIChpbmRleCA8IDAgfHwgYXJyYXkubGVuZ3RoIDw9IGluZGV4KSB0
aHJvdyBuZXcgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4KTsKCiAgICBUW10g
aGVhZCA9IHNsaWNlKGFycmF5LCAwLCBpbmRleCk7CiAgICBUW10gdGFpbCA9IHNsaWNlKGFycmF5
LCBpbmRleCArIDEsIGFycmF5Lmxlbmd0aCAtIGluZGV4KTsKCiAgICBhcnJheSA9IGNvbmNhdGVu
YXRlKGhlYWQsIHRhaWwpOyAgICAgIAogIH0KCiAgcmV0dXJuIGFycmF5Owp9CgovLyBpbnZva2Vz
IHRoZSBnaXZlbiBzZXJ2aWNlIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIGFycmF5CnB1YmxpYyBz
dGF0aWMgPFQ+IHZvaWQgZWFjaChUW10gYXJyYXksIFN0cmluZyBzZXJ2aWNlLCBJRGF0YSBwaXBl
bGluZSwgU3RyaW5nIGlucHV0KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgbWFwKGFycmF5
LCBzZXJ2aWNlLCBwaXBlbGluZSwgaW5wdXQsIG51bGwpOwp9CgovLyByZXR1cm5zIHRydWUgaWYg
dGhlIGdpdmVuIGFycmF5cyBhcmUgZXF1YWwKcHVibGljIHN0YXRpYyA8VD4gYm9vbGVhbiBlcXVh
bChUW10geCwgVFtdIHkpIHsKICBib29sZWFuIHJlc3VsdCA9IHRydWU7CgogIGlmICh4ICE9IG51
bGwgJiYgeSAhPSBudWxsKSB7CiAgICByZXN1bHQgPSAoeC5sZW5ndGggPT0geS5sZW5ndGgpOwoK
ICAgIGlmIChyZXN1bHQpIHsKICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsr
KSB7CiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICYmIHR1bmRyYS5vYmplY3QuZXF1YWwoeFtpXSwg
eVtpXSk7CiAgICAgICAgaWYgKCFyZXN1bHQpIGJyZWFrOwogICAgICB9CiAgICB9CiAgfSBlbHNl
IHsKICAgIHJlc3VsdCA9ICh4ID09IG51bGwgJiYgeSA9PSBudWxsKTsKICB9CgogIHJldHVybiBy
ZXN1bHQ7Cn0KCi8vIGZpbHRlcnMgdGhlIGdpdmVuIGxpc3QgdG8gb25seSBpbmNsdWRlIGl0ZW1z
IHdoZXJlIHRoZSAKLy8gZ2l2ZW4gY29uZGl0aW9uIGV2YWx1YXRlcyB0byB0cnVlCnB1YmxpYyBz
dGF0aWMgPFQ+IFRbXSBmaWx0ZXIoVFtdIGFycmF5LCBTdHJpbmcgY29uZGl0aW9uLCBJRGF0YSBw
aXBlbGluZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIGlmIChhcnJheSA9PSBudWxsIHx8
IGFycmF5Lmxlbmd0aCA9PSAwIHx8IGNvbmRpdGlvbiA9PSBudWxsIHx8IGNvbmRpdGlvbi5lcXVh
bHMoIiIpKSByZXR1cm4gYXJyYXk7CiAgaWYgKHBpcGVsaW5lID09IG51bGwpIHBpcGVsaW5lID0g
SURhdGFGYWN0b3J5LmNyZWF0ZSgpOwoKICBqYXZhLnV0aWwuQXJyYXlMaXN0PFQ+IGxpc3QgPSBu
ZXcgamF2YS51dGlsLkFycmF5TGlzdDxUPihhcnJheS5sZW5ndGgpOwoKICBmb3IgKGludCBpID0g
MDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBl
bGluZS5nZXRDdXJzb3IoKTsKICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAiJGl0ZW0iLCBhcnJh
eVtpXSk7CgogICAgaWYgKHR1bmRyYS5jb25kaXRpb24uZXZhbHVhdGUoY29uZGl0aW9uLCBwaXBl
bGluZSkpIGxpc3QuYWRkKGFycmF5W2ldKTsKICAgIAogICAgSURhdGFVdGlsLnJlbW92ZShjdXJz
b3IsICIkaXRlbSIpOwogICAgY3Vyc29yLmRlc3Ryb3koKTsKICB9CgogIHJldHVybiBsaXN0LnRv
QXJyYXkoamF2YS51dGlsLkFycmF5cy5jb3B5T2YoYXJyYXksIDApKTsgIAp9CgovLyByZXR1cm5z
IGEgbmV3IGFycmF5IHdoaWNoIGlzIGEgb25lLWRpbWVuc2lvbmFsIHJlY3Vyc2l2ZSBmbGF0dGVu
aW5nIG9mIHRoZSBnaXZlbiBhcnJheQpwdWJsaWMgc3RhdGljIDxUPiBUW10gZmxhdHRlbihUW10g
YXJyYXkpIHsKICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPT0gMCkgcmV0dXJu
IGFycmF5OwoKICBqYXZhLnV0aWwuQXJyYXlMaXN0PFQ+IGxpc3QgPSBuZXcgamF2YS51dGlsLkFy
cmF5TGlzdDxUPihhcnJheS5sZW5ndGgpOwoKICBmb3IgKGludCBpID0gMDsgaSA8IGFycmF5Lmxl
bmd0aDsgaSsrKSB7CiAgICBpZiAoYXJyYXlbaV0gIT0gbnVsbCAmJiBhcnJheVtpXS5nZXRDbGFz
cygpLmlzQXJyYXkoKSkgewogICAgICBsaXN0LmVuc3VyZUNhcGFjaXR5KGxpc3Quc2l6ZSgpICsg
KChUW10pYXJyYXlbaV0pLmxlbmd0aCk7CiAgICAgIGxpc3QuYWRkQWxsKGphdmEudXRpbC5BcnJh
eXMuYXNMaXN0KGZsYXR0ZW4oKFRbXSlhcnJheVtpXSkpKTsKICAgIH0gZWxzZSB7CiAgICAgIGxp
c3QuYWRkKGFycmF5W2ldKTsKICAgIH0KICB9CiAgCiAgcmV0dXJuIGxpc3QudG9BcnJheShqYXZh
LnV0aWwuQXJyYXlzLmNvcHlPZihhcnJheSwgMCkpOyAgCn0KCi8vIHJldHVybnMgdGhlIGVsZW1l
bnQgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkgYXQgdGhlIGdpdmVuIGluZGV4IChzdXBwb3J0cyBydWJ5
LXN0eWxlIHJldmVyc2UgaW5kZXhpbmcpCnB1YmxpYyBzdGF0aWMgPFQ+IFQgZ2V0KFRbXSBhcnJh
eSwgU3RyaW5nIGluZGV4LCBTdHJpbmcgaXRlcmF0aW9uKSB7CiAgaW50IGkgPSAwOwogIGlmIChp
bmRleCAhPSBudWxsKSB7CiAgICBpID0gSW50ZWdlci5wYXJzZUludChpbmRleCk7CiAgfSBlbHNl
IHsKICAgIGkgPSBJbnRlZ2VyLnBhcnNlSW50KGl0ZXJhdGlvbikgLSAxOwogIH0KICByZXR1cm4g
Z2V0KGFycmF5LCBpKTsKfQoKLy8gcmV0dXJucyB0aGUgZWxlbWVudCBmcm9tIHRoZSBnaXZlbiBh
cnJheSBhdCB0aGUgZ2l2ZW4gaW5kZXggKHN1cHBvcnRzIHJ1Ynktc3R5bGUgcmV2ZXJzZSBpbmRl
eGluZykKcHVibGljIHN0YXRpYyA8VD4gVCBnZXQoVFtdIGFycmF5LCBTdHJpbmcgaW5kZXgpIHsK
ICByZXR1cm4gZ2V0KGFycmF5LCBpbmRleCwgbnVsbCk7Cn0KCi8vIHJldHVybnMgdGhlIGVsZW1l
bnQgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkgYXQgdGhlIGdpdmVuIGluZGV4IChzdXBwb3J0cyBydWJ5
LXN0eWxlIHJldmVyc2UgaW5kZXhpbmcpCnB1YmxpYyBzdGF0aWMgPFQ+IFQgZ2V0KFRbXSBhcnJh
eSwgaW50IGluZGV4KSB7CiAgVCBpdGVtID0gbnVsbDsKICAKICBpZiAoYXJyYXkgIT0gbnVsbCkg
ewogICAgLy8gc3VwcG9ydCByZXZlcnNlL3RhaWwgaW5kZXhpbmcKICAgIGlmIChpbmRleCA8IDAp
IGluZGV4ICs9IGFycmF5Lmxlbmd0aDsKICAgIAogICAgaXRlbSA9IGFycmF5W2luZGV4XTsKICB9
CiAgCiAgcmV0dXJuIGl0ZW07Cn0KCi8vIHJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgZnJvbSB0
aGUgZ2l2ZW4gYXJyYXkKcHVibGljIHN0YXRpYyA8VD4gVCBmaXJzdChUW10gYXJyYXkpIHsKICBy
ZXR1cm4gZ2V0KGFycmF5LCAwKTsKfQoKLy8gcmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IGZyb20g
dGhlIGdpdmVuIGFycmF5CnB1YmxpYyBzdGF0aWMgPFQ+IFQgbGFzdChUW10gYXJyYXkpIHsKICBy
ZXR1cm4gZ2V0KGFycmF5LCAtMSk7Cn0KCi8vIHJlc2l6ZXMgdGhlIGdpdmVuIGFycmF5IChvciBp
bnN0YW50aWF0ZXMgYSBuZXcgYXJyYXksIGlmIG51bGwpIHRvIHRoZSBkZXNpcmVkIGxlbmd0aCwg
Ci8vIGFuZCBwYWRzIHdpdGggdGhlIGdpdmVuIGl0ZW0KcHVibGljIHN0YXRpYyA8VD4gVFtdIHJl
c2l6ZShUW10gYXJyYXksIGludCBuZXdMZW5ndGgsIFQgaXRlbSwgQ2xhc3M8VD4ga2xhc3MpIHsK
ICBpZiAoYXJyYXkgPT0gbnVsbCkgYXJyYXkgPSAoVFtdKWphdmEubGFuZy5yZWZsZWN0LkFycmF5
Lm5ld0luc3RhbmNlKGtsYXNzLCAwKTsKICByZXR1cm4gcmVzaXplKGFycmF5LCBuZXdMZW5ndGgs
IGl0ZW0pOwp9CgovLyByZXNpemVzIHRoZSBnaXZlbiBhcnJheSB0byB0aGUgZGVzaXJlZCBsZW5n
dGgsIGFuZCBwYWRzIHdpdGggdGhlIGdpdmVuIGl0ZW0KcHVibGljIHN0YXRpYyA8VD4gVFtdIHJl
c2l6ZShUW10gYXJyYXksIGludCBuZXdMZW5ndGgsIFQgaXRlbSkgewogIGlmIChuZXdMZW5ndGgg
PCAwKSBuZXdMZW5ndGggPSBhcnJheS5sZW5ndGggKyBuZXdMZW5ndGg7CiAgaWYgKG5ld0xlbmd0
aCA8IDApIG5ld0xlbmd0aCA9IDA7CgogIGludCBvcmlnaW5hbExlbmd0aCA9IGFycmF5Lmxlbmd0
aDsKICBpZiAobmV3TGVuZ3RoID09IG9yaWdpbmFsTGVuZ3RoKSByZXR1cm4gYXJyYXk7CgogIGFy
cmF5ID0gamF2YS51dGlsLkFycmF5cy5jb3B5T2YoYXJyYXksIG5ld0xlbmd0aCk7CiAgaWYgKGl0
ZW0gIT0gbnVsbCkgewogICAgZm9yIChpbnQgaSA9IG9yaWdpbmFsTGVuZ3RoOyBpIDwgbmV3TGVu
Z3RoOyBpKyspIGFycmF5W2ldID0gaXRlbTsKICB9CiAgcmV0dXJuIGFycmF5Owp9CgovLyByZXNp
emVzIHRoZSBnaXZlbiBhcnJheSB0byB0aGUgZGVzaXJlZCBsZW5ndGgsIGFuZCBwYWRzIHdpdGgg
bnVsbHMKcHVibGljIHN0YXRpYyA8VD4gVFtdIHJlc2l6ZShUW10gYXJyYXksIGludCBuZXdMZW5n
dGgpIHsKICByZXR1cm4gcmVzaXplKGFycmF5LCBuZXdMZW5ndGgsIG51bGwpOwp9CgovLyByZXNp
emVzIHRoZSBnaXZlbiBhcnJheSB0byB0aGUgZGVzaXJlZCBsZW5ndGgsIGFuZCBwYWRzIHdpdGgg
dGhlIGdpdmVuIGl0ZW0KcHVibGljIHN0YXRpYyA8VD4gdm9pZCByZXNpemUoSURhdGEgcGlwZWxp
bmUsIENsYXNzPFQ+IGtsYXNzKSB7CiAgSURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0
Q3Vyc29yKCk7CgogIHRyeSB7CiAgICBUW10gbGlzdCA9IChUW10pSURhdGFVdGlsLmdldE9iamVj
dEFycmF5KGN1cnNvciwgIiRsaXN0Iik7CiAgICBpbnQgbGVuZ3RoID0gSW50ZWdlci5wYXJzZUlu
dChJRGF0YVV0aWwuZ2V0U3RyaW5nKGN1cnNvciwgIiRsZW5ndGgiKSk7CiAgICBUIGl0ZW0gPSAo
VClJRGF0YVV0aWwuZ2V0KGN1cnNvciwgIiRpdGVtIik7CgogICAgbGlzdCA9IHJlc2l6ZShsaXN0
LCBsZW5ndGgsIGl0ZW0sIGtsYXNzKTsKCiAgICBpZiAobGlzdCAhPSBudWxsKSBJRGF0YVV0aWwu
cHV0KGN1cnNvciwgIiRsaXN0IiwgbGlzdCk7CiAgfSBmaW5hbGx5IHsKICAgIGN1cnNvci5kZXN0
cm95KCk7CiAgfQp9CgovLyBncm93cyB0aGUgc2l6ZSBvZiB0aGUgZ2l2ZW4gYXJyYXkgYnkgdGhl
IGdpdmVuIGNvdW50LCBhbmQgcGFkcyB3aXRoIHRoZSBnaXZlbiBpdGVtCnB1YmxpYyBzdGF0aWMg
PFQ+IFRbXSBncm93KFRbXSBhcnJheSwgaW50IGNvdW50LCBUIGl0ZW0sIENsYXNzPFQ+IGtsYXNz
KSB7CiAgcmV0dXJuIHJlc2l6ZShhcnJheSwgYXJyYXkgPT0gbnVsbCA/IGNvdW50IDogYXJyYXku
bGVuZ3RoICsgY291bnQsIGl0ZW0sIGtsYXNzKTsKfQoKLy8gZ3Jvd3MgdGhlIGdpdmVuIGFycmF5
IHRvIHRoZSBkZXNpcmVkIGxlbmd0aCwgYW5kIHBhZHMgd2l0aCB0aGUgZ2l2ZW4gaXRlbQpwdWJs
aWMgc3RhdGljIDxUPiB2b2lkIGdyb3coSURhdGEgcGlwZWxpbmUsIENsYXNzPFQ+IGtsYXNzKSB7
CiAgSURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgogIHRyeSB7CiAg
ICBUW10gbGlzdCA9IChUW10pSURhdGFVdGlsLmdldE9iamVjdEFycmF5KGN1cnNvciwgIiRsaXN0
Iik7CiAgICBpbnQgY291bnQgPSBJbnRlZ2VyLnBhcnNlSW50KElEYXRhVXRpbC5nZXRTdHJpbmco
Y3Vyc29yLCAiJGNvdW50IikpOwogICAgVCBpdGVtID0gKFQpSURhdGFVdGlsLmdldChjdXJzb3Is
ICIkaXRlbSIpOwoKICAgIGxpc3QgPSBncm93KGxpc3QsIGNvdW50LCBpdGVtLCBrbGFzcyk7Cgog
ICAgaWYgKGxpc3QgIT0gbnVsbCkgSURhdGFVdGlsLnB1dChjdXJzb3IsICIkbGlzdCIsIGxpc3Qp
OwogIH0gZmluYWxseSB7CiAgICBjdXJzb3IuZGVzdHJveSgpOwogIH0KfQoKLy8gc2hyaW5rcyB0
aGUgc2l6ZSBvZiB0aGUgZ2l2ZW4gYXJyYXkgYnkgdGhlIGdpdmVuIGNvdW50CnB1YmxpYyBzdGF0
aWMgPFQ+IFRbXSBzaHJpbmsoVFtdIGFycmF5LCBpbnQgY291bnQpIHsKICBpZiAoYXJyYXkgIT0g
bnVsbCkgewogICAgaW50IGxlbmd0aCA9IGFycmF5Lmxlbmd0aCAtIGNvdW50OwogICAgYXJyYXkg
PSByZXNpemUoYXJyYXksIGxlbmd0aCA8IDAgPyAwIDogbGVuZ3RoKTsKICB9CiAgcmV0dXJuIGFy
cmF5Owp9CgovLyByZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGl0ZW0gaXMgZm91bmQgaW4gdGhl
IGdpdmVuIGFycmF5CnB1YmxpYyBzdGF0aWMgPFQ+IGJvb2xlYW4gaW5jbHVkZShUW10gYXJyYXks
IFQgaXRlbSkgewogIGJvb2xlYW4gZm91bmQgPSBmYWxzZTsKCiAgaWYgKGFycmF5ICE9IG51bGwp
IHsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgZm91
bmQgPSB0dW5kcmEub2JqZWN0LmVxdWFsKGFycmF5W2ldLCBpdGVtKTsKICAgICAgaWYgKGZvdW5k
KSBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBmb3VuZDsKfQoKLy8gcmV0dXJucyBhIG5ldyBh
cnJheSB3aXRoIHRoZSBnaXZlbiBpdGVtIGluc2VydGVkIGF0IHRoZSBnaXZlbiBpbmRleApwdWJs
aWMgc3RhdGljIDxUPiBUW10gaW5zZXJ0KFRbXSBhcnJheSwgVCBpdGVtLCBTdHJpbmcgaW5kZXgs
IENsYXNzPFQ+IGtsYXNzKSB7CiAgaWYgKGluZGV4ID09IG51bGwpIGluZGV4ID0gIi0xIjsKICBy
ZXR1cm4gaW5zZXJ0KGFycmF5LCBpdGVtLCBJbnRlZ2VyLnBhcnNlSW50KGluZGV4KSwga2xhc3Mp
Owp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggdGhlIGdpdmVuIGl0ZW0gaW5zZXJ0ZWQg
YXQgdGhlIGdpdmVuIGluZGV4CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBpbnNlcnQoVFtdIGFycmF5
LCBUIGl0ZW0sIGludCBpbmRleCwgQ2xhc3M8VD4ga2xhc3MpIHsKICBpZiAoYXJyYXkgPT0gbnVs
bCkgYXJyYXkgPSAoVFtdKWphdmEubGFuZy5yZWZsZWN0LkFycmF5Lm5ld0luc3RhbmNlKGtsYXNz
LCAwKTsKCiAgamF2YS51dGlsLkFycmF5TGlzdDxUPiBsaXN0ID0gbmV3IGphdmEudXRpbC5BcnJh
eUxpc3Q8VD4oamF2YS51dGlsLkFycmF5cy5hc0xpc3QoYXJyYXkpKTsKCiAgaW50IGNhcGFjaXR5
ID0gMDsKICBpZiAoaW5kZXggPCAwKSBpbmRleCArPSBsaXN0LnNpemUoKSArIDE7CiAgaWYgKGlu
ZGV4IDwgMCkgewogICAgY2FwYWNpdHkgPSAoaW5kZXggKiAtMSkgKyBsaXN0LnNpemUoKTsKICAg
IGluZGV4ID0gMDsKICB9IGVsc2UgewogICAgY2FwYWNpdHkgPSBpbmRleDsKICB9CgogIGxpc3Qu
ZW5zdXJlQ2FwYWNpdHkoY2FwYWNpdHkpOwogIGlmIChjYXBhY2l0eSA+PSBsaXN0LnNpemUoKSkg
ewogICAgLy8gZmlsbCB0aGUgbGlzdCB3aXRoIG51bGxzIGlmIGl0IG5lZWRzIHRvIGJlIGV4dGVu
ZGVkCiAgICBmb3IgKGludCBpID0gbGlzdC5zaXplKCk7IGkgPCBjYXBhY2l0eTsgaSsrKSB7CiAg
ICAgIGxpc3QuYWRkKGksIG51bGwpOwogICAgfQogIH0KICBsaXN0LmFkZChpbmRleCwgaXRlbSk7
CiAgCiAgcmV0dXJuIGxpc3QudG9BcnJheShhcnJheSk7Cn0KCi8vIHJldHVybnMgYSBuZXcgYXJy
YXksIHdpdGggdGhlIGdpdmVuIGVsZW1lbnQgaW5zZXJ0ZWQgYXQgdGhlIGdpdmVuIGluZGV4CnB1
YmxpYyBzdGF0aWMgPFQ+IHZvaWQgaW5zZXJ0KElEYXRhIHBpcGVsaW5lLCBDbGFzczxUPiBrbGFz
cykgewogIElEYXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVsaW5lLmdldEN1cnNvcigpOwoKICB0cnkg
ewogICAgVFtdIGxpc3QgPSAoVFtdKUlEYXRhVXRpbC5nZXRPYmplY3RBcnJheShjdXJzb3IsICIk
bGlzdCIpOwogICAgVCBpdGVtID0gKFQpSURhdGFVdGlsLmdldChjdXJzb3IsICIkaXRlbSIpOwog
ICAgU3RyaW5nIGluZGV4ID0gSURhdGFVdGlsLmdldFN0cmluZyhjdXJzb3IsICIkaW5kZXgiKTsK
CiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgIiRsaXN0IiwgaW5zZXJ0KGxpc3QgPT0gbnVsbCA/
IG51bGwgOiBqYXZhLnV0aWwuQXJyYXlzLmNvcHlPZihsaXN0LCBsaXN0Lmxlbmd0aCwgKENsYXNz
PFRbXT4pamF2YS5sYW5nLnJlZmxlY3QuQXJyYXkubmV3SW5zdGFuY2Uoa2xhc3MsIDApLmdldENs
YXNzKCkpLCBpdGVtLCBpbmRleCwga2xhc3MpKTsKICB9IGZpbmFsbHkgewogICAgY3Vyc29yLmRl
c3Ryb3koKTsKICB9Cn0KCi8vIHJldHVybnMgb25seSB0aGUgaXRlbXMgaW4geCB0aGF0IGFyZSBh
bHNvIGluIHkKcHVibGljIHN0YXRpYyA8VD4gVFtdIGludGVyc2VjdGlvbihUW10geCwgVFtdIHkp
IHsKICBpZiAoeCA9PSBudWxsIHx8IHkgPT0gbnVsbCkgcmV0dXJuIG51bGw7CgogIGphdmEudXRp
bC5MaXN0PFQ+IGQgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxUPih4Lmxlbmd0aCk7CiAgZC5h
ZGRBbGwoamF2YS51dGlsLkFycmF5cy5hc0xpc3QoeCkpOwogIGQucmV0YWluQWxsKGphdmEudXRp
bC5BcnJheXMuYXNMaXN0KHkpKTsKICAKICByZXR1cm4gZC50b0FycmF5KGphdmEudXRpbC5BcnJh
eXMuY29weU9mKHgsIDApKTsKfQoKLy8gcmV0dXJucyBhIHN0cmluZyBjcmVhdGVkIGJ5IGNvbmNh
dGVuYXRpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBnaXZlbiBhcnJheSwgc2VwYXJhdGVkIGJ5IHRo
ZSBnaXZlbiBzZXBhcmF0b3Igc3RyaW5nCnB1YmxpYyBzdGF0aWMgPFQ+IFN0cmluZyBqb2luKFRb
XSBhcnJheSwgU3RyaW5nIHNlcGFyYXRvcikgewogIFN0cmluZ0J1aWxkZXIgYnVpbGRlciA9IG5l
dyBTdHJpbmdCdWlsZGVyKCk7CiAgCiAgaWYgKGFycmF5ICE9IG51bGwpIHsKICAgIGZvciAoaW50
IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgVCB2YWx1ZSA9IGFycmF5W2ld
OwogICAgICBpZiAodmFsdWUgIT0gbnVsbCkgYnVpbGRlci5hcHBlbmQodmFsdWUudG9TdHJpbmco
KSk7CiAgICAgIGlmIChzZXBhcmF0b3IgIT0gbnVsbCAmJiBpIDwgYXJyYXkubGVuZ3RoIC0gMSkg
YnVpbGRlci5hcHBlbmQoc2VwYXJhdG9yKTsKICAgIH0KICB9CiAgCiAgcmV0dXJuIGJ1aWxkZXIu
dG9TdHJpbmcoKTsKfQoKLy8gcmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRoZSBnaXZlbiBhcnJheQpw
dWJsaWMgc3RhdGljIDxUPiBpbnQgbGVuZ3RoKFRbXSBhcnJheSkgewogIHJldHVybiAoYXJyYXkg
PT0gbnVsbD8gMCA6IGFycmF5Lmxlbmd0aCk7Cn0KCi8vIG1hcHMgdGhlIGdpdmVuIGFycmF5IHRv
IGEgbmV3IGFycmF5IGJ5IGludm9raW5nIGEgc2VydmljZSBmb3IgZWFjaCBlbGVtZW50IGFuZCBj
b2xsZWN0aW5nIHRoZSBvdXRwdXQKcHVibGljIHN0YXRpYyA8VD4gdm9pZCBtYXAoSURhdGEgcGlw
ZWxpbmUsIENsYXNzPFQ+IGtsYXNzKSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgSURhdGFD
dXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgogIHRyeSB7CiAgICBPYmplY3Rb
XSBsaXN0ID0gSURhdGFVdGlsLmdldE9iamVjdEFycmF5KGN1cnNvciwgIiRsaXN0Iik7CiAgICBT
dHJpbmcgc2VydmljZSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoY3Vyc29yLCAiJHNlcnZpY2UiKTsK
ICAgIElEYXRhIHNjb3BlID0gSURhdGFVdGlsLmdldElEYXRhKGN1cnNvciwgIiRwaXBlbGluZSIp
OwogICAgU3RyaW5nIGlucHV0ID0gSURhdGFVdGlsLmdldFN0cmluZyhjdXJzb3IsICIkaXRlbS5p
bnB1dCIpOwogICAgU3RyaW5nIG91dHB1dCA9IElEYXRhVXRpbC5nZXRTdHJpbmcoY3Vyc29yLCAi
JGl0ZW0ub3V0cHV0Iik7CgogICAgYm9vbGVhbiBzY29wZWQgPSBzY29wZSAhPSBudWxsOwoKICAg
IC8vIGludm9rZSB0aGUgc2VydmljZSBmb3IgZWFjaCBpdGVtIGluIHRoZSBsaXN0LCBwYXNzaW5n
ICRpdGVtIGFuZCAkaW5kZXggdmFyaWFibGVzIG9uIGVhY2ggaW52b2NhdGlvbgogICAgLy8gYW5k
IGNvbGxlY3QgdGhlIHJldHVybmVkICRpdGVtJ3MgaW50byBhIG5ldyBsaXN0CiAgICBJRGF0YVV0
aWwucHV0KGN1cnNvciwgIiRsaXN0IiwgbWFwKGxpc3QgPT0gbnVsbCA/IG51bGwgOiBqYXZhLnV0
aWwuQXJyYXlzLmNvcHlPZihsaXN0LCBsaXN0Lmxlbmd0aCwgKENsYXNzPFRbXT4pamF2YS5sYW5n
LnJlZmxlY3QuQXJyYXkubmV3SW5zdGFuY2Uoa2xhc3MsIDApLmdldENsYXNzKCkpLCBzZXJ2aWNl
LCBzY29wZWQgPyBzY29wZSA6IHBpcGVsaW5lLCBpbnB1dCwgb3V0cHV0KSk7CiAgfSBmaW5hbGx5
IHsKICAgIGN1cnNvci5kZXN0cm95KCk7CiAgfQp9CgovLyBtYXBzIHRoZSBnaXZlbiBhcnJheSB0
byBhIG5ldyBhcnJheSBieSBpbnZva2luZyBhIHNlcnZpY2UgZm9yIGVhY2ggZWxlbWVudCBhbmQg
Y29sbGVjdGluZyB0aGUgb3V0cHV0CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBtYXAoVFtdIGFycmF5
LCBTdHJpbmcgc2VydmljZSwgSURhdGEgcGlwZWxpbmUsIFN0cmluZyBpbnB1dCwgU3RyaW5nIG91
dHB1dCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIGlmIChhcnJheSA9PSBudWxsIHx8IGFy
cmF5Lmxlbmd0aCA9PSAwIHx8IHNlcnZpY2UgPT0gbnVsbCkgcmV0dXJuIGFycmF5OwogIGlmIChw
aXBlbGluZSA9PSBudWxsKSBwaXBlbGluZSA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsKICBpZiAo
aW5wdXQgPT0gbnVsbCkgaW5wdXQgPSAiJGl0ZW0iOwogIGlmIChvdXRwdXQgPT0gbnVsbCkgb3V0
cHV0ID0gaW5wdXQ7CiAgIAogIGphdmEudXRpbC5MaXN0PFQ+IGxpc3QgPSBuZXcgamF2YS51dGls
LkFycmF5TGlzdDxUPihhcnJheS5sZW5ndGgpOwogIElEYXRhQ3Vyc29yIGN1cnNvciA9IG51bGw7
CiAgCiAgZm9yIChpbnQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgLy8gYWRk
ICRpdGVtLCAkaW5kZXgsICRpdGVyYXRpb24gYW5kICRsZW5ndGggdmFyaWFibGVzIHRvIHRoZSBp
bnB1dCBwaXBlbGluZQogICAgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CiAgICBJRGF0
YVV0aWwucHV0KGN1cnNvciwgaW5wdXQsIGFycmF5W2ldKTsKICAgIElEYXRhVXRpbC5wdXQoY3Vy
c29yLCAiJGluZGV4IiwgIiIgKyBpKTsKICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAiJGl0ZXJh
dGlvbiIsICIiICsgKGkgKyAxKSk7CiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgIiRsZW5ndGgi
LCAiIiArIGFycmF5Lmxlbmd0aCk7CiAgICBjdXJzb3IuZGVzdHJveSgpOwoKICAgIC8vIGludm9r
ZSB0aGUgaXRlcmF0b3Igc2VydmljZQogICAgcGlwZWxpbmUgPSB0dW5kcmEuc2VydmljZS5pbnZv
a2Uoc2VydmljZSwgcGlwZWxpbmUpOwoKICAgIC8vIGNsZWFuIHVwIHRoZSBpbnB1dCBwaXBlbGlu
ZQogICAgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CiAgICBUIGl0ZW0gPSAoVClJRGF0
YVV0aWwuZ2V0KGN1cnNvciwgb3V0cHV0KTsKICAgIElEYXRhVXRpbC5yZW1vdmUoY3Vyc29yLCBp
bnB1dCk7CiAgICBJRGF0YVV0aWwucmVtb3ZlKGN1cnNvciwgb3V0cHV0KTsKICAgIElEYXRhVXRp
bC5yZW1vdmUoY3Vyc29yLCAiJGluZGV4Iik7CiAgICBJRGF0YVV0aWwucmVtb3ZlKGN1cnNvciwg
IiRpdGVyYXRpb24iKTsKICAgIElEYXRhVXRpbC5yZW1vdmUoY3Vyc29yLCAiJGxlbmd0aCIpOwog
ICAgY3Vyc29yLmRlc3Ryb3koKTsKICAgIAogICAgLy8gY29sbGVjdCB0aGUgbWFwcGVkIGl0ZW1z
CiAgICBsaXN0LmFkZChpdGVtKTsKICB9CiAgCiAgcmV0dXJuIGxpc3QudG9BcnJheShqYXZhLnV0
aWwuQXJyYXlzLmNvcHlPZihhcnJheSwgMCkpOwp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5IHdp
dGggYSBuZXcgZWxlbWVudCBpbnNlcnRlZCBhdCB0aGUgYmVnaW5uaW5nCnB1YmxpYyBzdGF0aWMg
PFQ+IFRbXSBwcmVwZW5kKFRbXSBhcnJheSwgVCBpdGVtLCBDbGFzczxUPiBrbGFzcykgewogIHJl
dHVybiBpbnNlcnQoYXJyYXksIGl0ZW0sIDAsIGtsYXNzKTsKfQoKLy8gcmV0dXJucyBhIG5ldyBh
cnJheSwgd2l0aCB0aGUgZ2l2ZW4gZWxlbWVudCBpbnNlcnRlZCBhdCB0aGUgZW5kCnB1YmxpYyBz
dGF0aWMgPFQ+IHZvaWQgcHJlcGVuZChJRGF0YSBwaXBlbGluZSwgQ2xhc3M8VD4ga2xhc3MpIHsK
ICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKCiAgdHJ5IHsKICAg
IFRbXSBsaXN0ID0gKFRbXSlJRGF0YVV0aWwuZ2V0T2JqZWN0QXJyYXkoY3Vyc29yLCAiJGxpc3Qi
KTsKICAgIFQgaXRlbSA9IChUKUlEYXRhVXRpbC5nZXQoY3Vyc29yLCAiJGl0ZW0iKTsKCiAgICBs
aXN0ID0gcHJlcGVuZChsaXN0ID09IG51bGwgPyBudWxsIDogamF2YS51dGlsLkFycmF5cy5jb3B5
T2YobGlzdCwgbGlzdC5sZW5ndGgsIChDbGFzczxUW10+KWphdmEubGFuZy5yZWZsZWN0LkFycmF5
Lm5ld0luc3RhbmNlKGtsYXNzLCAwKS5nZXRDbGFzcygpKSwgaXRlbSwga2xhc3MpOwoKICAgIGlm
IChsaXN0ICE9IG51bGwpIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAiJGxpc3QiLCBsaXN0KTsKICB9
IGZpbmFsbHkgewogICAgY3Vyc29yLmRlc3Ryb3koKTsKICB9Cn0KCi8vIHNldHMgdGhlIGVsZW1l
bnQgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkgYXQgdGhlIGdpdmVuIGluZGV4IChzdXBwb3J0cyBydWJ5
LXN0eWxlIHJldmVyc2UgaW5kZXhpbmcpCnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBwdXQoVFtdIGFy
cmF5LCBUIGl0ZW0sIFN0cmluZyBpbmRleCwgQ2xhc3M8VD4ga2xhc3MpIHsKICByZXR1cm4gcHV0
KGFycmF5LCBpdGVtLCBJbnRlZ2VyLnBhcnNlSW50KGluZGV4KSwga2xhc3MpOwp9CgovLyBzZXRz
IHRoZSBlbGVtZW50IGZyb20gdGhlIGdpdmVuIGFycmF5IGF0IHRoZSBnaXZlbiBpbmRleCAoc3Vw
cG9ydHMgcnVieS1zdHlsZSByZXZlcnNlIGluZGV4aW5nKQpwdWJsaWMgc3RhdGljIDxUPiBUW10g
cHV0KFRbXSBhcnJheSwgVCBpdGVtLCBpbnQgaW5kZXgsIENsYXNzPFQ+IGtsYXNzKSB7CiAgaWYg
KGFycmF5ID09IG51bGwpIGFycmF5ID0gKFRbXSlqYXZhLmxhbmcucmVmbGVjdC5BcnJheS5uZXdJ
bnN0YW5jZShrbGFzcywgMCk7CgogIC8vIHN1cHBvcnQgcmV2ZXJzZS90YWlsIGluZGV4aW5nCiAg
aWYgKGluZGV4IDwgMCkgaW5kZXggKz0gYXJyYXkubGVuZ3RoOwogIGludCBjYXBhY2l0eSA9IDA7
CiAgaWYgKGluZGV4IDwgMCkgewogICAgY2FwYWNpdHkgPSAoaW5kZXggKiAtMSkgKyBhcnJheS5s
ZW5ndGg7CiAgICBpbmRleCA9IDA7CiAgfSBlbHNlIHsKICAgIGNhcGFjaXR5ID0gaW5kZXggKyAx
OwogIH0KICBpZiAoY2FwYWNpdHkgPiBhcnJheS5sZW5ndGgpIGFycmF5ID0gamF2YS51dGlsLkFy
cmF5cy5jb3B5T2YoYXJyYXksIGNhcGFjaXR5KTsKCiAgYXJyYXlbaW5kZXhdID0gaXRlbTsKCiAg
cmV0dXJuIGFycmF5Owp9CgovLyBzZXRzIHRoZSBlbGVtZW50IGZyb20gdGhlIGdpdmVuIGFycmF5
IGF0IHRoZSBnaXZlbiBpbmRleCAoc3VwcG9ydHMgcnVieS1zdHlsZSByZXZlcnNlIGluZGV4aW5n
KQpwdWJsaWMgc3RhdGljIDxUPiB2b2lkIHB1dChJRGF0YSBwaXBlbGluZSwgQ2xhc3M8VD4ga2xh
c3MpIHsKICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKCiAgdHJ5
IHsKICAgIFRbXSBsaXN0ID0gKFRbXSlJRGF0YVV0aWwuZ2V0T2JqZWN0QXJyYXkoY3Vyc29yLCAi
JGxpc3QiKTsKICAgIFQgaXRlbSA9IChUKUlEYXRhVXRpbC5nZXQoY3Vyc29yLCAiJGl0ZW0iKTsK
ICAgIFN0cmluZyBpbmRleCA9IElEYXRhVXRpbC5nZXRTdHJpbmcoY3Vyc29yLCAiJGluZGV4Iik7
CgogICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICIkbGlzdCIsIHB1dChsaXN0ID09IG51bGwgPyBu
dWxsIDogamF2YS51dGlsLkFycmF5cy5jb3B5T2YobGlzdCwgbGlzdC5sZW5ndGgsIChDbGFzczxU
W10+KWphdmEubGFuZy5yZWZsZWN0LkFycmF5Lm5ld0luc3RhbmNlKGtsYXNzLCAwKS5nZXRDbGFz
cygpKSwgaXRlbSwgaW5kZXgsIGtsYXNzKSk7CiAgfSBmaW5hbGx5IHsKICAgIGN1cnNvci5kZXN0
cm95KCk7CiAgfQp9CgovLyBmaWx0ZXJzIHRoZSBnaXZlbiBsaXN0IHRvIG5vdCBpbmNsdWRlIGl0
ZW1zIHdoZXJlIHRoZSAKLy8gZ2l2ZW4gY29uZGl0aW9uIGV2YWx1YXRlcyB0byB0cnVlCnB1Ymxp
YyBzdGF0aWMgPFQ+IFRbXSByZWplY3QoVFtdIGFycmF5LCBTdHJpbmcgY29uZGl0aW9uLCBJRGF0
YSBwaXBlbGluZSkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIGlmIChhcnJheSA9PSBudWxs
IHx8IGFycmF5Lmxlbmd0aCA9PSAwIHx8IGNvbmRpdGlvbiA9PSBudWxsIHx8IGNvbmRpdGlvbi5l
cXVhbHMoIiIpKSByZXR1cm4gYXJyYXk7CiAgaWYgKHBpcGVsaW5lID09IG51bGwpIHBpcGVsaW5l
ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwoKICBqYXZhLnV0aWwuQXJyYXlMaXN0PFQ+IGxpc3Qg
PSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxUPihhcnJheS5sZW5ndGgpOwoKICBmb3IgKGludCBp
ID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICBJRGF0YUN1cnNvciBjdXJzb3IgPSBw
aXBlbGluZS5nZXRDdXJzb3IoKTsKICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAiJGl0ZW0iLCBh
cnJheVtpXSk7CgogICAgaWYgKCF0dW5kcmEuY29uZGl0aW9uLmV2YWx1YXRlKGNvbmRpdGlvbiwg
cGlwZWxpbmUpKSBsaXN0LmFkZChhcnJheVtpXSk7CiAgICAKICAgIElEYXRhVXRpbC5yZW1vdmUo
Y3Vyc29yLCAiJGl0ZW0iKTsKICAgIGN1cnNvci5kZXN0cm95KCk7CiAgfQoKICByZXR1cm4gbGlz
dC50b0FycmF5KGphdmEudXRpbC5BcnJheXMuY29weU9mKGFycmF5LCAwKSk7ICAKfQoKLy8gcmV0
dXJucyBhIG5ldyBhcnJheSB3aXRoIGFsbCBlbGVtZW50cyBmcm9tIHRoZSBnaXZlbiBhcnJheSBi
dXQgaW4gcmV2ZXJzZSBvcmRlcgpwdWJsaWMgc3RhdGljIDxUPiBUW10gcmV2ZXJzZShUW10gYXJy
YXkpIHsKICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPD0gMSkgcmV0dXJuIGFy
cmF5OwogIAogIGphdmEudXRpbC5BcnJheUxpc3Q8VD4gbGlzdCA9IG5ldyBqYXZhLnV0aWwuQXJy
YXlMaXN0PFQ+KGphdmEudXRpbC5BcnJheXMuYXNMaXN0KGFycmF5KSk7CiAgamF2YS51dGlsLkNv
bGxlY3Rpb25zLnJldmVyc2UobGlzdCk7CiAgCiAgcmV0dXJuIGxpc3QudG9BcnJheShqYXZhLnV0
aWwuQXJyYXlzLmNvcHlPZihhcnJheSwgMCkpOyAgCn0KCi8vIHJldHVybnMgYSBuZXcgYXJyYXkg
d2hpY2ggaXMgYSBzdWJzZXQgb2YgZWxlbWVudHMgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkKcHVibGlj
IHN0YXRpYyA8VD4gVFtdIHNsaWNlKFRbXSBhcnJheSwgU3RyaW5nIGluZGV4LCBTdHJpbmcgbGVu
Z3RoKSB7CiAgcmV0dXJuIHNsaWNlKGFycmF5LCBpbmRleCA9PSBudWxsID8gMCA6IEludGVnZXIu
cGFyc2VJbnQoaW5kZXgpLCBsZW5ndGggPT0gbnVsbCA/IChhcnJheSA9PSBudWxsID8gMCA6IGFy
cmF5Lmxlbmd0aCkgOiBJbnRlZ2VyLnBhcnNlSW50KGxlbmd0aCkpOwp9CgovLyByZXR1cm5zIGEg
bmV3IGFycmF5IHdoaWNoIGlzIGEgc3Vic2V0IG9mIGVsZW1lbnRzIGZyb20gdGhlIGdpdmVuIGFy
cmF5CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBzbGljZShUW10gYXJyYXksIGludCBpbmRleCwgaW50
IGxlbmd0aCkgewogIGlmIChhcnJheSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA9PSAwKSByZXR1
cm4gYXJyYXk7CiAgLy8gc3VwcG9ydCByZXZlcnNlL3RhaWwgbGVuZ3RoCiAgaWYgKGxlbmd0aCA8
IDApIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCArIGxlbmd0aDsKICAvLyBzdXBwb3J0IHJldmVyc2Uv
dGFpbCBpbmRleGluZwogIGlmIChpbmRleCA8IDApIGluZGV4ICs9IGFycmF5Lmxlbmd0aDsKICAv
LyBkb24ndCBzbGljZSBwYXN0IHRoZSBlbmQgb2YgdGhlIGFycmF5CiAgaWYgKChsZW5ndGggKz0g
aW5kZXgpID4gYXJyYXkubGVuZ3RoKSBsZW5ndGggPSBhcnJheS5sZW5ndGg7CiAgCiAgcmV0dXJu
IGphdmEudXRpbC5BcnJheXMuY29weU9mUmFuZ2UoYXJyYXksIGluZGV4LCBsZW5ndGgpOwp9Cgov
LyByZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggYWxsIGVsZW1lbnRzIHNvcnRlZApwdWJsaWMgc3Rh
dGljIDxUPiBUW10gc29ydChUW10gYXJyYXkpIHsKICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJh
eS5sZW5ndGggPD0gMSkgcmV0dXJuIGFycmF5OwogIAogIFRbXSBjb3B5ID0gamF2YS51dGlsLkFy
cmF5cy5jb3B5T2YoYXJyYXksIGFycmF5Lmxlbmd0aCk7CiAgamF2YS51dGlsLkFycmF5cy5zb3J0
KGNvcHkpOwogIHJldHVybiBjb3B5Owp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggYWxs
IHN0cmluZyBpdGVtcyB0cmltbWVkLCBhbGwKLy8gZW1wdHkgc3RyaW5nIGl0ZW1zIHJlbW92ZWQs
IGFuZCBhbGwgbnVsbCBpdGVtcyByZW1vdmVkCnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBzcXVlZXpl
KFRbXSBhcnJheSkgewogIGlmIChhcnJheSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA9PSAwKSBy
ZXR1cm4gbnVsbDsKCiAgamF2YS51dGlsLkxpc3Q8VD4gbGlzdCA9IG5ldyBqYXZhLnV0aWwuQXJy
YXlMaXN0PFQ+KGFycmF5Lmxlbmd0aCk7CgogIGZvciAoaW50IGkgPSAwOyBpIDwgYXJyYXkubGVu
Z3RoOyBpKyspIHsKICAgIGlmIChhcnJheVtpXSAhPSBudWxsICYmIGFycmF5W2ldIGluc3RhbmNl
b2YgU3RyaW5nKSB7CiAgICAgIFQgaXRlbSA9IChUKSgoU3RyaW5nKWFycmF5W2ldKS50cmltKCk7
CiAgICAgIGlmIChpdGVtLmVxdWFscygiIikpIHsKICAgICAgICBhcnJheVtpXSA9IG51bGw7CiAg
ICAgIH0gZWxzZSB7CiAgICAgICAgYXJyYXlbaV0gPSBpdGVtOwogICAgICB9CiAgICB9CiAgICBp
ZiAoYXJyYXlbaV0gIT0gbnVsbCkgbGlzdC5hZGQoYXJyYXlbaV0pOwogIH0KCiAgYXJyYXkgPSBs
aXN0LnRvQXJyYXkoamF2YS51dGlsLkFycmF5cy5jb3B5T2YoYXJyYXksIDApKTsKICBpZiAoYXJy
YXkubGVuZ3RoID09IDApIGFycmF5ID0gbnVsbDsKICAKICByZXR1cm4gYXJyYXk7Cn0KCi8vIHJl
dHVybnMgYSBuZXcgYXJyYXkgd2l0aCBhbGwgZHVwbGljYXRlIGVsZW1lbnRzIHJlbW92ZWQKcHVi
bGljIHN0YXRpYyA8VD4gVFtdIHVuaXF1ZShUW10gYXJyYXkpIHsKICBpZiAoYXJyYXkgPT0gbnVs
bCB8fCBhcnJheS5sZW5ndGggPD0gMSkgcmV0dXJuIGFycmF5OwogIAogIGphdmEudXRpbC5TZXQ8
VD4gc2V0ID0gbmV3IGphdmEudXRpbC5UcmVlU2V0PFQ+KGphdmEudXRpbC5BcnJheXMuYXNMaXN0
KGFycmF5KSk7CiAgCiAgcmV0dXJuIHNldC50b0FycmF5KGphdmEudXRpbC5BcnJheXMuY29weU9m
KGFycmF5LCAwKSk7Cn0=</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
  </array>
</Values>
