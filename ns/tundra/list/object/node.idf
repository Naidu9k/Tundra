<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.list.object</value>
  <value name="shared">Ly8gcmV0dXJucyBhIG5ldyBhcnJheSwgd2l0aCB0aGUgZ2l2ZW4gZWxlbWVudCBpbnNlcnRlZCBh
dCB0aGUgZW5kCnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBhcHBlbmQoVFtdIGFycmF5LCBUIGl0ZW0s
IENsYXNzPFQ+IGtsYXNzKSB7CiAgcmV0dXJuIGluc2VydChhcnJheSwgaXRlbSwgLTEsIGtsYXNz
KTsKfQoKLy8gcmV0dXJucyBhIG5ldyBhcnJheSwgd2l0aCB0aGUgZ2l2ZW4gZWxlbWVudCBpbnNl
cnRlZCBhdCB0aGUgZW5kCnB1YmxpYyBzdGF0aWMgPFQ+IHZvaWQgYXBwZW5kKElEYXRhIHBpcGVs
aW5lLCBDbGFzczxUPiBrbGFzcykgewogIElEYXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVsaW5lLmdl
dEN1cnNvcigpOwoKICB0cnkgewogICAgVFtdIGxpc3QgPSAoVFtdKUlEYXRhVXRpbC5nZXRPYmpl
Y3RBcnJheShjdXJzb3IsICIkbGlzdCIpOwogICAgVCBpdGVtID0gKFQpSURhdGFVdGlsLmdldChj
dXJzb3IsICIkaXRlbSIpOwoKICAgIGxpc3QgPSBhcHBlbmQobGlzdCA9PSBudWxsID8gbnVsbCA6
IGphdmEudXRpbC5BcnJheXMuY29weU9mKGxpc3QsIGxpc3QubGVuZ3RoLCAoQ2xhc3M8VFtdPilq
YXZhLmxhbmcucmVmbGVjdC5BcnJheS5uZXdJbnN0YW5jZShrbGFzcywgMCkuZ2V0Q2xhc3MoKSks
IGl0ZW0sIGtsYXNzKTsKCiAgICBpZiAobGlzdCAhPSBudWxsKSBJRGF0YVV0aWwucHV0KGN1cnNv
ciwgIiRsaXN0IiwgbGlzdCk7CiAgfSBmaW5hbGx5IHsKICAgIGN1cnNvci5kZXN0cm95KCk7CiAg
fQp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggYWxsIG51bGwgZWxlbWVudHMgcmVtb3Zl
ZApwdWJsaWMgc3RhdGljIDxUPiBUW10gY29tcGFjdChUW10gYXJyYXkpIHsKICBpZiAoYXJyYXkg
PT0gbnVsbCkgcmV0dXJuIGFycmF5OwogIAogIGphdmEudXRpbC5MaXN0PFQ+IGxpc3QgPSBuZXcg
amF2YS51dGlsLkFycmF5TGlzdDxUPihhcnJheS5sZW5ndGgpOwoKICBmb3IgKGludCBpID0gMDsg
aSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICBpZiAoYXJyYXlbaV0gIT0gbnVsbCkgbGlzdC5h
ZGQoYXJyYXlbaV0pOwogIH0KICAKICByZXR1cm4gbGlzdC50b0FycmF5KGphdmEudXRpbC5BcnJh
eXMuY29weU9mKGFycmF5LCAwKSk7Cn0KCi8vIHJldHVybnMgYSBuZXcgYXJyYXkgd2hpY2ggY29u
dGFpbnMgYWxsIHRoZSBlbGVtZW50cyBmcm9tIHRoZSBnaXZlbiBhcnJheXMKcHVibGljIHN0YXRp
YyA8VD4gVFtdIGNvbmNhdGVuYXRlKFRbXSBhcnJheSwgVFtdIGl0ZW1zKSB7CiAgaWYgKGFycmF5
ID09IG51bGwpIHJldHVybiBpdGVtczsKICBpZiAoaXRlbXMgPT0gbnVsbCkgcmV0dXJuIGFycmF5
OwoKICBqYXZhLnV0aWwuTGlzdDxUPiBsaXN0ID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8VD4o
YXJyYXkubGVuZ3RoICsgaXRlbXMubGVuZ3RoKTsKICAKICBqYXZhLnV0aWwuQ29sbGVjdGlvbnMu
YWRkQWxsKGxpc3QsIGFycmF5KTsKICBqYXZhLnV0aWwuQ29sbGVjdGlvbnMuYWRkQWxsKGxpc3Qs
IGl0ZW1zKTsKICAKICByZXR1cm4gbGlzdC50b0FycmF5KGphdmEudXRpbC5BcnJheXMuY29weU9m
KGFycmF5LCAwKSk7Cn0KCi8vIHJldHVybnMgb25seSB0aGUgaXRlbXMgaW4geCB0aGF0IGFyZSBu
b3QgYWxzbyBpbiB5CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBkaWZmZXJlbmNlKFRbXSB4LCBUW10g
eSkgewogIGlmICh4ID09IG51bGwgfHwgeSA9PSBudWxsKSByZXR1cm4geDsKCiAgamF2YS51dGls
Lkxpc3Q8VD4gZCA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PFQ+KHgubGVuZ3RoKTsKICBkLmFk
ZEFsbChqYXZhLnV0aWwuQXJyYXlzLmFzTGlzdCh4KSk7CiAgZC5yZW1vdmVBbGwoamF2YS51dGls
LkFycmF5cy5hc0xpc3QoeSkpOwogIAogIHJldHVybiBkLnRvQXJyYXkoamF2YS51dGlsLkFycmF5
cy5jb3B5T2YoeCwgMCkpOwp9CgovLyByZW1vdmVzIHRoZSBlbGVtZW50IGF0IHRoZSBnaXZlbiBp
bmRleCBmcm9tIHRoZSBnaXZlbiBsaXN0CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBkcm9wKFRbXSBh
cnJheSwgU3RyaW5nIGluZGV4KSB7CiAgcmV0dXJuIGRyb3AoYXJyYXksIEludGVnZXIucGFyc2VJ
bnQoaW5kZXgpKTsKfQoKLy8gcmVtb3ZlcyB0aGUgZWxlbWVudCBhdCB0aGUgZ2l2ZW4gaW5kZXgg
ZnJvbSB0aGUgZ2l2ZW4gbGlzdApwdWJsaWMgc3RhdGljIDxUPiBUW10gZHJvcChUW10gYXJyYXks
IGludCBpbmRleCkgewogIGlmIChhcnJheSAhPSBudWxsKSB7CiAgICAvLyBzdXBwb3J0IHJldmVy
c2UvdGFpbCBpbmRleGluZwogICAgaWYgKGluZGV4IDwgMCkgaW5kZXggKz0gYXJyYXkubGVuZ3Ro
OwogICAgaWYgKGluZGV4IDwgMCB8fCBhcnJheS5sZW5ndGggPD0gaW5kZXgpIHRocm93IG5ldyBB
cnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oaW5kZXgpOwoKICAgIFRbXSBoZWFkID0gc2xp
Y2UoYXJyYXksIDAsIGluZGV4KTsKICAgIFRbXSB0YWlsID0gc2xpY2UoYXJyYXksIGluZGV4ICsg
MSwgYXJyYXkubGVuZ3RoIC0gaW5kZXgpOwoKICAgIGFycmF5ID0gY29uY2F0ZW5hdGUoaGVhZCwg
dGFpbCk7ICAgICAgCiAgfQoKICByZXR1cm4gYXJyYXk7Cn0KCi8vIGludm9rZXMgdGhlIGdpdmVu
IHNlcnZpY2UgZm9yIGVhY2ggZWxlbWVudCBpbiB0aGUgYXJyYXkKcHVibGljIHN0YXRpYyA8VD4g
dm9pZCBlYWNoKFRbXSBhcnJheSwgU3RyaW5nIHNlcnZpY2UsIElEYXRhIHBpcGVsaW5lLCBTdHJp
bmcgaW5wdXQpIHRocm93cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICBtYXAoYXJyYXksIHNlcnZpY2Us
IHBpcGVsaW5lLCBpbnB1dCwgbnVsbCk7Cn0KCi8vIHJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4g
YXJyYXlzIGFyZSBlcXVhbApwdWJsaWMgc3RhdGljIDxUPiBib29sZWFuIGVxdWFsKFRbXSB4LCBU
W10geSkgewogIGJvb2xlYW4gcmVzdWx0ID0gdHJ1ZTsKCiAgaWYgKHggIT0gbnVsbCAmJiB5ICE9
IG51bGwpIHsKICAgIHJlc3VsdCA9ICh4Lmxlbmd0aCA9PSB5Lmxlbmd0aCk7CgogICAgaWYgKHJl
c3VsdCkgewogICAgICBmb3IgKGludCBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHsKICAgICAg
ICByZXN1bHQgPSByZXN1bHQgJiYgdHVuZHJhLm9iamVjdC5lcXVhbCh4W2ldLCB5W2ldKTsKICAg
ICAgICBpZiAoIXJlc3VsdCkgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9IGVsc2UgewogICAgcmVz
dWx0ID0gKHggPT0gbnVsbCAmJiB5ID09IG51bGwpOwogIH0KCiAgcmV0dXJuIHJlc3VsdDsKfQoK
Ly8gZmlsdGVycyB0aGUgZ2l2ZW4gYXJyYXkgYnkgZXZhbHVhdGluZyB0aGUgY29uZGl0aW9uYWwg
c3RhdGVtZW50IGFnYWluc3QgdGhlIAovLyBnaXZlbiBwaXBlbGluZSBhbmQgZWFjaCBpdGVtIGlu
IHRoZSBhcnJheQpwdWJsaWMgc3RhdGljIDxUPiBUW10gZmlsdGVyKFRbXSBhcnJheSwgU3RyaW5n
IGNvbmRpdGlvbiwgSURhdGEgcGlwZWxpbmUpIHsKICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJh
eS5sZW5ndGggPT0gMCB8fCBjb25kaXRpb24gPT0gbnVsbCB8fCBjb25kaXRpb24uZXF1YWxzKCIi
KSkgcmV0dXJuIGFycmF5OwogIGlmIChwaXBlbGluZSA9PSBudWxsKSBwaXBlbGluZSA9IElEYXRh
RmFjdG9yeS5jcmVhdGUoKTsKCiAgamF2YS51dGlsLkFycmF5TGlzdDxUPiBsaXN0ID0gbmV3IGph
dmEudXRpbC5BcnJheUxpc3Q8VD4oYXJyYXkubGVuZ3RoKTsKCiAgZm9yIChpbnQgaSA9IDA7IGkg
PCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgSURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUu
Z2V0Q3Vyc29yKCk7CiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgIiRpdGVtIiwgYXJyYXlbaV0p
OwoKICAgIGlmICh0dW5kcmEuY29uZGl0aW9uLmV2YWx1YXRlKGNvbmRpdGlvbiwgcGlwZWxpbmUp
KSBsaXN0LmFkZChhcnJheVtpXSk7CiAgICAKICAgIElEYXRhVXRpbC5yZW1vdmUoY3Vyc29yLCAi
JGl0ZW0iKTsKICAgIGN1cnNvci5kZXN0cm95KCk7CiAgfQoKICByZXR1cm4gbGlzdC50b0FycmF5
KGphdmEudXRpbC5BcnJheXMuY29weU9mKGFycmF5LCAwKSk7ICAKfQoKLy8gcmV0dXJucyBhIG5l
dyBhcnJheSB3aGljaCBpcyBhIG9uZS1kaW1lbnNpb25hbCByZWN1cnNpdmUgZmxhdHRlbmluZyBv
ZiB0aGUgZ2l2ZW4gYXJyYXkKcHVibGljIHN0YXRpYyA8VD4gVFtdIGZsYXR0ZW4oVFtdIGFycmF5
KSB7CiAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoID09IDApIHJldHVybiBhcnJh
eTsKCiAgamF2YS51dGlsLkFycmF5TGlzdDxUPiBsaXN0ID0gbmV3IGphdmEudXRpbC5BcnJheUxp
c3Q8VD4oYXJyYXkubGVuZ3RoKTsKCiAgZm9yIChpbnQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7
IGkrKykgewogICAgaWYgKGFycmF5W2ldICE9IG51bGwgJiYgYXJyYXlbaV0uZ2V0Q2xhc3MoKS5p
c0FycmF5KCkpIHsKICAgICAgbGlzdC5lbnN1cmVDYXBhY2l0eShsaXN0LnNpemUoKSArICgoVFtd
KWFycmF5W2ldKS5sZW5ndGgpOwogICAgICBsaXN0LmFkZEFsbChqYXZhLnV0aWwuQXJyYXlzLmFz
TGlzdChmbGF0dGVuKChUW10pYXJyYXlbaV0pKSk7CiAgICB9IGVsc2UgewogICAgICBsaXN0LmFk
ZChhcnJheVtpXSk7CiAgICB9CiAgfQogIAogIHJldHVybiBsaXN0LnRvQXJyYXkoamF2YS51dGls
LkFycmF5cy5jb3B5T2YoYXJyYXksIDApKTsgIAp9CgovLyByZXR1cm5zIHRoZSBlbGVtZW50IGZy
b20gdGhlIGdpdmVuIGFycmF5IGF0IHRoZSBnaXZlbiBpbmRleCAoc3VwcG9ydHMgcnVieS1zdHls
ZSByZXZlcnNlIGluZGV4aW5nKQpwdWJsaWMgc3RhdGljIDxUPiBUIGdldChUW10gYXJyYXksIFN0
cmluZyBpbmRleCwgU3RyaW5nIGl0ZXJhdGlvbikgewogIGludCBpID0gMDsKICBpZiAoaW5kZXgg
IT0gbnVsbCkgewogICAgaSA9IEludGVnZXIucGFyc2VJbnQoaW5kZXgpOwogIH0gZWxzZSB7CiAg
ICBpID0gSW50ZWdlci5wYXJzZUludChpdGVyYXRpb24pIC0gMTsKICB9CiAgcmV0dXJuIGdldChh
cnJheSwgaSk7Cn0KCi8vIHJldHVybnMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkg
YXQgdGhlIGdpdmVuIGluZGV4IChzdXBwb3J0cyBydWJ5LXN0eWxlIHJldmVyc2UgaW5kZXhpbmcp
CnB1YmxpYyBzdGF0aWMgPFQ+IFQgZ2V0KFRbXSBhcnJheSwgU3RyaW5nIGluZGV4KSB7CiAgcmV0
dXJuIGdldChhcnJheSwgaW5kZXgsIG51bGwpOwp9CgovLyByZXR1cm5zIHRoZSBlbGVtZW50IGZy
b20gdGhlIGdpdmVuIGFycmF5IGF0IHRoZSBnaXZlbiBpbmRleCAoc3VwcG9ydHMgcnVieS1zdHls
ZSByZXZlcnNlIGluZGV4aW5nKQpwdWJsaWMgc3RhdGljIDxUPiBUIGdldChUW10gYXJyYXksIGlu
dCBpbmRleCkgewogIFQgaXRlbSA9IG51bGw7CiAgCiAgaWYgKGFycmF5ICE9IG51bGwpIHsKICAg
IC8vIHN1cHBvcnQgcmV2ZXJzZS90YWlsIGluZGV4aW5nCiAgICBpZiAoaW5kZXggPCAwKSBpbmRl
eCArPSBhcnJheS5sZW5ndGg7CiAgICAKICAgIGl0ZW0gPSBhcnJheVtpbmRleF07CiAgfQogIAog
IHJldHVybiBpdGVtOwp9CgovLyByZXNpemVzIHRoZSBnaXZlbiBhcnJheSAob3IgaW5zdGFudGlh
dGVzIGEgbmV3IGFycmF5LCBpZiBudWxsKSB0byB0aGUgZGVzaXJlZCBsZW5ndGgsIAovLyBhbmQg
cGFkcyB3aXRoIHRoZSBnaXZlbiBpdGVtCnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSByZXNpemUoVFtd
IGFycmF5LCBpbnQgbmV3TGVuZ3RoLCBUIGl0ZW0sIENsYXNzPFQ+IGtsYXNzKSB7CiAgaWYgKGFy
cmF5ID09IG51bGwpIGFycmF5ID0gKFRbXSlqYXZhLmxhbmcucmVmbGVjdC5BcnJheS5uZXdJbnN0
YW5jZShrbGFzcywgMCk7CiAgcmV0dXJuIHJlc2l6ZShhcnJheSwgbmV3TGVuZ3RoLCBpdGVtKTsK
fQoKLy8gcmVzaXplcyB0aGUgZ2l2ZW4gYXJyYXkgdG8gdGhlIGRlc2lyZWQgbGVuZ3RoLCBhbmQg
cGFkcyB3aXRoIHRoZSBnaXZlbiBpdGVtCnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSByZXNpemUoVFtd
IGFycmF5LCBpbnQgbmV3TGVuZ3RoLCBUIGl0ZW0pIHsKICBpZiAobmV3TGVuZ3RoIDwgMCkgdGhy
b3cgbmV3IE5lZ2F0aXZlQXJyYXlTaXplRXhjZXB0aW9uKCk7CgogIGludCBvcmlnaW5hbExlbmd0
aCA9IGFycmF5Lmxlbmd0aDsKICBpZiAobmV3TGVuZ3RoID09IG9yaWdpbmFsTGVuZ3RoKSByZXR1
cm4gYXJyYXk7CgogIGFycmF5ID0gamF2YS51dGlsLkFycmF5cy5jb3B5T2YoYXJyYXksIG5ld0xl
bmd0aCk7CiAgaWYgKGl0ZW0gIT0gbnVsbCkgewogICAgZm9yIChpbnQgaSA9IG9yaWdpbmFsTGVu
Z3RoOyBpIDwgbmV3TGVuZ3RoOyBpKyspIGFycmF5W2ldID0gaXRlbTsKICB9CiAgcmV0dXJuIGFy
cmF5Owp9CgovLyByZXNpemVzIHRoZSBnaXZlbiBhcnJheSB0byB0aGUgZGVzaXJlZCBsZW5ndGgs
IGFuZCBwYWRzIHdpdGggbnVsbHMKcHVibGljIHN0YXRpYyA8VD4gVFtdIHJlc2l6ZShUW10gYXJy
YXksIGludCBuZXdMZW5ndGgpIHsKICByZXR1cm4gcmVzaXplKGFycmF5LCBuZXdMZW5ndGgsIG51
bGwpOwp9CgovLyByZXNpemVzIHRoZSBnaXZlbiBhcnJheSB0byB0aGUgZGVzaXJlZCBsZW5ndGgs
IGFuZCBwYWRzIHdpdGggdGhlIGdpdmVuIGl0ZW0KcHVibGljIHN0YXRpYyA8VD4gdm9pZCByZXNp
emUoSURhdGEgcGlwZWxpbmUsIENsYXNzPFQ+IGtsYXNzKSB7CiAgSURhdGFDdXJzb3IgY3Vyc29y
ID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgogIHRyeSB7CiAgICBUW10gbGlzdCA9IChUW10pSURh
dGFVdGlsLmdldE9iamVjdEFycmF5KGN1cnNvciwgIiRsaXN0Iik7CiAgICBpbnQgbGVuZ3RoID0g
SW50ZWdlci5wYXJzZUludChJRGF0YVV0aWwuZ2V0U3RyaW5nKGN1cnNvciwgIiRsZW5ndGgiKSk7
CiAgICBUIGl0ZW0gPSAoVClJRGF0YVV0aWwuZ2V0KGN1cnNvciwgIiRpdGVtIik7CgogICAgbGlz
dCA9IHJlc2l6ZShsaXN0LCBsZW5ndGgsIGl0ZW0sIGtsYXNzKTsKCiAgICBpZiAobGlzdCAhPSBu
dWxsKSBJRGF0YVV0aWwucHV0KGN1cnNvciwgIiRsaXN0IiwgbGlzdCk7CiAgfSBmaW5hbGx5IHsK
ICAgIGN1cnNvci5kZXN0cm95KCk7CiAgfQp9CgovLyBncm93cyB0aGUgc2l6ZSBvZiB0aGUgZ2l2
ZW4gYXJyYXkgYnkgdGhlIGdpdmVuIGNvdW50LCBhbmQgcGFkcyB3aXRoIHRoZSBnaXZlbiBpdGVt
CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBncm93KFRbXSBhcnJheSwgaW50IGNvdW50LCBUIGl0ZW0s
IENsYXNzPFQ+IGtsYXNzKSB7CiAgcmV0dXJuIHJlc2l6ZShhcnJheSwgYXJyYXkgPT0gbnVsbCA/
IGNvdW50IDogYXJyYXkubGVuZ3RoICsgY291bnQsIGl0ZW0sIGtsYXNzKTsKfQoKLy8gZ3Jvd3Mg
dGhlIGdpdmVuIGFycmF5IHRvIHRoZSBkZXNpcmVkIGxlbmd0aCwgYW5kIHBhZHMgd2l0aCB0aGUg
Z2l2ZW4gaXRlbQpwdWJsaWMgc3RhdGljIDxUPiB2b2lkIGdyb3coSURhdGEgcGlwZWxpbmUsIENs
YXNzPFQ+IGtsYXNzKSB7CiAgSURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29y
KCk7CgogIHRyeSB7CiAgICBUW10gbGlzdCA9IChUW10pSURhdGFVdGlsLmdldE9iamVjdEFycmF5
KGN1cnNvciwgIiRsaXN0Iik7CiAgICBpbnQgY291bnQgPSBJbnRlZ2VyLnBhcnNlSW50KElEYXRh
VXRpbC5nZXRTdHJpbmcoY3Vyc29yLCAiJGNvdW50IikpOwogICAgVCBpdGVtID0gKFQpSURhdGFV
dGlsLmdldChjdXJzb3IsICIkaXRlbSIpOwoKICAgIGxpc3QgPSBncm93KGxpc3QsIGNvdW50LCBp
dGVtLCBrbGFzcyk7CgogICAgaWYgKGxpc3QgIT0gbnVsbCkgSURhdGFVdGlsLnB1dChjdXJzb3Is
ICIkbGlzdCIsIGxpc3QpOwogIH0gZmluYWxseSB7CiAgICBjdXJzb3IuZGVzdHJveSgpOwogIH0K
fQoKLy8gc2hyaW5rcyB0aGUgc2l6ZSBvZiB0aGUgZ2l2ZW4gYXJyYXkgYnkgdGhlIGdpdmVuIGNv
dW50CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBzaHJpbmsoVFtdIGFycmF5LCBpbnQgY291bnQpIHsK
ICBpZiAoYXJyYXkgIT0gbnVsbCkgewogICAgaW50IGxlbmd0aCA9IGFycmF5Lmxlbmd0aCAtIGNv
dW50OwogICAgYXJyYXkgPSByZXNpemUoYXJyYXksIGxlbmd0aCA8IDAgPyAwIDogbGVuZ3RoKTsK
ICB9CiAgcmV0dXJuIGFycmF5Owp9CgovLyByZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGl0ZW0g
aXMgZm91bmQgaW4gdGhlIGdpdmVuIGFycmF5CnB1YmxpYyBzdGF0aWMgPFQ+IGJvb2xlYW4gaW5j
bHVkZShUW10gYXJyYXksIFQgaXRlbSkgewogIGJvb2xlYW4gZm91bmQgPSBmYWxzZTsKCiAgaWYg
KGFycmF5ICE9IG51bGwpIHsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBp
KyspIHsKICAgICAgZm91bmQgPSB0dW5kcmEub2JqZWN0LmVxdWFsKGFycmF5W2ldLCBpdGVtKTsK
ICAgICAgaWYgKGZvdW5kKSBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBmb3VuZDsKfQoKLy8g
cmV0dXJucyBhIG5ldyBhcnJheSB3aXRoIHRoZSBnaXZlbiBpdGVtIGluc2VydGVkIGF0IHRoZSBn
aXZlbiBpbmRleApwdWJsaWMgc3RhdGljIDxUPiBUW10gaW5zZXJ0KFRbXSBhcnJheSwgVCBpdGVt
LCBTdHJpbmcgaW5kZXgsIENsYXNzPFQ+IGtsYXNzKSB7CiAgaWYgKGluZGV4ID09IG51bGwpIGlu
ZGV4ID0gIi0xIjsKICByZXR1cm4gaW5zZXJ0KGFycmF5LCBpdGVtLCBJbnRlZ2VyLnBhcnNlSW50
KGluZGV4KSwga2xhc3MpOwp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggdGhlIGdpdmVu
IGl0ZW0gaW5zZXJ0ZWQgYXQgdGhlIGdpdmVuIGluZGV4CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBp
bnNlcnQoVFtdIGFycmF5LCBUIGl0ZW0sIGludCBpbmRleCwgQ2xhc3M8VD4ga2xhc3MpIHsKICBp
ZiAoYXJyYXkgPT0gbnVsbCkgYXJyYXkgPSAoVFtdKWphdmEubGFuZy5yZWZsZWN0LkFycmF5Lm5l
d0luc3RhbmNlKGtsYXNzLCAwKTsKCiAgamF2YS51dGlsLkFycmF5TGlzdDxUPiBsaXN0ID0gbmV3
IGphdmEudXRpbC5BcnJheUxpc3Q8VD4oamF2YS51dGlsLkFycmF5cy5hc0xpc3QoYXJyYXkpKTsK
CiAgaW50IGNhcGFjaXR5ID0gMDsKICBpZiAoaW5kZXggPCAwKSBpbmRleCArPSBsaXN0LnNpemUo
KSArIDE7CiAgaWYgKGluZGV4IDwgMCkgewogICAgY2FwYWNpdHkgPSAoaW5kZXggKiAtMSkgKyBs
aXN0LnNpemUoKTsKICAgIGluZGV4ID0gMDsKICB9IGVsc2UgewogICAgY2FwYWNpdHkgPSBpbmRl
eDsKICB9CgogIGxpc3QuZW5zdXJlQ2FwYWNpdHkoY2FwYWNpdHkpOwogIGlmIChjYXBhY2l0eSA+
PSBsaXN0LnNpemUoKSkgewogICAgLy8gZmlsbCB0aGUgbGlzdCB3aXRoIG51bGxzIGlmIGl0IG5l
ZWRzIHRvIGJlIGV4dGVuZGVkCiAgICBmb3IgKGludCBpID0gbGlzdC5zaXplKCk7IGkgPCBjYXBh
Y2l0eTsgaSsrKSB7CiAgICAgIGxpc3QuYWRkKGksIG51bGwpOwogICAgfQogIH0KICBsaXN0LmFk
ZChpbmRleCwgaXRlbSk7CiAgCiAgcmV0dXJuIGxpc3QudG9BcnJheShhcnJheSk7Cn0KCi8vIHJl
dHVybnMgYSBuZXcgYXJyYXksIHdpdGggdGhlIGdpdmVuIGVsZW1lbnQgaW5zZXJ0ZWQgYXQgdGhl
IGdpdmVuIGluZGV4CnB1YmxpYyBzdGF0aWMgPFQ+IHZvaWQgaW5zZXJ0KElEYXRhIHBpcGVsaW5l
LCBDbGFzczxUPiBrbGFzcykgewogIElEYXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVsaW5lLmdldEN1
cnNvcigpOwoKICB0cnkgewogICAgVFtdIGxpc3QgPSAoVFtdKUlEYXRhVXRpbC5nZXRPYmplY3RB
cnJheShjdXJzb3IsICIkbGlzdCIpOwogICAgVCBpdGVtID0gKFQpSURhdGFVdGlsLmdldChjdXJz
b3IsICIkaXRlbSIpOwogICAgU3RyaW5nIGluZGV4ID0gSURhdGFVdGlsLmdldFN0cmluZyhjdXJz
b3IsICIkaW5kZXgiKTsKCiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgIiRsaXN0IiwgaW5zZXJ0
KGxpc3QgPT0gbnVsbCA/IG51bGwgOiBqYXZhLnV0aWwuQXJyYXlzLmNvcHlPZihsaXN0LCBsaXN0
Lmxlbmd0aCwgKENsYXNzPFRbXT4pamF2YS5sYW5nLnJlZmxlY3QuQXJyYXkubmV3SW5zdGFuY2Uo
a2xhc3MsIDApLmdldENsYXNzKCkpLCBpdGVtLCBpbmRleCwga2xhc3MpKTsKICB9IGZpbmFsbHkg
ewogICAgY3Vyc29yLmRlc3Ryb3koKTsKICB9Cn0KCi8vIHJldHVybnMgb25seSB0aGUgaXRlbXMg
aW4geCB0aGF0IGFyZSBhbHNvIGluIHkKcHVibGljIHN0YXRpYyA8VD4gVFtdIGludGVyc2VjdGlv
bihUW10geCwgVFtdIHkpIHsKICBpZiAoeCA9PSBudWxsIHx8IHkgPT0gbnVsbCkgcmV0dXJuIG51
bGw7CgogIGphdmEudXRpbC5MaXN0PFQ+IGQgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxUPih4
Lmxlbmd0aCk7CiAgZC5hZGRBbGwoamF2YS51dGlsLkFycmF5cy5hc0xpc3QoeCkpOwogIGQucmV0
YWluQWxsKGphdmEudXRpbC5BcnJheXMuYXNMaXN0KHkpKTsKICAKICByZXR1cm4gZC50b0FycmF5
KGphdmEudXRpbC5BcnJheXMuY29weU9mKHgsIDApKTsKfQoKLy8gcmV0dXJucyBhIHN0cmluZyBj
cmVhdGVkIGJ5IGNvbmNhdGVuYXRpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBnaXZlbiBhcnJheSwg
c2VwYXJhdGVkIGJ5IHRoZSBnaXZlbiBzZXBhcmF0b3Igc3RyaW5nCnB1YmxpYyBzdGF0aWMgPFQ+
IFN0cmluZyBqb2luKFRbXSBhcnJheSwgU3RyaW5nIHNlcGFyYXRvcikgewogIFN0cmluZ0J1aWxk
ZXIgYnVpbGRlciA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7CiAgCiAgaWYgKGFycmF5ICE9IG51bGwp
IHsKICAgIGZvciAoaW50IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgVCB2
YWx1ZSA9IGFycmF5W2ldOwogICAgICBpZiAodmFsdWUgIT0gbnVsbCkgYnVpbGRlci5hcHBlbmQo
dmFsdWUudG9TdHJpbmcoKSk7CiAgICAgIGlmIChzZXBhcmF0b3IgIT0gbnVsbCAmJiBpIDwgYXJy
YXkubGVuZ3RoIC0gMSkgYnVpbGRlci5hcHBlbmQoc2VwYXJhdG9yKTsKICAgIH0KICB9CiAgCiAg
cmV0dXJuIGJ1aWxkZXIudG9TdHJpbmcoKTsKfQoKLy8gcmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRo
ZSBnaXZlbiBhcnJheQpwdWJsaWMgc3RhdGljIDxUPiBpbnQgbGVuZ3RoKFRbXSBhcnJheSkgewog
IHJldHVybiAoYXJyYXkgPT0gbnVsbD8gMCA6IGFycmF5Lmxlbmd0aCk7Cn0KCi8vIG1hcHMgdGhl
IGdpdmVuIGFycmF5IHRvIGEgbmV3IGFycmF5IGJ5IGludm9raW5nIGEgc2VydmljZSBmb3IgZWFj
aCBlbGVtZW50IGFuZCBjb2xsZWN0aW5nIHRoZSBvdXRwdXQKcHVibGljIHN0YXRpYyA8VD4gdm9p
ZCBtYXAoSURhdGEgcGlwZWxpbmUsIENsYXNzPFQ+IGtsYXNzKSB0aHJvd3MgU2VydmljZUV4Y2Vw
dGlvbiB7CiAgSURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgogIHRy
eSB7CiAgICBPYmplY3RbXSBsaXN0ID0gSURhdGFVdGlsLmdldE9iamVjdEFycmF5KGN1cnNvciwg
IiRsaXN0Iik7CiAgICBTdHJpbmcgc2VydmljZSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoY3Vyc29y
LCAiJHNlcnZpY2UiKTsKICAgIElEYXRhIHNjb3BlID0gSURhdGFVdGlsLmdldElEYXRhKGN1cnNv
ciwgIiRwaXBlbGluZSIpOwogICAgU3RyaW5nIGlucHV0ID0gSURhdGFVdGlsLmdldFN0cmluZyhj
dXJzb3IsICIkaXRlbS5pbnB1dCIpOwogICAgU3RyaW5nIG91dHB1dCA9IElEYXRhVXRpbC5nZXRT
dHJpbmcoY3Vyc29yLCAiJGl0ZW0ub3V0cHV0Iik7CgogICAgYm9vbGVhbiBzY29wZWQgPSBzY29w
ZSAhPSBudWxsOwoKICAgIC8vIGludm9rZSB0aGUgc2VydmljZSBmb3IgZWFjaCBpdGVtIGluIHRo
ZSBsaXN0LCBwYXNzaW5nICRpdGVtIGFuZCAkaW5kZXggdmFyaWFibGVzIG9uIGVhY2ggaW52b2Nh
dGlvbgogICAgLy8gYW5kIGNvbGxlY3QgdGhlIHJldHVybmVkICRpdGVtJ3MgaW50byBhIG5ldyBs
aXN0CiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgIiRsaXN0IiwgbWFwKGxpc3QgPT0gbnVsbCA/
IG51bGwgOiBqYXZhLnV0aWwuQXJyYXlzLmNvcHlPZihsaXN0LCBsaXN0Lmxlbmd0aCwgKENsYXNz
PFRbXT4pamF2YS5sYW5nLnJlZmxlY3QuQXJyYXkubmV3SW5zdGFuY2Uoa2xhc3MsIDApLmdldENs
YXNzKCkpLCBzZXJ2aWNlLCBzY29wZWQgPyBzY29wZSA6IHBpcGVsaW5lLCBpbnB1dCwgb3V0cHV0
KSk7CiAgfSBmaW5hbGx5IHsKICAgIGN1cnNvci5kZXN0cm95KCk7CiAgfQp9CgovLyBtYXBzIHRo
ZSBnaXZlbiBhcnJheSB0byBhIG5ldyBhcnJheSBieSBpbnZva2luZyBhIHNlcnZpY2UgZm9yIGVh
Y2ggZWxlbWVudCBhbmQgY29sbGVjdGluZyB0aGUgb3V0cHV0CnB1YmxpYyBzdGF0aWMgPFQ+IFRb
XSBtYXAoVFtdIGFycmF5LCBTdHJpbmcgc2VydmljZSwgSURhdGEgcGlwZWxpbmUsIFN0cmluZyBp
bnB1dCwgU3RyaW5nIG91dHB1dCkgdGhyb3dzIFNlcnZpY2VFeGNlcHRpb24gewogIGlmIChhcnJh
eSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA9PSAwIHx8IHNlcnZpY2UgPT0gbnVsbCkgcmV0dXJu
IGFycmF5OwogIGlmIChwaXBlbGluZSA9PSBudWxsKSBwaXBlbGluZSA9IElEYXRhRmFjdG9yeS5j
cmVhdGUoKTsKICBpZiAoaW5wdXQgPT0gbnVsbCkgaW5wdXQgPSAiJGl0ZW0iOwogIGlmIChvdXRw
dXQgPT0gbnVsbCkgb3V0cHV0ID0gaW5wdXQ7CiAgIAogIGphdmEudXRpbC5MaXN0PFQ+IGxpc3Qg
PSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxUPihhcnJheS5sZW5ndGgpOwogIElEYXRhQ3Vyc29y
IGN1cnNvciA9IG51bGw7CiAgCiAgZm9yIChpbnQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkr
KykgewogICAgLy8gYWRkICRpdGVtLCAkaW5kZXgsICRpdGVyYXRpb24gYW5kICRsZW5ndGggdmFy
aWFibGVzIHRvIHRoZSBpbnB1dCBwaXBlbGluZQogICAgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vy
c29yKCk7CiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwgaW5wdXQsIGFycmF5W2ldKTsKICAgIElE
YXRhVXRpbC5wdXQoY3Vyc29yLCAiJGluZGV4IiwgIiIgKyBpKTsKICAgIElEYXRhVXRpbC5wdXQo
Y3Vyc29yLCAiJGl0ZXJhdGlvbiIsICIiICsgKGkgKyAxKSk7CiAgICBJRGF0YVV0aWwucHV0KGN1
cnNvciwgIiRsZW5ndGgiLCAiIiArIGFycmF5Lmxlbmd0aCk7CiAgICBjdXJzb3IuZGVzdHJveSgp
OwoKICAgIC8vIGludm9rZSB0aGUgaXRlcmF0b3Igc2VydmljZQogICAgcGlwZWxpbmUgPSB0dW5k
cmEuc2VydmljZS5pbnZva2Uoc2VydmljZSwgcGlwZWxpbmUpOwoKICAgIC8vIGNsZWFuIHVwIHRo
ZSBpbnB1dCBwaXBlbGluZQogICAgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CiAgICBU
IGl0ZW0gPSAoVClJRGF0YVV0aWwuZ2V0KGN1cnNvciwgb3V0cHV0KTsKICAgIElEYXRhVXRpbC5y
ZW1vdmUoY3Vyc29yLCBpbnB1dCk7CiAgICBJRGF0YVV0aWwucmVtb3ZlKGN1cnNvciwgb3V0cHV0
KTsKICAgIElEYXRhVXRpbC5yZW1vdmUoY3Vyc29yLCAiJGluZGV4Iik7CiAgICBJRGF0YVV0aWwu
cmVtb3ZlKGN1cnNvciwgIiRpdGVyYXRpb24iKTsKICAgIElEYXRhVXRpbC5yZW1vdmUoY3Vyc29y
LCAiJGxlbmd0aCIpOwogICAgY3Vyc29yLmRlc3Ryb3koKTsKICAgIAogICAgLy8gY29sbGVjdCB0
aGUgbWFwcGVkIGl0ZW1zCiAgICBsaXN0LmFkZChpdGVtKTsKICB9CiAgCiAgcmV0dXJuIGxpc3Qu
dG9BcnJheShqYXZhLnV0aWwuQXJyYXlzLmNvcHlPZihhcnJheSwgMCkpOwp9CgovLyByZXR1cm5z
IGEgbmV3IGFycmF5IHdpdGggYSBuZXcgZWxlbWVudCBpbnNlcnRlZCBhdCB0aGUgYmVnaW5uaW5n
CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBwcmVwZW5kKFRbXSBhcnJheSwgVCBpdGVtLCBDbGFzczxU
PiBrbGFzcykgewogIHJldHVybiBpbnNlcnQoYXJyYXksIGl0ZW0sIDAsIGtsYXNzKTsKfQoKLy8g
cmV0dXJucyBhIG5ldyBhcnJheSwgd2l0aCB0aGUgZ2l2ZW4gZWxlbWVudCBpbnNlcnRlZCBhdCB0
aGUgZW5kCnB1YmxpYyBzdGF0aWMgPFQ+IHZvaWQgcHJlcGVuZChJRGF0YSBwaXBlbGluZSwgQ2xh
c3M8VD4ga2xhc3MpIHsKICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3Io
KTsKCiAgdHJ5IHsKICAgIFRbXSBsaXN0ID0gKFRbXSlJRGF0YVV0aWwuZ2V0T2JqZWN0QXJyYXko
Y3Vyc29yLCAiJGxpc3QiKTsKICAgIFQgaXRlbSA9IChUKUlEYXRhVXRpbC5nZXQoY3Vyc29yLCAi
JGl0ZW0iKTsKCiAgICBsaXN0ID0gcHJlcGVuZChsaXN0ID09IG51bGwgPyBudWxsIDogamF2YS51
dGlsLkFycmF5cy5jb3B5T2YobGlzdCwgbGlzdC5sZW5ndGgsIChDbGFzczxUW10+KWphdmEubGFu
Zy5yZWZsZWN0LkFycmF5Lm5ld0luc3RhbmNlKGtsYXNzLCAwKS5nZXRDbGFzcygpKSwgaXRlbSwg
a2xhc3MpOwoKICAgIGlmIChsaXN0ICE9IG51bGwpIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAiJGxp
c3QiLCBsaXN0KTsKICB9IGZpbmFsbHkgewogICAgY3Vyc29yLmRlc3Ryb3koKTsKICB9Cn0KCi8v
IHNldHMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkgYXQgdGhlIGdpdmVuIGluZGV4
IChzdXBwb3J0cyBydWJ5LXN0eWxlIHJldmVyc2UgaW5kZXhpbmcpCnB1YmxpYyBzdGF0aWMgPFQ+
IFRbXSBwdXQoVFtdIGFycmF5LCBUIGl0ZW0sIFN0cmluZyBpbmRleCwgQ2xhc3M8VD4ga2xhc3Mp
IHsKICByZXR1cm4gcHV0KGFycmF5LCBpdGVtLCBJbnRlZ2VyLnBhcnNlSW50KGluZGV4KSwga2xh
c3MpOwp9CgovLyBzZXRzIHRoZSBlbGVtZW50IGZyb20gdGhlIGdpdmVuIGFycmF5IGF0IHRoZSBn
aXZlbiBpbmRleCAoc3VwcG9ydHMgcnVieS1zdHlsZSByZXZlcnNlIGluZGV4aW5nKQpwdWJsaWMg
c3RhdGljIDxUPiBUW10gcHV0KFRbXSBhcnJheSwgVCBpdGVtLCBpbnQgaW5kZXgsIENsYXNzPFQ+
IGtsYXNzKSB7CiAgaWYgKGFycmF5ID09IG51bGwpIGFycmF5ID0gKFRbXSlqYXZhLmxhbmcucmVm
bGVjdC5BcnJheS5uZXdJbnN0YW5jZShrbGFzcywgMCk7CgogIC8vIHN1cHBvcnQgcmV2ZXJzZS90
YWlsIGluZGV4aW5nCiAgaWYgKGluZGV4IDwgMCkgaW5kZXggKz0gYXJyYXkubGVuZ3RoOwogIGlu
dCBjYXBhY2l0eSA9IDA7CiAgaWYgKGluZGV4IDwgMCkgewogICAgY2FwYWNpdHkgPSAoaW5kZXgg
KiAtMSkgKyBhcnJheS5sZW5ndGg7CiAgICBpbmRleCA9IDA7CiAgfSBlbHNlIHsKICAgIGNhcGFj
aXR5ID0gaW5kZXggKyAxOwogIH0KICBpZiAoY2FwYWNpdHkgPiBhcnJheS5sZW5ndGgpIGFycmF5
ID0gamF2YS51dGlsLkFycmF5cy5jb3B5T2YoYXJyYXksIGNhcGFjaXR5KTsKCiAgYXJyYXlbaW5k
ZXhdID0gaXRlbTsKCiAgcmV0dXJuIGFycmF5Owp9CgovLyBzZXRzIHRoZSBlbGVtZW50IGZyb20g
dGhlIGdpdmVuIGFycmF5IGF0IHRoZSBnaXZlbiBpbmRleCAoc3VwcG9ydHMgcnVieS1zdHlsZSBy
ZXZlcnNlIGluZGV4aW5nKQpwdWJsaWMgc3RhdGljIDxUPiB2b2lkIHB1dChJRGF0YSBwaXBlbGlu
ZSwgQ2xhc3M8VD4ga2xhc3MpIHsKICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRD
dXJzb3IoKTsKCiAgdHJ5IHsKICAgIFRbXSBsaXN0ID0gKFRbXSlJRGF0YVV0aWwuZ2V0T2JqZWN0
QXJyYXkoY3Vyc29yLCAiJGxpc3QiKTsKICAgIFQgaXRlbSA9IChUKUlEYXRhVXRpbC5nZXQoY3Vy
c29yLCAiJGl0ZW0iKTsKICAgIFN0cmluZyBpbmRleCA9IElEYXRhVXRpbC5nZXRTdHJpbmcoY3Vy
c29yLCAiJGluZGV4Iik7CgogICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICIkbGlzdCIsIHB1dChs
aXN0ID09IG51bGwgPyBudWxsIDogamF2YS51dGlsLkFycmF5cy5jb3B5T2YobGlzdCwgbGlzdC5s
ZW5ndGgsIChDbGFzczxUW10+KWphdmEubGFuZy5yZWZsZWN0LkFycmF5Lm5ld0luc3RhbmNlKGts
YXNzLCAwKS5nZXRDbGFzcygpKSwgaXRlbSwgaW5kZXgsIGtsYXNzKSk7CiAgfSBmaW5hbGx5IHsK
ICAgIGN1cnNvci5kZXN0cm95KCk7CiAgfQp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5IHdpdGgg
YWxsIGVsZW1lbnRzIGZyb20gdGhlIGdpdmVuIGFycmF5IGJ1dCBpbiByZXZlcnNlIG9yZGVyCnB1
YmxpYyBzdGF0aWMgPFQ+IFRbXSByZXZlcnNlKFRbXSBhcnJheSkgewogIGlmIChhcnJheSA9PSBu
dWxsIHx8IGFycmF5Lmxlbmd0aCA8PSAxKSByZXR1cm4gYXJyYXk7CiAgCiAgamF2YS51dGlsLkFy
cmF5TGlzdDxUPiBsaXN0ID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8VD4oamF2YS51dGlsLkFy
cmF5cy5hc0xpc3QoYXJyYXkpKTsKICBqYXZhLnV0aWwuQ29sbGVjdGlvbnMucmV2ZXJzZShsaXN0
KTsKICAKICByZXR1cm4gbGlzdC50b0FycmF5KGphdmEudXRpbC5BcnJheXMuY29weU9mKGFycmF5
LCAwKSk7ICAKfQoKLy8gcmV0dXJucyBhIG5ldyBhcnJheSB3aGljaCBpcyBhIHN1YnNldCBvZiBl
bGVtZW50cyBmcm9tIHRoZSBnaXZlbiBhcnJheQpwdWJsaWMgc3RhdGljIDxUPiBUW10gc2xpY2Uo
VFtdIGFycmF5LCBTdHJpbmcgaW5kZXgsIFN0cmluZyBsZW5ndGgpIHsKICByZXR1cm4gc2xpY2Uo
YXJyYXksIGluZGV4ID09IG51bGwgPyAwIDogSW50ZWdlci5wYXJzZUludChpbmRleCksIGxlbmd0
aCA9PSBudWxsID8gKGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoKSA6IEludGVnZXIu
cGFyc2VJbnQobGVuZ3RoKSk7Cn0KCi8vIHJldHVybnMgYSBuZXcgYXJyYXkgd2hpY2ggaXMgYSBz
dWJzZXQgb2YgZWxlbWVudHMgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkKcHVibGljIHN0YXRpYyA8VD4g
VFtdIHNsaWNlKFRbXSBhcnJheSwgaW50IGluZGV4LCBpbnQgbGVuZ3RoKSB7CiAgaWYgKGFycmF5
ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoID09IDApIHJldHVybiBhcnJheTsKICAvLyBzdXBwb3J0
IHJldmVyc2UvdGFpbCBsZW5ndGgKICBpZiAobGVuZ3RoIDwgMCkgbGVuZ3RoID0gYXJyYXkubGVu
Z3RoICsgbGVuZ3RoOwogIC8vIHN1cHBvcnQgcmV2ZXJzZS90YWlsIGluZGV4aW5nCiAgaWYgKGlu
ZGV4IDwgMCkgaW5kZXggKz0gYXJyYXkubGVuZ3RoOwogIC8vIGRvbid0IHNsaWNlIHBhc3QgdGhl
IGVuZCBvZiB0aGUgYXJyYXkKICBpZiAoKGxlbmd0aCArPSBpbmRleCkgPiBhcnJheS5sZW5ndGgp
IGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsKICAKICByZXR1cm4gamF2YS51dGlsLkFycmF5cy5jb3B5
T2ZSYW5nZShhcnJheSwgaW5kZXgsIGxlbmd0aCk7Cn0KCi8vIHJldHVybnMgYSBuZXcgYXJyYXkg
d2l0aCBhbGwgZWxlbWVudHMgc29ydGVkCnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBzb3J0KFRbXSBh
cnJheSkgewogIGlmIChhcnJheSA9PSBudWxsIHx8IGFycmF5Lmxlbmd0aCA8PSAxKSByZXR1cm4g
YXJyYXk7CiAgCiAgVFtdIGNvcHkgPSBqYXZhLnV0aWwuQXJyYXlzLmNvcHlPZihhcnJheSwgYXJy
YXkubGVuZ3RoKTsKICBqYXZhLnV0aWwuQXJyYXlzLnNvcnQoY29weSk7CiAgcmV0dXJuIGNvcHk7
Cn0KCi8vIHJldHVybnMgYSBuZXcgYXJyYXkgd2l0aCBhbGwgZHVwbGljYXRlIGVsZW1lbnRzIHJl
bW92ZWQKcHVibGljIHN0YXRpYyA8VD4gVFtdIHVuaXF1ZShUW10gYXJyYXkpIHsKICBpZiAoYXJy
YXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPD0gMSkgcmV0dXJuIGFycmF5OwogIAogIGphdmEu
dXRpbC5TZXQ8VD4gc2V0ID0gbmV3IGphdmEudXRpbC5UcmVlU2V0PFQ+KGphdmEudXRpbC5BcnJh
eXMuYXNMaXN0KGFycmF5KSk7CiAgCiAgcmV0dXJuIHNldC50b0FycmF5KGphdmEudXRpbC5BcnJh
eXMuY29weU9mKGFycmF5LCAwKSk7Cn0=</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
  </array>
</Values>
