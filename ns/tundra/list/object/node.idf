<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="node_type">interface</value>
  <value name="node_nsName">tundra.list.object</value>
  <value name="shared">Ly8gcmV0dXJucyBhIG5ldyBhcnJheSwgd2l0aCB0aGUgZ2l2ZW4gZWxlbWVudCBpbnNlcnRlZCBh
dCB0aGUgZW5kCnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBhcHBlbmQoVFtdIGFycmF5LCBUIGl0ZW0s
IENsYXNzPFQ+IGtsYXNzKSB7CiAgcmV0dXJuIGluc2VydChhcnJheSwgaXRlbSwgLTEsIGtsYXNz
KTsKfQoKLy8gcmV0dXJucyBhIG5ldyBhcnJheSwgd2l0aCB0aGUgZ2l2ZW4gZWxlbWVudCBpbnNl
cnRlZCBhdCB0aGUgZW5kCnB1YmxpYyBzdGF0aWMgPFQ+IHZvaWQgYXBwZW5kKElEYXRhIHBpcGVs
aW5lLCBDbGFzczxUPiBrbGFzcykgewogIElEYXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVsaW5lLmdl
dEN1cnNvcigpOwoKICB0cnkgewogICAgVFtdIGxpc3QgPSAoVFtdKUlEYXRhVXRpbC5nZXRPYmpl
Y3RBcnJheShjdXJzb3IsICIkbGlzdCIpOwogICAgVCBpdGVtID0gKFQpSURhdGFVdGlsLmdldChj
dXJzb3IsICIkaXRlbSIpOwoKICAgIGxpc3QgPSBhcHBlbmQobGlzdCA9PSBudWxsID8gbnVsbCA6
IGphdmEudXRpbC5BcnJheXMuY29weU9mKGxpc3QsIGxpc3QubGVuZ3RoLCAoQ2xhc3M8VFtdPilq
YXZhLmxhbmcucmVmbGVjdC5BcnJheS5uZXdJbnN0YW5jZShrbGFzcywgMCkuZ2V0Q2xhc3MoKSks
IGl0ZW0sIGtsYXNzKTsKCiAgICBpZiAobGlzdCAhPSBudWxsKSBJRGF0YVV0aWwucHV0KGN1cnNv
ciwgIiRsaXN0IiwgbGlzdCk7CiAgfSBmaW5hbGx5IHsKICAgIGN1cnNvci5kZXN0cm95KCk7CiAg
fQp9CgovLyByZXR1cm5zIHRoZSBmaXJzdCBub24tbnVsbCBpdGVtIGZyb20gdGhlIGdpdmVuIGxp
c3QsIG9yIGRlZmF1bHRWYWx1ZSBpZiBhbGwgaXRlbXMgYXJlIG51bGwKcHVibGljIHN0YXRpYyA8
VD4gVCBjb2FsZXNjZShUW10gbGlzdCwgVCBkZWZhdWx0VmFsdWUpIHsgCiAgVCByZXN1bHQgPSBu
dWxsOwoKICBpZiAobGlzdCAhPSBudWxsICYmIGxpc3QubGVuZ3RoID4gMCkgeyAgCiAgICBmb3Ig
KGludCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0ID0gbGlzdFtp
XTsKICAgICAgaWYgKHJlc3VsdCAhPSBudWxsKSBicmVhazsKICAgIH0KICB9CiAgaWYgKHJlc3Vs
dCA9PSBudWxsKSByZXN1bHQgPSBkZWZhdWx0VmFsdWU7CgogIHJldHVybiByZXN1bHQ7Cn0KCi8v
IHJldHVybnMgdGhlIGZpcnN0IG5vbi1udWxsIGl0ZW0gZnJvbSB0aGUgZ2l2ZW4gbGlzdApwdWJs
aWMgc3RhdGljIDxUPiBUIGNvYWxlc2NlKFRbXSBsaXN0KSB7IAogIHJldHVybiBjb2FsZXNjZShs
aXN0LCBudWxsKTsKfQoKLy8gcmV0dXJucyBhIG5ldyBhcnJheSB3aXRoIGFsbCBudWxsIGVsZW1l
bnRzIHJlbW92ZWQKcHVibGljIHN0YXRpYyA8VD4gVFtdIGNvbXBhY3QoVFtdIGFycmF5KSB7CiAg
aWYgKGFycmF5ID09IG51bGwpIHJldHVybiBhcnJheTsKICAKICBqYXZhLnV0aWwuTGlzdDxUPiBs
aXN0ID0gbmV3IGphdmEudXRpbC5BcnJheUxpc3Q8VD4oYXJyYXkubGVuZ3RoKTsKCiAgZm9yIChp
bnQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgaWYgKGFycmF5W2ldICE9IG51
bGwpIGxpc3QuYWRkKGFycmF5W2ldKTsKICB9CiAgCiAgcmV0dXJuIGxpc3QudG9BcnJheShqYXZh
LnV0aWwuQXJyYXlzLmNvcHlPZihhcnJheSwgMCkpOwp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5
IHdoaWNoIGNvbnRhaW5zIGFsbCB0aGUgZWxlbWVudHMgZnJvbSB0aGUgZ2l2ZW4gYXJyYXlzCnB1
YmxpYyBzdGF0aWMgPFQ+IFRbXSBjb25jYXRlbmF0ZShUW10gYXJyYXksIFRbXSBpdGVtcykgewog
IGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gaXRlbXM7CiAgaWYgKGl0ZW1zID09IG51bGwpIHJl
dHVybiBhcnJheTsKCiAgamF2YS51dGlsLkxpc3Q8VD4gbGlzdCA9IG5ldyBqYXZhLnV0aWwuQXJy
YXlMaXN0PFQ+KGFycmF5Lmxlbmd0aCArIGl0ZW1zLmxlbmd0aCk7CiAgCiAgamF2YS51dGlsLkNv
bGxlY3Rpb25zLmFkZEFsbChsaXN0LCBhcnJheSk7CiAgamF2YS51dGlsLkNvbGxlY3Rpb25zLmFk
ZEFsbChsaXN0LCBpdGVtcyk7CiAgCiAgcmV0dXJuIGxpc3QudG9BcnJheShqYXZhLnV0aWwuQXJy
YXlzLmNvcHlPZihhcnJheSwgMCkpOwp9CgovLyByZXR1cm5zIG9ubHkgdGhlIGl0ZW1zIGluIHgg
dGhhdCBhcmUgbm90IGFsc28gaW4geQpwdWJsaWMgc3RhdGljIDxUPiBUW10gZGlmZmVyZW5jZShU
W10geCwgVFtdIHkpIHsKICBpZiAoeCA9PSBudWxsIHx8IHkgPT0gbnVsbCkgcmV0dXJuIHg7Cgog
IGphdmEudXRpbC5MaXN0PFQ+IGQgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxUPih4Lmxlbmd0
aCk7CiAgZC5hZGRBbGwoamF2YS51dGlsLkFycmF5cy5hc0xpc3QoeCkpOwogIGQucmVtb3ZlQWxs
KGphdmEudXRpbC5BcnJheXMuYXNMaXN0KHkpKTsKICAKICByZXR1cm4gZC50b0FycmF5KGphdmEu
dXRpbC5BcnJheXMuY29weU9mKHgsIDApKTsKfQoKLy8gcmVtb3ZlcyB0aGUgZWxlbWVudCBhdCB0
aGUgZ2l2ZW4gaW5kZXggZnJvbSB0aGUgZ2l2ZW4gbGlzdApwdWJsaWMgc3RhdGljIDxUPiBUW10g
ZHJvcChUW10gYXJyYXksIFN0cmluZyBpbmRleCkgewogIHJldHVybiBkcm9wKGFycmF5LCBJbnRl
Z2VyLnBhcnNlSW50KGluZGV4KSk7Cn0KCi8vIHJlbW92ZXMgdGhlIGVsZW1lbnQgYXQgdGhlIGdp
dmVuIGluZGV4IGZyb20gdGhlIGdpdmVuIGxpc3QKcHVibGljIHN0YXRpYyA8VD4gVFtdIGRyb3Ao
VFtdIGFycmF5LCBpbnQgaW5kZXgpIHsKICBpZiAoYXJyYXkgIT0gbnVsbCkgewogICAgLy8gc3Vw
cG9ydCByZXZlcnNlL3RhaWwgaW5kZXhpbmcKICAgIGlmIChpbmRleCA8IDApIGluZGV4ICs9IGFy
cmF5Lmxlbmd0aDsKICAgIGlmIChpbmRleCA8IDAgfHwgYXJyYXkubGVuZ3RoIDw9IGluZGV4KSB0
aHJvdyBuZXcgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4KTsKCiAgICBUW10g
aGVhZCA9IHNsaWNlKGFycmF5LCAwLCBpbmRleCk7CiAgICBUW10gdGFpbCA9IHNsaWNlKGFycmF5
LCBpbmRleCArIDEsIGFycmF5Lmxlbmd0aCAtIGluZGV4KTsKCiAgICBhcnJheSA9IGNvbmNhdGVu
YXRlKGhlYWQsIHRhaWwpOyAgICAgIAogIH0KCiAgcmV0dXJuIGFycmF5Owp9CgovLyBpbnZva2Vz
IHRoZSBnaXZlbiBzZXJ2aWNlIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIGFycmF5CnB1YmxpYyBz
dGF0aWMgPFQ+IHZvaWQgZWFjaChUW10gYXJyYXksIFN0cmluZyBzZXJ2aWNlLCBJRGF0YSBwaXBl
bGluZSwgU3RyaW5nIGlucHV0KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlvbiB7CiAgbWFwKGFycmF5
LCBzZXJ2aWNlLCBwaXBlbGluZSwgaW5wdXQsIG51bGwpOwp9CgovLyByZXR1cm5zIHRydWUgaWYg
dGhlIGdpdmVuIGFycmF5cyBhcmUgZXF1YWwKcHVibGljIHN0YXRpYyA8VD4gYm9vbGVhbiBlcXVh
bChUW10geCwgVFtdIHkpIHsKICBib29sZWFuIHJlc3VsdCA9IHRydWU7CgogIGlmICh4ICE9IG51
bGwgJiYgeSAhPSBudWxsKSB7CiAgICByZXN1bHQgPSAoeC5sZW5ndGggPT0geS5sZW5ndGgpOwoK
ICAgIGlmIChyZXN1bHQpIHsKICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsr
KSB7CiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICYmIHR1bmRyYS5vYmplY3QuZXF1YWwoeFtpXSwg
eVtpXSk7CiAgICAgICAgaWYgKCFyZXN1bHQpIGJyZWFrOwogICAgICB9CiAgICB9CiAgfSBlbHNl
IHsKICAgIHJlc3VsdCA9ICh4ID09IG51bGwgJiYgeSA9PSBudWxsKTsKICB9CgogIHJldHVybiBy
ZXN1bHQ7Cn0KCi8vIGZpbHRlcnMgdGhlIGdpdmVuIGFycmF5IGJ5IGV2YWx1YXRpbmcgdGhlIGNv
bmRpdGlvbmFsIHN0YXRlbWVudCBhZ2FpbnN0IHRoZSAKLy8gZ2l2ZW4gcGlwZWxpbmUgYW5kIGVh
Y2ggaXRlbSBpbiB0aGUgYXJyYXkKcHVibGljIHN0YXRpYyA8VD4gVFtdIGZpbHRlcihUW10gYXJy
YXksIFN0cmluZyBjb25kaXRpb24sIElEYXRhIHBpcGVsaW5lKSB0aHJvd3MgU2VydmljZUV4Y2Vw
dGlvbiB7CiAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoID09IDAgfHwgY29uZGl0
aW9uID09IG51bGwgfHwgY29uZGl0aW9uLmVxdWFscygiIikpIHJldHVybiBhcnJheTsKICBpZiAo
cGlwZWxpbmUgPT0gbnVsbCkgcGlwZWxpbmUgPSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7CgogIGph
dmEudXRpbC5BcnJheUxpc3Q8VD4gbGlzdCA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PFQ+KGFy
cmF5Lmxlbmd0aCk7CgogIGZvciAoaW50IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsK
ICAgIElEYXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVsaW5lLmdldEN1cnNvcigpOwogICAgSURhdGFV
dGlsLnB1dChjdXJzb3IsICIkaXRlbSIsIGFycmF5W2ldKTsKCiAgICBpZiAodHVuZHJhLmNvbmRp
dGlvbi5ldmFsdWF0ZShjb25kaXRpb24sIHBpcGVsaW5lKSkgbGlzdC5hZGQoYXJyYXlbaV0pOwog
ICAgCiAgICBJRGF0YVV0aWwucmVtb3ZlKGN1cnNvciwgIiRpdGVtIik7CiAgICBjdXJzb3IuZGVz
dHJveSgpOwogIH0KCiAgcmV0dXJuIGxpc3QudG9BcnJheShqYXZhLnV0aWwuQXJyYXlzLmNvcHlP
ZihhcnJheSwgMCkpOyAgCn0KCi8vIHJldHVybnMgYSBuZXcgYXJyYXkgd2hpY2ggaXMgYSBvbmUt
ZGltZW5zaW9uYWwgcmVjdXJzaXZlIGZsYXR0ZW5pbmcgb2YgdGhlIGdpdmVuIGFycmF5CnB1Ymxp
YyBzdGF0aWMgPFQ+IFRbXSBmbGF0dGVuKFRbXSBhcnJheSkgewogIGlmIChhcnJheSA9PSBudWxs
IHx8IGFycmF5Lmxlbmd0aCA9PSAwKSByZXR1cm4gYXJyYXk7CgogIGphdmEudXRpbC5BcnJheUxp
c3Q8VD4gbGlzdCA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PFQ+KGFycmF5Lmxlbmd0aCk7Cgog
IGZvciAoaW50IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgIGlmIChhcnJheVtp
XSAhPSBudWxsICYmIGFycmF5W2ldLmdldENsYXNzKCkuaXNBcnJheSgpKSB7CiAgICAgIGxpc3Qu
ZW5zdXJlQ2FwYWNpdHkobGlzdC5zaXplKCkgKyAoKFRbXSlhcnJheVtpXSkubGVuZ3RoKTsKICAg
ICAgbGlzdC5hZGRBbGwoamF2YS51dGlsLkFycmF5cy5hc0xpc3QoZmxhdHRlbigoVFtdKWFycmF5
W2ldKSkpOwogICAgfSBlbHNlIHsKICAgICAgbGlzdC5hZGQoYXJyYXlbaV0pOwogICAgfQogIH0K
ICAKICByZXR1cm4gbGlzdC50b0FycmF5KGphdmEudXRpbC5BcnJheXMuY29weU9mKGFycmF5LCAw
KSk7ICAKfQoKLy8gcmV0dXJucyB0aGUgZWxlbWVudCBmcm9tIHRoZSBnaXZlbiBhcnJheSBhdCB0
aGUgZ2l2ZW4gaW5kZXggKHN1cHBvcnRzIHJ1Ynktc3R5bGUgcmV2ZXJzZSBpbmRleGluZykKcHVi
bGljIHN0YXRpYyA8VD4gVCBnZXQoVFtdIGFycmF5LCBTdHJpbmcgaW5kZXgsIFN0cmluZyBpdGVy
YXRpb24pIHsKICBpbnQgaSA9IDA7CiAgaWYgKGluZGV4ICE9IG51bGwpIHsKICAgIGkgPSBJbnRl
Z2VyLnBhcnNlSW50KGluZGV4KTsKICB9IGVsc2UgewogICAgaSA9IEludGVnZXIucGFyc2VJbnQo
aXRlcmF0aW9uKSAtIDE7CiAgfQogIHJldHVybiBnZXQoYXJyYXksIGkpOwp9CgovLyByZXR1cm5z
IHRoZSBlbGVtZW50IGZyb20gdGhlIGdpdmVuIGFycmF5IGF0IHRoZSBnaXZlbiBpbmRleCAoc3Vw
cG9ydHMgcnVieS1zdHlsZSByZXZlcnNlIGluZGV4aW5nKQpwdWJsaWMgc3RhdGljIDxUPiBUIGdl
dChUW10gYXJyYXksIFN0cmluZyBpbmRleCkgewogIHJldHVybiBnZXQoYXJyYXksIGluZGV4LCBu
dWxsKTsKfQoKLy8gcmV0dXJucyB0aGUgZWxlbWVudCBmcm9tIHRoZSBnaXZlbiBhcnJheSBhdCB0
aGUgZ2l2ZW4gaW5kZXggKHN1cHBvcnRzIHJ1Ynktc3R5bGUgcmV2ZXJzZSBpbmRleGluZykKcHVi
bGljIHN0YXRpYyA8VD4gVCBnZXQoVFtdIGFycmF5LCBpbnQgaW5kZXgpIHsKICBUIGl0ZW0gPSBu
dWxsOwogIAogIGlmIChhcnJheSAhPSBudWxsKSB7CiAgICAvLyBzdXBwb3J0IHJldmVyc2UvdGFp
bCBpbmRleGluZwogICAgaWYgKGluZGV4IDwgMCkgaW5kZXggKz0gYXJyYXkubGVuZ3RoOwogICAg
CiAgICBpdGVtID0gYXJyYXlbaW5kZXhdOwogIH0KICAKICByZXR1cm4gaXRlbTsKfQoKLy8gcmV0
dXJucyB0aGUgZmlyc3QgZWxlbWVudCBmcm9tIHRoZSBnaXZlbiBhcnJheQpwdWJsaWMgc3RhdGlj
IDxUPiBUIGZpcnN0KFRbXSBhcnJheSkgewogIHJldHVybiBnZXQoYXJyYXksIDApOwp9CgovLyBy
ZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkKcHVibGljIHN0YXRp
YyA8VD4gVCBsYXN0KFRbXSBhcnJheSkgewogIHJldHVybiBnZXQoYXJyYXksIC0xKTsKfQoKLy8g
cmVzaXplcyB0aGUgZ2l2ZW4gYXJyYXkgKG9yIGluc3RhbnRpYXRlcyBhIG5ldyBhcnJheSwgaWYg
bnVsbCkgdG8gdGhlIGRlc2lyZWQgbGVuZ3RoLCAKLy8gYW5kIHBhZHMgd2l0aCB0aGUgZ2l2ZW4g
aXRlbQpwdWJsaWMgc3RhdGljIDxUPiBUW10gcmVzaXplKFRbXSBhcnJheSwgaW50IG5ld0xlbmd0
aCwgVCBpdGVtLCBDbGFzczxUPiBrbGFzcykgewogIGlmIChhcnJheSA9PSBudWxsKSBhcnJheSA9
IChUW10pamF2YS5sYW5nLnJlZmxlY3QuQXJyYXkubmV3SW5zdGFuY2Uoa2xhc3MsIDApOwogIHJl
dHVybiByZXNpemUoYXJyYXksIG5ld0xlbmd0aCwgaXRlbSk7Cn0KCi8vIHJlc2l6ZXMgdGhlIGdp
dmVuIGFycmF5IHRvIHRoZSBkZXNpcmVkIGxlbmd0aCwgYW5kIHBhZHMgd2l0aCB0aGUgZ2l2ZW4g
aXRlbQpwdWJsaWMgc3RhdGljIDxUPiBUW10gcmVzaXplKFRbXSBhcnJheSwgaW50IG5ld0xlbmd0
aCwgVCBpdGVtKSB7CiAgaWYgKG5ld0xlbmd0aCA8IDApIG5ld0xlbmd0aCA9IGFycmF5Lmxlbmd0
aCArIG5ld0xlbmd0aDsKICBpZiAobmV3TGVuZ3RoIDwgMCkgbmV3TGVuZ3RoID0gMDsKCiAgaW50
IG9yaWdpbmFsTGVuZ3RoID0gYXJyYXkubGVuZ3RoOwogIGlmIChuZXdMZW5ndGggPT0gb3JpZ2lu
YWxMZW5ndGgpIHJldHVybiBhcnJheTsKCiAgYXJyYXkgPSBqYXZhLnV0aWwuQXJyYXlzLmNvcHlP
ZihhcnJheSwgbmV3TGVuZ3RoKTsKICBpZiAoaXRlbSAhPSBudWxsKSB7CiAgICBmb3IgKGludCBp
ID0gb3JpZ2luYWxMZW5ndGg7IGkgPCBuZXdMZW5ndGg7IGkrKykgYXJyYXlbaV0gPSBpdGVtOwog
IH0KICByZXR1cm4gYXJyYXk7Cn0KCi8vIHJlc2l6ZXMgdGhlIGdpdmVuIGFycmF5IHRvIHRoZSBk
ZXNpcmVkIGxlbmd0aCwgYW5kIHBhZHMgd2l0aCBudWxscwpwdWJsaWMgc3RhdGljIDxUPiBUW10g
cmVzaXplKFRbXSBhcnJheSwgaW50IG5ld0xlbmd0aCkgewogIHJldHVybiByZXNpemUoYXJyYXks
IG5ld0xlbmd0aCwgbnVsbCk7Cn0KCi8vIHJlc2l6ZXMgdGhlIGdpdmVuIGFycmF5IHRvIHRoZSBk
ZXNpcmVkIGxlbmd0aCwgYW5kIHBhZHMgd2l0aCB0aGUgZ2l2ZW4gaXRlbQpwdWJsaWMgc3RhdGlj
IDxUPiB2b2lkIHJlc2l6ZShJRGF0YSBwaXBlbGluZSwgQ2xhc3M8VD4ga2xhc3MpIHsKICBJRGF0
YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKCiAgdHJ5IHsKICAgIFRbXSBs
aXN0ID0gKFRbXSlJRGF0YVV0aWwuZ2V0T2JqZWN0QXJyYXkoY3Vyc29yLCAiJGxpc3QiKTsKICAg
IGludCBsZW5ndGggPSBJbnRlZ2VyLnBhcnNlSW50KElEYXRhVXRpbC5nZXRTdHJpbmcoY3Vyc29y
LCAiJGxlbmd0aCIpKTsKICAgIFQgaXRlbSA9IChUKUlEYXRhVXRpbC5nZXQoY3Vyc29yLCAiJGl0
ZW0iKTsKCiAgICBsaXN0ID0gcmVzaXplKGxpc3QsIGxlbmd0aCwgaXRlbSwga2xhc3MpOwoKICAg
IGlmIChsaXN0ICE9IG51bGwpIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAiJGxpc3QiLCBsaXN0KTsK
ICB9IGZpbmFsbHkgewogICAgY3Vyc29yLmRlc3Ryb3koKTsKICB9Cn0KCi8vIGdyb3dzIHRoZSBz
aXplIG9mIHRoZSBnaXZlbiBhcnJheSBieSB0aGUgZ2l2ZW4gY291bnQsIGFuZCBwYWRzIHdpdGgg
dGhlIGdpdmVuIGl0ZW0KcHVibGljIHN0YXRpYyA8VD4gVFtdIGdyb3coVFtdIGFycmF5LCBpbnQg
Y291bnQsIFQgaXRlbSwgQ2xhc3M8VD4ga2xhc3MpIHsKICByZXR1cm4gcmVzaXplKGFycmF5LCBh
cnJheSA9PSBudWxsID8gY291bnQgOiBhcnJheS5sZW5ndGggKyBjb3VudCwgaXRlbSwga2xhc3Mp
Owp9CgovLyBncm93cyB0aGUgZ2l2ZW4gYXJyYXkgdG8gdGhlIGRlc2lyZWQgbGVuZ3RoLCBhbmQg
cGFkcyB3aXRoIHRoZSBnaXZlbiBpdGVtCnB1YmxpYyBzdGF0aWMgPFQ+IHZvaWQgZ3JvdyhJRGF0
YSBwaXBlbGluZSwgQ2xhc3M8VD4ga2xhc3MpIHsKICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBl
bGluZS5nZXRDdXJzb3IoKTsKCiAgdHJ5IHsKICAgIFRbXSBsaXN0ID0gKFRbXSlJRGF0YVV0aWwu
Z2V0T2JqZWN0QXJyYXkoY3Vyc29yLCAiJGxpc3QiKTsKICAgIGludCBjb3VudCA9IEludGVnZXIu
cGFyc2VJbnQoSURhdGFVdGlsLmdldFN0cmluZyhjdXJzb3IsICIkY291bnQiKSk7CiAgICBUIGl0
ZW0gPSAoVClJRGF0YVV0aWwuZ2V0KGN1cnNvciwgIiRpdGVtIik7CgogICAgbGlzdCA9IGdyb3co
bGlzdCwgY291bnQsIGl0ZW0sIGtsYXNzKTsKCiAgICBpZiAobGlzdCAhPSBudWxsKSBJRGF0YVV0
aWwucHV0KGN1cnNvciwgIiRsaXN0IiwgbGlzdCk7CiAgfSBmaW5hbGx5IHsKICAgIGN1cnNvci5k
ZXN0cm95KCk7CiAgfQp9CgovLyBzaHJpbmtzIHRoZSBzaXplIG9mIHRoZSBnaXZlbiBhcnJheSBi
eSB0aGUgZ2l2ZW4gY291bnQKcHVibGljIHN0YXRpYyA8VD4gVFtdIHNocmluayhUW10gYXJyYXks
IGludCBjb3VudCkgewogIGlmIChhcnJheSAhPSBudWxsKSB7CiAgICBpbnQgbGVuZ3RoID0gYXJy
YXkubGVuZ3RoIC0gY291bnQ7CiAgICBhcnJheSA9IHJlc2l6ZShhcnJheSwgbGVuZ3RoIDwgMCA/
IDAgOiBsZW5ndGgpOwogIH0KICByZXR1cm4gYXJyYXk7Cn0KCi8vIHJldHVybnMgdHJ1ZSBpZiB0
aGUgZ2l2ZW4gaXRlbSBpcyBmb3VuZCBpbiB0aGUgZ2l2ZW4gYXJyYXkKcHVibGljIHN0YXRpYyA8
VD4gYm9vbGVhbiBpbmNsdWRlKFRbXSBhcnJheSwgVCBpdGVtKSB7CiAgYm9vbGVhbiBmb3VuZCA9
IGZhbHNlOwoKICBpZiAoYXJyYXkgIT0gbnVsbCkgewogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBh
cnJheS5sZW5ndGg7IGkrKykgewogICAgICBmb3VuZCA9IHR1bmRyYS5vYmplY3QuZXF1YWwoYXJy
YXlbaV0sIGl0ZW0pOwogICAgICBpZiAoZm91bmQpIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJu
IGZvdW5kOwp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5IHdpdGggdGhlIGdpdmVuIGl0ZW0gaW5z
ZXJ0ZWQgYXQgdGhlIGdpdmVuIGluZGV4CnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBpbnNlcnQoVFtd
IGFycmF5LCBUIGl0ZW0sIFN0cmluZyBpbmRleCwgQ2xhc3M8VD4ga2xhc3MpIHsKICBpZiAoaW5k
ZXggPT0gbnVsbCkgaW5kZXggPSAiLTEiOwogIHJldHVybiBpbnNlcnQoYXJyYXksIGl0ZW0sIElu
dGVnZXIucGFyc2VJbnQoaW5kZXgpLCBrbGFzcyk7Cn0KCi8vIHJldHVybnMgYSBuZXcgYXJyYXkg
d2l0aCB0aGUgZ2l2ZW4gaXRlbSBpbnNlcnRlZCBhdCB0aGUgZ2l2ZW4gaW5kZXgKcHVibGljIHN0
YXRpYyA8VD4gVFtdIGluc2VydChUW10gYXJyYXksIFQgaXRlbSwgaW50IGluZGV4LCBDbGFzczxU
PiBrbGFzcykgewogIGlmIChhcnJheSA9PSBudWxsKSBhcnJheSA9IChUW10pamF2YS5sYW5nLnJl
ZmxlY3QuQXJyYXkubmV3SW5zdGFuY2Uoa2xhc3MsIDApOwoKICBqYXZhLnV0aWwuQXJyYXlMaXN0
PFQ+IGxpc3QgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxUPihqYXZhLnV0aWwuQXJyYXlzLmFz
TGlzdChhcnJheSkpOwoKICBpbnQgY2FwYWNpdHkgPSAwOwogIGlmIChpbmRleCA8IDApIGluZGV4
ICs9IGxpc3Quc2l6ZSgpICsgMTsKICBpZiAoaW5kZXggPCAwKSB7CiAgICBjYXBhY2l0eSA9IChp
bmRleCAqIC0xKSArIGxpc3Quc2l6ZSgpOwogICAgaW5kZXggPSAwOwogIH0gZWxzZSB7CiAgICBj
YXBhY2l0eSA9IGluZGV4OwogIH0KCiAgbGlzdC5lbnN1cmVDYXBhY2l0eShjYXBhY2l0eSk7CiAg
aWYgKGNhcGFjaXR5ID49IGxpc3Quc2l6ZSgpKSB7CiAgICAvLyBmaWxsIHRoZSBsaXN0IHdpdGgg
bnVsbHMgaWYgaXQgbmVlZHMgdG8gYmUgZXh0ZW5kZWQKICAgIGZvciAoaW50IGkgPSBsaXN0LnNp
emUoKTsgaSA8IGNhcGFjaXR5OyBpKyspIHsKICAgICAgbGlzdC5hZGQoaSwgbnVsbCk7CiAgICB9
CiAgfQogIGxpc3QuYWRkKGluZGV4LCBpdGVtKTsKICAKICByZXR1cm4gbGlzdC50b0FycmF5KGFy
cmF5KTsKfQoKLy8gcmV0dXJucyBhIG5ldyBhcnJheSwgd2l0aCB0aGUgZ2l2ZW4gZWxlbWVudCBp
bnNlcnRlZCBhdCB0aGUgZ2l2ZW4gaW5kZXgKcHVibGljIHN0YXRpYyA8VD4gdm9pZCBpbnNlcnQo
SURhdGEgcGlwZWxpbmUsIENsYXNzPFQ+IGtsYXNzKSB7CiAgSURhdGFDdXJzb3IgY3Vyc29yID0g
cGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgogIHRyeSB7CiAgICBUW10gbGlzdCA9IChUW10pSURhdGFV
dGlsLmdldE9iamVjdEFycmF5KGN1cnNvciwgIiRsaXN0Iik7CiAgICBUIGl0ZW0gPSAoVClJRGF0
YVV0aWwuZ2V0KGN1cnNvciwgIiRpdGVtIik7CiAgICBTdHJpbmcgaW5kZXggPSBJRGF0YVV0aWwu
Z2V0U3RyaW5nKGN1cnNvciwgIiRpbmRleCIpOwoKICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAi
JGxpc3QiLCBpbnNlcnQobGlzdCA9PSBudWxsID8gbnVsbCA6IGphdmEudXRpbC5BcnJheXMuY29w
eU9mKGxpc3QsIGxpc3QubGVuZ3RoLCAoQ2xhc3M8VFtdPilqYXZhLmxhbmcucmVmbGVjdC5BcnJh
eS5uZXdJbnN0YW5jZShrbGFzcywgMCkuZ2V0Q2xhc3MoKSksIGl0ZW0sIGluZGV4LCBrbGFzcykp
OwogIH0gZmluYWxseSB7CiAgICBjdXJzb3IuZGVzdHJveSgpOwogIH0KfQoKLy8gcmV0dXJucyBv
bmx5IHRoZSBpdGVtcyBpbiB4IHRoYXQgYXJlIGFsc28gaW4geQpwdWJsaWMgc3RhdGljIDxUPiBU
W10gaW50ZXJzZWN0aW9uKFRbXSB4LCBUW10geSkgewogIGlmICh4ID09IG51bGwgfHwgeSA9PSBu
dWxsKSByZXR1cm4gbnVsbDsKCiAgamF2YS51dGlsLkxpc3Q8VD4gZCA9IG5ldyBqYXZhLnV0aWwu
QXJyYXlMaXN0PFQ+KHgubGVuZ3RoKTsKICBkLmFkZEFsbChqYXZhLnV0aWwuQXJyYXlzLmFzTGlz
dCh4KSk7CiAgZC5yZXRhaW5BbGwoamF2YS51dGlsLkFycmF5cy5hc0xpc3QoeSkpOwogIAogIHJl
dHVybiBkLnRvQXJyYXkoamF2YS51dGlsLkFycmF5cy5jb3B5T2YoeCwgMCkpOwp9CgovLyByZXR1
cm5zIGEgc3RyaW5nIGNyZWF0ZWQgYnkgY29uY2F0ZW5hdGluZyBlYWNoIGVsZW1lbnQgb2YgdGhl
IGdpdmVuIGFycmF5LCBzZXBhcmF0ZWQgYnkgdGhlIGdpdmVuIHNlcGFyYXRvciBzdHJpbmcKcHVi
bGljIHN0YXRpYyA8VD4gU3RyaW5nIGpvaW4oVFtdIGFycmF5LCBTdHJpbmcgc2VwYXJhdG9yKSB7
CiAgU3RyaW5nQnVpbGRlciBidWlsZGVyID0gbmV3IFN0cmluZ0J1aWxkZXIoKTsKICAKICBpZiAo
YXJyYXkgIT0gbnVsbCkgewogICAgZm9yIChpbnQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkr
KykgewogICAgICBUIHZhbHVlID0gYXJyYXlbaV07CiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSBi
dWlsZGVyLmFwcGVuZCh2YWx1ZS50b1N0cmluZygpKTsKICAgICAgaWYgKHNlcGFyYXRvciAhPSBu
dWxsICYmIGkgPCBhcnJheS5sZW5ndGggLSAxKSBidWlsZGVyLmFwcGVuZChzZXBhcmF0b3IpOwog
ICAgfQogIH0KICAKICByZXR1cm4gYnVpbGRlci50b1N0cmluZygpOwp9CgovLyByZXR1cm5zIHRo
ZSBsZW5ndGggb2YgdGhlIGdpdmVuIGFycmF5CnB1YmxpYyBzdGF0aWMgPFQ+IGludCBsZW5ndGgo
VFtdIGFycmF5KSB7CiAgcmV0dXJuIChhcnJheSA9PSBudWxsPyAwIDogYXJyYXkubGVuZ3RoKTsK
fQoKLy8gbWFwcyB0aGUgZ2l2ZW4gYXJyYXkgdG8gYSBuZXcgYXJyYXkgYnkgaW52b2tpbmcgYSBz
ZXJ2aWNlIGZvciBlYWNoIGVsZW1lbnQgYW5kIGNvbGxlY3RpbmcgdGhlIG91dHB1dApwdWJsaWMg
c3RhdGljIDxUPiB2b2lkIG1hcChJRGF0YSBwaXBlbGluZSwgQ2xhc3M8VD4ga2xhc3MpIHRocm93
cyBTZXJ2aWNlRXhjZXB0aW9uIHsKICBJRGF0YUN1cnNvciBjdXJzb3IgPSBwaXBlbGluZS5nZXRD
dXJzb3IoKTsKCiAgdHJ5IHsKICAgIE9iamVjdFtdIGxpc3QgPSBJRGF0YVV0aWwuZ2V0T2JqZWN0
QXJyYXkoY3Vyc29yLCAiJGxpc3QiKTsKICAgIFN0cmluZyBzZXJ2aWNlID0gSURhdGFVdGlsLmdl
dFN0cmluZyhjdXJzb3IsICIkc2VydmljZSIpOwogICAgSURhdGEgc2NvcGUgPSBJRGF0YVV0aWwu
Z2V0SURhdGEoY3Vyc29yLCAiJHBpcGVsaW5lIik7CiAgICBTdHJpbmcgaW5wdXQgPSBJRGF0YVV0
aWwuZ2V0U3RyaW5nKGN1cnNvciwgIiRpdGVtLmlucHV0Iik7CiAgICBTdHJpbmcgb3V0cHV0ID0g
SURhdGFVdGlsLmdldFN0cmluZyhjdXJzb3IsICIkaXRlbS5vdXRwdXQiKTsKCiAgICBib29sZWFu
IHNjb3BlZCA9IHNjb3BlICE9IG51bGw7CgogICAgLy8gaW52b2tlIHRoZSBzZXJ2aWNlIGZvciBl
YWNoIGl0ZW0gaW4gdGhlIGxpc3QsIHBhc3NpbmcgJGl0ZW0gYW5kICRpbmRleCB2YXJpYWJsZXMg
b24gZWFjaCBpbnZvY2F0aW9uCiAgICAvLyBhbmQgY29sbGVjdCB0aGUgcmV0dXJuZWQgJGl0ZW0n
cyBpbnRvIGEgbmV3IGxpc3QKICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCAiJGxpc3QiLCBtYXAo
bGlzdCA9PSBudWxsID8gbnVsbCA6IGphdmEudXRpbC5BcnJheXMuY29weU9mKGxpc3QsIGxpc3Qu
bGVuZ3RoLCAoQ2xhc3M8VFtdPilqYXZhLmxhbmcucmVmbGVjdC5BcnJheS5uZXdJbnN0YW5jZShr
bGFzcywgMCkuZ2V0Q2xhc3MoKSksIHNlcnZpY2UsIHNjb3BlZCA/IHNjb3BlIDogcGlwZWxpbmUs
IGlucHV0LCBvdXRwdXQpKTsKICB9IGZpbmFsbHkgewogICAgY3Vyc29yLmRlc3Ryb3koKTsKICB9
Cn0KCi8vIG1hcHMgdGhlIGdpdmVuIGFycmF5IHRvIGEgbmV3IGFycmF5IGJ5IGludm9raW5nIGEg
c2VydmljZSBmb3IgZWFjaCBlbGVtZW50IGFuZCBjb2xsZWN0aW5nIHRoZSBvdXRwdXQKcHVibGlj
IHN0YXRpYyA8VD4gVFtdIG1hcChUW10gYXJyYXksIFN0cmluZyBzZXJ2aWNlLCBJRGF0YSBwaXBl
bGluZSwgU3RyaW5nIGlucHV0LCBTdHJpbmcgb3V0cHV0KSB0aHJvd3MgU2VydmljZUV4Y2VwdGlv
biB7CiAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoID09IDAgfHwgc2VydmljZSA9
PSBudWxsKSByZXR1cm4gYXJyYXk7CiAgaWYgKHBpcGVsaW5lID09IG51bGwpIHBpcGVsaW5lID0g
SURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogIGlmIChpbnB1dCA9PSBudWxsKSBpbnB1dCA9ICIkaXRl
bSI7CiAgaWYgKG91dHB1dCA9PSBudWxsKSBvdXRwdXQgPSBpbnB1dDsKICAgCiAgamF2YS51dGls
Lkxpc3Q8VD4gbGlzdCA9IG5ldyBqYXZhLnV0aWwuQXJyYXlMaXN0PFQ+KGFycmF5Lmxlbmd0aCk7
CiAgSURhdGFDdXJzb3IgY3Vyc29yID0gbnVsbDsKICAKICBmb3IgKGludCBpID0gMDsgaSA8IGFy
cmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAvLyBhZGQgJGl0ZW0sICRpbmRleCwgJGl0ZXJhdGlvbiBh
bmQgJGxlbmd0aCB2YXJpYWJsZXMgdG8gdGhlIGlucHV0IHBpcGVsaW5lCiAgICBjdXJzb3IgPSBw
aXBlbGluZS5nZXRDdXJzb3IoKTsKICAgIElEYXRhVXRpbC5wdXQoY3Vyc29yLCBpbnB1dCwgYXJy
YXlbaV0pOwogICAgSURhdGFVdGlsLnB1dChjdXJzb3IsICIkaW5kZXgiLCAiIiArIGkpOwogICAg
SURhdGFVdGlsLnB1dChjdXJzb3IsICIkaXRlcmF0aW9uIiwgIiIgKyAoaSArIDEpKTsKICAgIElE
YXRhVXRpbC5wdXQoY3Vyc29yLCAiJGxlbmd0aCIsICIiICsgYXJyYXkubGVuZ3RoKTsKICAgIGN1
cnNvci5kZXN0cm95KCk7CgogICAgLy8gaW52b2tlIHRoZSBpdGVyYXRvciBzZXJ2aWNlCiAgICBw
aXBlbGluZSA9IHR1bmRyYS5zZXJ2aWNlLmludm9rZShzZXJ2aWNlLCBwaXBlbGluZSk7CgogICAg
Ly8gY2xlYW4gdXAgdGhlIGlucHV0IHBpcGVsaW5lCiAgICBjdXJzb3IgPSBwaXBlbGluZS5nZXRD
dXJzb3IoKTsKICAgIFQgaXRlbSA9IChUKUlEYXRhVXRpbC5nZXQoY3Vyc29yLCBvdXRwdXQpOwog
ICAgSURhdGFVdGlsLnJlbW92ZShjdXJzb3IsIGlucHV0KTsKICAgIElEYXRhVXRpbC5yZW1vdmUo
Y3Vyc29yLCBvdXRwdXQpOwogICAgSURhdGFVdGlsLnJlbW92ZShjdXJzb3IsICIkaW5kZXgiKTsK
ICAgIElEYXRhVXRpbC5yZW1vdmUoY3Vyc29yLCAiJGl0ZXJhdGlvbiIpOwogICAgSURhdGFVdGls
LnJlbW92ZShjdXJzb3IsICIkbGVuZ3RoIik7CiAgICBjdXJzb3IuZGVzdHJveSgpOwogICAgCiAg
ICAvLyBjb2xsZWN0IHRoZSBtYXBwZWQgaXRlbXMKICAgIGxpc3QuYWRkKGl0ZW0pOwogIH0KICAK
ICByZXR1cm4gbGlzdC50b0FycmF5KGphdmEudXRpbC5BcnJheXMuY29weU9mKGFycmF5LCAwKSk7
Cn0KCi8vIHJldHVybnMgYSBuZXcgYXJyYXkgd2l0aCBhIG5ldyBlbGVtZW50IGluc2VydGVkIGF0
IHRoZSBiZWdpbm5pbmcKcHVibGljIHN0YXRpYyA8VD4gVFtdIHByZXBlbmQoVFtdIGFycmF5LCBU
IGl0ZW0sIENsYXNzPFQ+IGtsYXNzKSB7CiAgcmV0dXJuIGluc2VydChhcnJheSwgaXRlbSwgMCwg
a2xhc3MpOwp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5LCB3aXRoIHRoZSBnaXZlbiBlbGVtZW50
IGluc2VydGVkIGF0IHRoZSBlbmQKcHVibGljIHN0YXRpYyA8VD4gdm9pZCBwcmVwZW5kKElEYXRh
IHBpcGVsaW5lLCBDbGFzczxUPiBrbGFzcykgewogIElEYXRhQ3Vyc29yIGN1cnNvciA9IHBpcGVs
aW5lLmdldEN1cnNvcigpOwoKICB0cnkgewogICAgVFtdIGxpc3QgPSAoVFtdKUlEYXRhVXRpbC5n
ZXRPYmplY3RBcnJheShjdXJzb3IsICIkbGlzdCIpOwogICAgVCBpdGVtID0gKFQpSURhdGFVdGls
LmdldChjdXJzb3IsICIkaXRlbSIpOwoKICAgIGxpc3QgPSBwcmVwZW5kKGxpc3QgPT0gbnVsbCA/
IG51bGwgOiBqYXZhLnV0aWwuQXJyYXlzLmNvcHlPZihsaXN0LCBsaXN0Lmxlbmd0aCwgKENsYXNz
PFRbXT4pamF2YS5sYW5nLnJlZmxlY3QuQXJyYXkubmV3SW5zdGFuY2Uoa2xhc3MsIDApLmdldENs
YXNzKCkpLCBpdGVtLCBrbGFzcyk7CgogICAgaWYgKGxpc3QgIT0gbnVsbCkgSURhdGFVdGlsLnB1
dChjdXJzb3IsICIkbGlzdCIsIGxpc3QpOwogIH0gZmluYWxseSB7CiAgICBjdXJzb3IuZGVzdHJv
eSgpOwogIH0KfQoKLy8gc2V0cyB0aGUgZWxlbWVudCBmcm9tIHRoZSBnaXZlbiBhcnJheSBhdCB0
aGUgZ2l2ZW4gaW5kZXggKHN1cHBvcnRzIHJ1Ynktc3R5bGUgcmV2ZXJzZSBpbmRleGluZykKcHVi
bGljIHN0YXRpYyA8VD4gVFtdIHB1dChUW10gYXJyYXksIFQgaXRlbSwgU3RyaW5nIGluZGV4LCBD
bGFzczxUPiBrbGFzcykgewogIHJldHVybiBwdXQoYXJyYXksIGl0ZW0sIEludGVnZXIucGFyc2VJ
bnQoaW5kZXgpLCBrbGFzcyk7Cn0KCi8vIHNldHMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgZ2l2ZW4g
YXJyYXkgYXQgdGhlIGdpdmVuIGluZGV4IChzdXBwb3J0cyBydWJ5LXN0eWxlIHJldmVyc2UgaW5k
ZXhpbmcpCnB1YmxpYyBzdGF0aWMgPFQ+IFRbXSBwdXQoVFtdIGFycmF5LCBUIGl0ZW0sIGludCBp
bmRleCwgQ2xhc3M8VD4ga2xhc3MpIHsKICBpZiAoYXJyYXkgPT0gbnVsbCkgYXJyYXkgPSAoVFtd
KWphdmEubGFuZy5yZWZsZWN0LkFycmF5Lm5ld0luc3RhbmNlKGtsYXNzLCAwKTsKCiAgLy8gc3Vw
cG9ydCByZXZlcnNlL3RhaWwgaW5kZXhpbmcKICBpZiAoaW5kZXggPCAwKSBpbmRleCArPSBhcnJh
eS5sZW5ndGg7CiAgaW50IGNhcGFjaXR5ID0gMDsKICBpZiAoaW5kZXggPCAwKSB7CiAgICBjYXBh
Y2l0eSA9IChpbmRleCAqIC0xKSArIGFycmF5Lmxlbmd0aDsKICAgIGluZGV4ID0gMDsKICB9IGVs
c2UgewogICAgY2FwYWNpdHkgPSBpbmRleCArIDE7CiAgfQogIGlmIChjYXBhY2l0eSA+IGFycmF5
Lmxlbmd0aCkgYXJyYXkgPSBqYXZhLnV0aWwuQXJyYXlzLmNvcHlPZihhcnJheSwgY2FwYWNpdHkp
OwoKICBhcnJheVtpbmRleF0gPSBpdGVtOwoKICByZXR1cm4gYXJyYXk7Cn0KCi8vIHNldHMgdGhl
IGVsZW1lbnQgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkgYXQgdGhlIGdpdmVuIGluZGV4IChzdXBwb3J0
cyBydWJ5LXN0eWxlIHJldmVyc2UgaW5kZXhpbmcpCnB1YmxpYyBzdGF0aWMgPFQ+IHZvaWQgcHV0
KElEYXRhIHBpcGVsaW5lLCBDbGFzczxUPiBrbGFzcykgewogIElEYXRhQ3Vyc29yIGN1cnNvciA9
IHBpcGVsaW5lLmdldEN1cnNvcigpOwoKICB0cnkgewogICAgVFtdIGxpc3QgPSAoVFtdKUlEYXRh
VXRpbC5nZXRPYmplY3RBcnJheShjdXJzb3IsICIkbGlzdCIpOwogICAgVCBpdGVtID0gKFQpSURh
dGFVdGlsLmdldChjdXJzb3IsICIkaXRlbSIpOwogICAgU3RyaW5nIGluZGV4ID0gSURhdGFVdGls
LmdldFN0cmluZyhjdXJzb3IsICIkaW5kZXgiKTsKCiAgICBJRGF0YVV0aWwucHV0KGN1cnNvciwg
IiRsaXN0IiwgcHV0KGxpc3QgPT0gbnVsbCA/IG51bGwgOiBqYXZhLnV0aWwuQXJyYXlzLmNvcHlP
ZihsaXN0LCBsaXN0Lmxlbmd0aCwgKENsYXNzPFRbXT4pamF2YS5sYW5nLnJlZmxlY3QuQXJyYXku
bmV3SW5zdGFuY2Uoa2xhc3MsIDApLmdldENsYXNzKCkpLCBpdGVtLCBpbmRleCwga2xhc3MpKTsK
ICB9IGZpbmFsbHkgewogICAgY3Vyc29yLmRlc3Ryb3koKTsKICB9Cn0KCi8vIHJldHVybnMgYSBu
ZXcgYXJyYXkgd2l0aCBhbGwgZWxlbWVudHMgZnJvbSB0aGUgZ2l2ZW4gYXJyYXkgYnV0IGluIHJl
dmVyc2Ugb3JkZXIKcHVibGljIHN0YXRpYyA8VD4gVFtdIHJldmVyc2UoVFtdIGFycmF5KSB7CiAg
aWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3RoIDw9IDEpIHJldHVybiBhcnJheTsKICAK
ICBqYXZhLnV0aWwuQXJyYXlMaXN0PFQ+IGxpc3QgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxU
PihqYXZhLnV0aWwuQXJyYXlzLmFzTGlzdChhcnJheSkpOwogIGphdmEudXRpbC5Db2xsZWN0aW9u
cy5yZXZlcnNlKGxpc3QpOwogIAogIHJldHVybiBsaXN0LnRvQXJyYXkoamF2YS51dGlsLkFycmF5
cy5jb3B5T2YoYXJyYXksIDApKTsgIAp9CgovLyByZXR1cm5zIGEgbmV3IGFycmF5IHdoaWNoIGlz
IGEgc3Vic2V0IG9mIGVsZW1lbnRzIGZyb20gdGhlIGdpdmVuIGFycmF5CnB1YmxpYyBzdGF0aWMg
PFQ+IFRbXSBzbGljZShUW10gYXJyYXksIFN0cmluZyBpbmRleCwgU3RyaW5nIGxlbmd0aCkgewog
IHJldHVybiBzbGljZShhcnJheSwgaW5kZXggPT0gbnVsbCA/IDAgOiBJbnRlZ2VyLnBhcnNlSW50
KGluZGV4KSwgbGVuZ3RoID09IG51bGwgPyAoYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5n
dGgpIDogSW50ZWdlci5wYXJzZUludChsZW5ndGgpKTsKfQoKLy8gcmV0dXJucyBhIG5ldyBhcnJh
eSB3aGljaCBpcyBhIHN1YnNldCBvZiBlbGVtZW50cyBmcm9tIHRoZSBnaXZlbiBhcnJheQpwdWJs
aWMgc3RhdGljIDxUPiBUW10gc2xpY2UoVFtdIGFycmF5LCBpbnQgaW5kZXgsIGludCBsZW5ndGgp
IHsKICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPT0gMCkgcmV0dXJuIGFycmF5
OwogIC8vIHN1cHBvcnQgcmV2ZXJzZS90YWlsIGxlbmd0aAogIGlmIChsZW5ndGggPCAwKSBsZW5n
dGggPSBhcnJheS5sZW5ndGggKyBsZW5ndGg7CiAgLy8gc3VwcG9ydCByZXZlcnNlL3RhaWwgaW5k
ZXhpbmcKICBpZiAoaW5kZXggPCAwKSBpbmRleCArPSBhcnJheS5sZW5ndGg7CiAgLy8gZG9uJ3Qg
c2xpY2UgcGFzdCB0aGUgZW5kIG9mIHRoZSBhcnJheQogIGlmICgobGVuZ3RoICs9IGluZGV4KSA+
IGFycmF5Lmxlbmd0aCkgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOwogIAogIHJldHVybiBqYXZhLnV0
aWwuQXJyYXlzLmNvcHlPZlJhbmdlKGFycmF5LCBpbmRleCwgbGVuZ3RoKTsKfQoKLy8gcmV0dXJu
cyBhIG5ldyBhcnJheSB3aXRoIGFsbCBlbGVtZW50cyBzb3J0ZWQKcHVibGljIHN0YXRpYyA8VD4g
VFtdIHNvcnQoVFtdIGFycmF5KSB7CiAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJyYXkubGVuZ3Ro
IDw9IDEpIHJldHVybiBhcnJheTsKICAKICBUW10gY29weSA9IGphdmEudXRpbC5BcnJheXMuY29w
eU9mKGFycmF5LCBhcnJheS5sZW5ndGgpOwogIGphdmEudXRpbC5BcnJheXMuc29ydChjb3B5KTsK
ICByZXR1cm4gY29weTsKfQoKLy8gcmV0dXJucyBhIG5ldyBhcnJheSB3aXRoIGFsbCBzdHJpbmcg
aXRlbXMgdHJpbW1lZCwgYWxsCi8vIGVtcHR5IHN0cmluZyBpdGVtcyByZW1vdmVkLCBhbmQgYWxs
IG51bGwgaXRlbXMgcmVtb3ZlZApwdWJsaWMgc3RhdGljIDxUPiBUW10gc3F1ZWV6ZShUW10gYXJy
YXkpIHsKICBpZiAoYXJyYXkgPT0gbnVsbCB8fCBhcnJheS5sZW5ndGggPT0gMCkgcmV0dXJuIG51
bGw7CgogIGphdmEudXRpbC5MaXN0PFQ+IGxpc3QgPSBuZXcgamF2YS51dGlsLkFycmF5TGlzdDxU
PihhcnJheS5sZW5ndGgpOwoKICBmb3IgKGludCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsr
KSB7CiAgICBpZiAoYXJyYXlbaV0gIT0gbnVsbCAmJiBhcnJheVtpXSBpbnN0YW5jZW9mIFN0cmlu
ZykgewogICAgICBUIGl0ZW0gPSAoVCkoKFN0cmluZylhcnJheVtpXSkudHJpbSgpOwogICAgICBp
ZiAoaXRlbS5lcXVhbHMoIiIpKSB7CiAgICAgICAgYXJyYXlbaV0gPSBudWxsOwogICAgICB9IGVs
c2UgewogICAgICAgIGFycmF5W2ldID0gaXRlbTsKICAgICAgfQogICAgfQogICAgaWYgKGFycmF5
W2ldICE9IG51bGwpIGxpc3QuYWRkKGFycmF5W2ldKTsKICB9CgogIGFycmF5ID0gbGlzdC50b0Fy
cmF5KGphdmEudXRpbC5BcnJheXMuY29weU9mKGFycmF5LCAwKSk7CiAgaWYgKGFycmF5Lmxlbmd0
aCA9PSAwKSBhcnJheSA9IG51bGw7CiAgCiAgcmV0dXJuIGFycmF5Owp9CgovLyByZXR1cm5zIGEg
bmV3IGFycmF5IHdpdGggYWxsIGR1cGxpY2F0ZSBlbGVtZW50cyByZW1vdmVkCnB1YmxpYyBzdGF0
aWMgPFQ+IFRbXSB1bmlxdWUoVFtdIGFycmF5KSB7CiAgaWYgKGFycmF5ID09IG51bGwgfHwgYXJy
YXkubGVuZ3RoIDw9IDEpIHJldHVybiBhcnJheTsKICAKICBqYXZhLnV0aWwuU2V0PFQ+IHNldCA9
IG5ldyBqYXZhLnV0aWwuVHJlZVNldDxUPihqYXZhLnV0aWwuQXJyYXlzLmFzTGlzdChhcnJheSkp
OwogIAogIHJldHVybiBzZXQudG9BcnJheShqYXZhLnV0aWwuQXJyYXlzLmNvcHlPZihhcnJheSwg
MCkpOwp9</value>
  <value name="encodeutf8">true</value>
  <value name="extends"></value>
  <array name="implements" type="value" depth="1">
  </array>
  <array name="imports" type="value" depth="1">
  </array>
</Values>
